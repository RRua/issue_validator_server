diff --git a/app/src/main/java/ch/bailu/aat/App.java b/app/src/main/java/ch/bailu/aat/App.java
index f0de1101..fee1fd5c 100644
--- a/app/src/main/java/ch/bailu/aat/App.java
+++ b/app/src/main/java/ch/bailu/aat/App.java
@@ -5,7 +5,7 @@ import android.app.Application;
 import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
 import org.mapsforge.map.model.DisplayModel;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class App extends Application {
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/AbsActivity.java b/app/src/main/java/ch/bailu/aat/activities/AbsActivity.java
index 10deffe9..6edc9f03 100644
--- a/app/src/main/java/ch/bailu/aat/activities/AbsActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/AbsActivity.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.activities;
 import android.app.Activity;
 import android.os.Bundle;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.preferences.PreferenceLoadDefaults;
 
 public abstract class AbsActivity extends Activity {
diff --git a/app/src/main/java/ch/bailu/aat/activities/AbsFileContentActivity.java b/app/src/main/java/ch/bailu/aat/activities/AbsFileContentActivity.java
index 132dfa40..222cb029 100644
--- a/app/src/main/java/ch/bailu/aat/activities/AbsFileContentActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/AbsFileContentActivity.java
@@ -15,8 +15,8 @@ import ch.bailu.aat.dispatcher.IteratorSource;
 import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.dispatcher.TrackerSource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppLayout;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.ui.AppLayout;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.menus.FileMenu;
 import ch.bailu.aat.services.editor.EditorHelper;
 import ch.bailu.aat.views.BusyButton;
@@ -24,7 +24,7 @@ import ch.bailu.aat.views.ContentView;
 import ch.bailu.aat.views.ControlBar;
 import ch.bailu.aat.views.MainControlBar;
 import ch.bailu.aat.views.description.MultiView;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public abstract class AbsFileContentActivity extends AbsDispatcher implements OnClickListener {
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/AbsGpxListActivity.java b/app/src/main/java/ch/bailu/aat/activities/AbsGpxListActivity.java
index 737126e0..daa1f18c 100644
--- a/app/src/main/java/ch/bailu/aat/activities/AbsGpxListActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/AbsGpxListActivity.java
@@ -29,9 +29,9 @@ import ch.bailu.aat.views.DbSynchronizerBusyIndicator;
 import ch.bailu.aat.views.GpxListView;
 import ch.bailu.aat.views.MainControlBar;
 import ch.bailu.aat.views.description.MultiView;
-import ch.bailu.aat.views.map.MapFactory;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.control.FileControlBar;
+import ch.bailu.aat.map.osm.MapFactory;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.control.FileControlBar;
 import ch.bailu.aat.views.preferences.SolidDirectoryMenuButton;
 import ch.bailu.aat.views.preferences.TitleView;
 import ch.bailu.aat.views.preferences.VerticalScrollView;
diff --git a/app/src/main/java/ch/bailu/aat/activities/AbsOsmApiActivity.java b/app/src/main/java/ch/bailu/aat/activities/AbsOsmApiActivity.java
index 0673f907..7d7beaac 100644
--- a/app/src/main/java/ch/bailu/aat/activities/AbsOsmApiActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/AbsOsmApiActivity.java
@@ -19,13 +19,13 @@ import java.io.IOException;
 import ch.bailu.aat.R;
 import ch.bailu.aat.dispatcher.CustomFileSource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AbsTextBackup;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.OsmApiHelper;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.TextBackup;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.OsmApiHelper;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.services.background.BackgroundService;
 import ch.bailu.aat.services.background.DownloadHandle;
 import ch.bailu.aat.services.background.ProcessHandle;
@@ -243,7 +243,7 @@ public abstract class AbsOsmApiActivity extends AbsDispatcher implements OnClick
 
 
     private File getOverlayFile() throws IOException {
-        final String query = AbsTextBackup.read(osmApi.getQueryFile());
+        final String query = TextBackup.read(osmApi.getQueryFile());
         final String prefix = OsmApiHelper.getFilePrefix(query);
         final String extension = osmApi.getFileExtension();
         final File directory = AppDirectory.getDataDirectory(this, AppDirectory.DIR_OVERLAY);
@@ -276,7 +276,7 @@ public abstract class AbsOsmApiActivity extends AbsDispatcher implements OnClick
             long r=super.bgOnProcess();
             if (r>0) {
                 try {
-                    AbsTextBackup.write(queryFile, queryString);
+                    TextBackup.write(queryFile, queryString);
                 } catch (IOException e) {
                     e.printStackTrace();
                 }
diff --git a/app/src/main/java/ch/bailu/aat/activities/ActivitySwitcher.java b/app/src/main/java/ch/bailu/aat/activities/ActivitySwitcher.java
index 64e36c6b..a4b764d2 100644
--- a/app/src/main/java/ch/bailu/aat/activities/ActivitySwitcher.java
+++ b/app/src/main/java/ch/bailu/aat/activities/ActivitySwitcher.java
@@ -11,7 +11,7 @@ import java.io.File;
 
 import ch.bailu.aat.BuildConfig;
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppIntent;
 
 public class ActivitySwitcher {
     public final static ActivitySwitcher list[] = {
diff --git a/app/src/main/java/ch/bailu/aat/activities/FileContentActivity.java b/app/src/main/java/ch/bailu/aat/activities/FileContentActivity.java
index 32c80713..e3878b53 100644
--- a/app/src/main/java/ch/bailu/aat/activities/FileContentActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/FileContentActivity.java
@@ -21,7 +21,7 @@ import ch.bailu.aat.views.description.MultiView;
 import ch.bailu.aat.views.description.VSplitView;
 import ch.bailu.aat.views.graph.DistanceAltitudeGraphView;
 import ch.bailu.aat.views.graph.DistanceSpeedGraphView;
-import ch.bailu.aat.views.map.MapFactory;
+import ch.bailu.aat.map.osm.MapFactory;
 import ch.bailu.aat.views.preferences.VerticalScrollView;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/GpxEditorActivity.java b/app/src/main/java/ch/bailu/aat/activities/GpxEditorActivity.java
index 7b772068..cbb4175e 100644
--- a/app/src/main/java/ch/bailu/aat/activities/GpxEditorActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/GpxEditorActivity.java
@@ -13,15 +13,15 @@ import ch.bailu.aat.description.TrackSizeDescription;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppDialog;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppDialog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.editor.EditorHelper;
 import ch.bailu.aat.services.editor.EditorInterface;
 import ch.bailu.aat.views.NodeListView;
 import ch.bailu.aat.views.description.MultiView;
 import ch.bailu.aat.views.description.VSplitView;
 import ch.bailu.aat.views.graph.DistanceAltitudeGraphView;
-import ch.bailu.aat.views.map.MapFactory;
+import ch.bailu.aat.map.osm.MapFactory;
 import ch.bailu.aat.views.preferences.VerticalScrollView;
 
 public class GpxEditorActivity extends AbsFileContentActivity
diff --git a/app/src/main/java/ch/bailu/aat/activities/GpxViewActivity.java b/app/src/main/java/ch/bailu/aat/activities/GpxViewActivity.java
index 4e2bc267..2d889cdd 100644
--- a/app/src/main/java/ch/bailu/aat/activities/GpxViewActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/GpxViewActivity.java
@@ -28,9 +28,9 @@ import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.dispatcher.TrackerSource;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppLayout;
-import ch.bailu.aat.helpers.ToolTip;
-import ch.bailu.aat.helpers.file.FileAction;
+import ch.bailu.aat.util.ui.AppLayout;
+import ch.bailu.aat.util.ui.ToolTip;
+import ch.bailu.aat.util.fs.FileAction;
 import ch.bailu.aat.menus.ContentMenu;
 import ch.bailu.aat.views.BusyButton;
 import ch.bailu.aat.views.ContentView;
@@ -40,13 +40,13 @@ import ch.bailu.aat.views.description.MultiView;
 import ch.bailu.aat.views.description.VSplitView;
 import ch.bailu.aat.views.graph.DistanceAltitudeGraphView;
 import ch.bailu.aat.views.graph.DistanceSpeedGraphView;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.CurrentLocationOverlay;
-import ch.bailu.aat.views.map.overlay.control.InformationBarOverlay;
-import ch.bailu.aat.views.map.overlay.control.NavigationBarOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxDynOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxOverlayListOverlay;
-import ch.bailu.aat.views.map.overlay.grid.GridDynOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.CurrentLocationOverlay;
+import ch.bailu.aat.map.osm.overlay.control.InformationBarOverlay;
+import ch.bailu.aat.map.osm.overlay.control.NavigationBarOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxDynOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxOverlayListOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.GridDynOverlay;
 import ch.bailu.aat.views.preferences.VerticalScrollView;
 
 public class GpxViewActivity extends AbsDispatcher
diff --git a/app/src/main/java/ch/bailu/aat/activities/HtmlViewActivity.java b/app/src/main/java/ch/bailu/aat/activities/HtmlViewActivity.java
index 9096c9dd..00b4f34c 100644
--- a/app/src/main/java/ch/bailu/aat/activities/HtmlViewActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/HtmlViewActivity.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.activities;
 import android.content.Intent;
 import android.os.Bundle;
 
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.views.ContentView;
 import ch.bailu.aat.views.HtmlScrollTextView;
 import ch.bailu.aat.views.MainControlBar;
diff --git a/app/src/main/java/ch/bailu/aat/activities/ImportListActivity.java b/app/src/main/java/ch/bailu/aat/activities/ImportListActivity.java
index ec650b3f..9f7fb1e1 100644
--- a/app/src/main/java/ch/bailu/aat/activities/ImportListActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/ImportListActivity.java
@@ -11,7 +11,7 @@ import ch.bailu.aat.description.DistanceDescription;
 import ch.bailu.aat.description.NameDescription;
 import ch.bailu.aat.description.PathDescription;
 import ch.bailu.aat.description.TrackSizeDescription;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 
 public class ImportListActivity extends AbsGpxListActivity {
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/MainActivity.java b/app/src/main/java/ch/bailu/aat/activities/MainActivity.java
index eed41718..fc728e24 100644
--- a/app/src/main/java/ch/bailu/aat/activities/MainActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/MainActivity.java
@@ -9,7 +9,7 @@ import android.widget.LinearLayout;
 import ch.bailu.aat.dispatcher.CurrentLocationSource;
 import ch.bailu.aat.dispatcher.TrackerSource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 import ch.bailu.aat.preferences.SolidDataDirectory;
 import ch.bailu.aat.preferences.SolidDirectory;
 import ch.bailu.aat.preferences.SolidPreset;
diff --git a/app/src/main/java/ch/bailu/aat/activities/MapActivity.java b/app/src/main/java/ch/bailu/aat/activities/MapActivity.java
index 9f4b5a52..932cff6a 100644
--- a/app/src/main/java/ch/bailu/aat/activities/MapActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/MapActivity.java
@@ -19,8 +19,8 @@ import ch.bailu.aat.dispatcher.EditorSource;
 import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.dispatcher.TrackerSource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.editor.EditorHelper;
 import ch.bailu.aat.views.ContentView;
 import ch.bailu.aat.views.ControlBar;
@@ -28,8 +28,8 @@ import ch.bailu.aat.views.MainControlBar;
 import ch.bailu.aat.views.description.GPSStateButton;
 import ch.bailu.aat.views.description.NumberView;
 import ch.bailu.aat.views.description.TrackerStateButton;
-import ch.bailu.aat.views.map.MapFactory;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.MapFactory;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class MapActivity extends AbsDispatcher implements OnClickListener{
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/MapFeatureListActivity.java b/app/src/main/java/ch/bailu/aat/activities/MapFeatureListActivity.java
index efde6b22..f62c06fa 100644
--- a/app/src/main/java/ch/bailu/aat/activities/MapFeatureListActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/MapFeatureListActivity.java
@@ -4,8 +4,8 @@ import android.content.Intent;
 
 import java.io.File;
 
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.views.FeaturesList;
 
 public class MapFeatureListActivity extends AbsDispatcher {
diff --git a/app/src/main/java/ch/bailu/aat/activities/MapFeaturesActivity.java b/app/src/main/java/ch/bailu/aat/activities/MapFeaturesActivity.java
index 93af38fe..d162a518 100644
--- a/app/src/main/java/ch/bailu/aat/activities/MapFeaturesActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/MapFeaturesActivity.java
@@ -9,13 +9,13 @@ import android.view.View.OnClickListener;
 import android.widget.LinearLayout;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDialog;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.ui.AppDialog;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.views.BusyButton;
 import ch.bailu.aat.views.ContentView;
 import ch.bailu.aat.views.ControlBar;
diff --git a/app/src/main/java/ch/bailu/aat/activities/NodeDetailActivity.java b/app/src/main/java/ch/bailu/aat/activities/NodeDetailActivity.java
index 6ded54f0..f4979fb1 100644
--- a/app/src/main/java/ch/bailu/aat/activities/NodeDetailActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/NodeDetailActivity.java
@@ -16,15 +16,15 @@ import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListArray;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppLayout;
-import ch.bailu.aat.helpers.HtmlBuilderGpx;
+import ch.bailu.aat.util.ui.AppLayout;
+import ch.bailu.aat.util.HtmlBuilderGpx;
 import ch.bailu.aat.views.ContentView;
 import ch.bailu.aat.views.ControlBar;
 import ch.bailu.aat.views.HtmlScrollTextView;
 import ch.bailu.aat.views.MainControlBar;
 import ch.bailu.aat.views.description.VSplitView;
-import ch.bailu.aat.views.map.MapFactory;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.MapFactory;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class NodeDetailActivity extends AbsDispatcher
         implements OnClickListener, OnContentUpdatedInterface {
diff --git a/app/src/main/java/ch/bailu/aat/activities/NominatimActivity.java b/app/src/main/java/ch/bailu/aat/activities/NominatimActivity.java
index eb11bc6b..72d9c37d 100644
--- a/app/src/main/java/ch/bailu/aat/activities/NominatimActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/NominatimActivity.java
@@ -4,8 +4,8 @@ import org.osmdroid.util.BoundingBoxOsm;
 
 import java.io.IOException;
 
-import ch.bailu.aat.helpers.NominatimApi;
-import ch.bailu.aat.helpers.OsmApiHelper;
+import ch.bailu.aat.util.NominatimApi;
+import ch.bailu.aat.util.OsmApiHelper;
 import ch.bailu.aat.views.ControlBar;
 
 public class NominatimActivity extends AbsOsmApiActivity {
diff --git a/app/src/main/java/ch/bailu/aat/activities/OverlayListActivity.java b/app/src/main/java/ch/bailu/aat/activities/OverlayListActivity.java
index d0192cca..bfbdb4c4 100644
--- a/app/src/main/java/ch/bailu/aat/activities/OverlayListActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/OverlayListActivity.java
@@ -11,7 +11,7 @@ import ch.bailu.aat.description.DistanceDescription;
 import ch.bailu.aat.description.NameDescription;
 import ch.bailu.aat.description.PathDescription;
 import ch.bailu.aat.description.TrackSizeDescription;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 
 
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/OverpassActivity.java b/app/src/main/java/ch/bailu/aat/activities/OverpassActivity.java
index e869df40..c9543abf 100644
--- a/app/src/main/java/ch/bailu/aat/activities/OverpassActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/OverpassActivity.java
@@ -7,9 +7,9 @@ import org.osmdroid.util.BoundingBoxOsm;
 import java.io.IOException;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.OsmApiHelper;
-import ch.bailu.aat.helpers.OverpassApi;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.OsmApiHelper;
+import ch.bailu.aat.util.OverpassApi;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.views.ControlBar;
 
 public class OverpassActivity extends AbsOsmApiActivity  {
diff --git a/app/src/main/java/ch/bailu/aat/activities/SplitViewActivity.java b/app/src/main/java/ch/bailu/aat/activities/SplitViewActivity.java
index b5cd9312..ea2d6817 100644
--- a/app/src/main/java/ch/bailu/aat/activities/SplitViewActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/SplitViewActivity.java
@@ -20,7 +20,7 @@ import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.dispatcher.TrackerSource;
 import ch.bailu.aat.dispatcher.TrackerTimerSource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppLayout;
+import ch.bailu.aat.util.ui.AppLayout;
 import ch.bailu.aat.services.editor.EditorHelper;
 import ch.bailu.aat.views.ControlBar;
 import ch.bailu.aat.views.MainControlBar;
@@ -29,8 +29,8 @@ import ch.bailu.aat.views.description.MultiView;
 import ch.bailu.aat.views.description.TrackerStateButton;
 import ch.bailu.aat.views.graph.DistanceAltitudeGraphView;
 import ch.bailu.aat.views.graph.DistanceSpeedGraphView;
-import ch.bailu.aat.views.map.MapFactory;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.MapFactory;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class SplitViewActivity extends AbsDispatcher implements OnClickListener{
     private static final String SOLID_KEY="split";
diff --git a/app/src/main/java/ch/bailu/aat/activities/TestActivity.java b/app/src/main/java/ch/bailu/aat/activities/TestActivity.java
index 40b43527..e10b30f4 100644
--- a/app/src/main/java/ch/bailu/aat/activities/TestActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/TestActivity.java
@@ -5,7 +5,16 @@ import android.os.Bundle;
 import android.view.View;
 import android.widget.LinearLayout;
 
-import org.mapsforge.core.model.LatLong;
+import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
+import org.mapsforge.map.android.util.AndroidUtil;
+import org.mapsforge.map.datastore.MapDataStore;
+import org.mapsforge.map.layer.cache.TileCache;
+import org.mapsforge.map.layer.renderer.TileRendererLayer;
+import org.mapsforge.map.reader.MapFile;
+import org.mapsforge.map.rendertheme.InternalRenderTheme;
+import org.mapsforge.map.view.MapView;
+
+import java.io.File;
 
 import ch.bailu.aat.R;
 import ch.bailu.aat.description.AccelerationDescription;
@@ -34,19 +43,18 @@ import ch.bailu.aat.dispatcher.CurrentLocationSource;
 import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.dispatcher.TrackerSource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.mapsforge.MapsForgeView;
-import ch.bailu.aat.mapsforge.layer.CurrentLocationLayer;
-import ch.bailu.aat.mapsforge.layer.Dem3NameLayer;
-import ch.bailu.aat.mapsforge.layer.ZoomLevel;
-import ch.bailu.aat.mapsforge.layer.control.InformationBar;
-import ch.bailu.aat.mapsforge.layer.control.NavigationBar;
-import ch.bailu.aat.mapsforge.layer.gpx.GpxDynLayer;
-import ch.bailu.aat.mapsforge.layer.gpx.GpxOverlayListLayer;
-import ch.bailu.aat.mapsforge.layer.gpx.GpxTestLayer;
-import ch.bailu.aat.mapsforge.layer.gpx.WayLayer;
-import ch.bailu.aat.mapsforge.layer.grid.GridDynLayer;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.map.mapsforge.MapsForgeView;
+import ch.bailu.aat.map.mapsforge.layer.CurrentLocationLayer;
+import ch.bailu.aat.map.mapsforge.layer.Dem3NameLayer;
+import ch.bailu.aat.map.mapsforge.layer.ZoomLevel;
+import ch.bailu.aat.map.mapsforge.layer.control.InformationBar;
+import ch.bailu.aat.map.mapsforge.layer.control.NavigationBar;
+import ch.bailu.aat.map.mapsforge.layer.gpx.GpxDynLayer;
+import ch.bailu.aat.map.mapsforge.layer.gpx.GpxOverlayListLayer;
+import ch.bailu.aat.map.mapsforge.layer.gpx.GpxTestLayer;
+import ch.bailu.aat.map.mapsforge.layer.grid.GridDynLayer;
 import ch.bailu.aat.test.PreferencesFromSdcard;
 import ch.bailu.aat.test.PreferencesToSdcard;
 import ch.bailu.aat.test.TestCoordinates;
@@ -60,17 +68,17 @@ import ch.bailu.aat.views.ControlBar;
 import ch.bailu.aat.views.MainControlBar;
 import ch.bailu.aat.views.StatusTextView;
 import ch.bailu.aat.views.description.MultiView;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.Dem3NameOverlay;
-import ch.bailu.aat.views.map.overlay.EndLogOverlay;
-import ch.bailu.aat.views.map.overlay.StartLogOverlay;
-import ch.bailu.aat.views.map.overlay.ZoomLevelOverlay;
-import ch.bailu.aat.views.map.overlay.control.InformationBarOverlay;
-import ch.bailu.aat.views.map.overlay.control.NavigationBarOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxDynOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxOverlayListOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxTestOverlay;
-import ch.bailu.aat.views.map.overlay.grid.GridDynOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.Dem3NameOverlay;
+import ch.bailu.aat.map.osm.overlay.EndLogOverlay;
+import ch.bailu.aat.map.osm.overlay.StartLogOverlay;
+import ch.bailu.aat.map.osm.overlay.ZoomLevelOverlay;
+import ch.bailu.aat.map.osm.overlay.control.InformationBarOverlay;
+import ch.bailu.aat.map.osm.overlay.control.NavigationBarOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxDynOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxOverlayListOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxTestOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.GridDynOverlay;
 import ch.bailu.aat.views.preferences.VerticalScrollView;
 
 public class TestActivity extends AbsDispatcher {
@@ -177,19 +185,6 @@ public class TestActivity extends AbsDispatcher {
         mapsForge.setZoomLevelMax((byte) 20);
 
 
-/*
-        TileCache tileCache = AndroidUtil.createTileCache(
-                this,
-                "mapcache",
-                mapsForge.getModel().displayModel.getTileSize(),
-                1f,
-                mapsForge.getModel().frameBufferModel.getOverdrawFactor());
-
-
-        MapDataStore mapDataStore = new MapFile(new File("/storage/emulated/0/berlin.map"));
-        TileRendererLayer tileLayer = new TileRendererLayer(tileCache, mapDataStore, mapsForge.getModel().mapViewPosition, AndroidGraphicFactory.INSTANCE);
-        tileLayer.setXmlRenderTheme(InternalRenderTheme.DEFAULT);
-*/
 
 
 
@@ -208,6 +203,27 @@ public class TestActivity extends AbsDispatcher {
     }
 
 
+    private void testMe() {
+
+        MapView mapsForge = null;
+
+        TileCache tileCache = AndroidUtil.createTileCache(
+                this,
+                "mapcache",
+                mapsForge.getModel().displayModel.getTileSize(),
+                1f,
+                mapsForge.getModel().frameBufferModel.getOverdrawFactor());
+
+
+        MapDataStore mapDataStore = new MapFile(new File("/storage/emulated/0/berlin.map"));
+        TileRendererLayer tileLayer = new TileRendererLayer(tileCache,
+                mapDataStore,
+                mapsForge.getModel().mapViewPosition,
+                AndroidGraphicFactory.INSTANCE);
+
+        tileLayer.setXmlRenderTheme(InternalRenderTheme.DEFAULT);
+
+    }
     private ControlBar createButtonBar(MultiView multiView) {
         final MainControlBar bar = new MainControlBar(getServiceContext());
 
diff --git a/app/src/main/java/ch/bailu/aat/activities/TrackerActivity.java b/app/src/main/java/ch/bailu/aat/activities/TrackerActivity.java
index efc57117..01925b08 100644
--- a/app/src/main/java/ch/bailu/aat/activities/TrackerActivity.java
+++ b/app/src/main/java/ch/bailu/aat/activities/TrackerActivity.java
@@ -30,7 +30,7 @@ import ch.bailu.aat.views.description.TrackerStateButton;
 import ch.bailu.aat.views.description.VSplitView;
 import ch.bailu.aat.views.graph.DistanceAltitudeGraphView;
 import ch.bailu.aat.views.graph.DistanceSpeedGraphView;
-import ch.bailu.aat.views.map.MapFactory;
+import ch.bailu.aat.map.osm.MapFactory;
 
 public class TrackerActivity extends AbsDispatcher implements OnClickListener{
 
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/CurrentLocationSource.java b/app/src/main/java/ch/bailu/aat/dispatcher/CurrentLocationSource.java
index 680ac04f..4b24599a 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/CurrentLocationSource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/CurrentLocationSource.java
@@ -5,7 +5,7 @@ import android.content.Context;
 import android.content.Intent;
 
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 
 public class CurrentLocationSource extends ContentSource {
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/CustomFileSource.java b/app/src/main/java/ch/bailu/aat/dispatcher/CustomFileSource.java
index 94439d86..6358fcf5 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/CustomFileSource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/CustomFileSource.java
@@ -8,8 +8,8 @@ import java.io.File;
 
 import ch.bailu.aat.gpx.GpxFileWrapper;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.cache.GpxObject;
 import ch.bailu.aat.services.cache.GpxObjectStatic;
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/EditorSource.java b/app/src/main/java/ch/bailu/aat/dispatcher/EditorSource.java
index ef21b98e..6d2482e5 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/EditorSource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/EditorSource.java
@@ -5,8 +5,8 @@ import android.content.Context;
 import android.content.Intent;
 
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.editor.EditorHelper;
 
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/IteratorSource.java b/app/src/main/java/ch/bailu/aat/dispatcher/IteratorSource.java
index eb37aa64..3a4b666b 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/IteratorSource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/IteratorSource.java
@@ -5,8 +5,8 @@ import android.content.Context;
 import android.content.Intent;
 
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.preferences.SolidDirectoryQuery;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.directory.Iterator;
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/OverlaySource.java b/app/src/main/java/ch/bailu/aat/dispatcher/OverlaySource.java
index 54d72634..8a3795bc 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/OverlaySource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/OverlaySource.java
@@ -13,8 +13,8 @@ import ch.bailu.aat.coordinates.BoundingBoxE6;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.preferences.SolidOverlayFile;
 import ch.bailu.aat.preferences.SolidOverlayFileList;
 import ch.bailu.aat.services.ServiceContext;
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/TrackerSource.java b/app/src/main/java/ch/bailu/aat/dispatcher/TrackerSource.java
index 4ae5a0d4..9f29ca9a 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/TrackerSource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/TrackerSource.java
@@ -5,7 +5,7 @@ import android.content.Context;
 import android.content.Intent;
 
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 
 public class TrackerSource extends ContentSource {
diff --git a/app/src/main/java/ch/bailu/aat/dispatcher/TrackerTimerSource.java b/app/src/main/java/ch/bailu/aat/dispatcher/TrackerTimerSource.java
index 76c47029..69ab3e51 100644
--- a/app/src/main/java/ch/bailu/aat/dispatcher/TrackerTimerSource.java
+++ b/app/src/main/java/ch/bailu/aat/dispatcher/TrackerTimerSource.java
@@ -2,7 +2,7 @@ package ch.bailu.aat.dispatcher;
 
 
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.Timer;
+import ch.bailu.aat.util.Timer;
 import ch.bailu.aat.services.ServiceContext;
 
 public class TrackerTimerSource extends ContentSource {
diff --git a/app/src/main/java/ch/bailu/aat/gpx/parser/GpxListReader.java b/app/src/main/java/ch/bailu/aat/gpx/parser/GpxListReader.java
index 52bcb978..082c1ecd 100644
--- a/app/src/main/java/ch/bailu/aat/gpx/parser/GpxListReader.java
+++ b/app/src/main/java/ch/bailu/aat/gpx/parser/GpxListReader.java
@@ -6,7 +6,7 @@ import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPoint;
 import ch.bailu.aat.gpx.MaxSpeed;
 import ch.bailu.aat.gpx.interfaces.GpxType;
-import ch.bailu.aat.helpers.file.AbsAccess;
+import ch.bailu.aat.util.fs.AbsAccess;
 import ch.bailu.aat.services.background.ThreadControl;
 
 public class GpxListReader {
diff --git a/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleGpxListReader.java b/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleGpxListReader.java
index faf1a8b7..7f34f0ee 100644
--- a/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleGpxListReader.java
+++ b/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleGpxListReader.java
@@ -2,7 +2,7 @@ package ch.bailu.aat.gpx.parser;
 
 import java.io.IOException;
 
-import ch.bailu.aat.helpers.file.AbsAccess;
+import ch.bailu.aat.util.fs.AbsAccess;
 import ch.bailu.aat.services.background.ThreadControl;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleStream.java b/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleStream.java
index a3201386..2dc4b538 100644
--- a/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleStream.java
+++ b/app/src/main/java/ch/bailu/aat/gpx/parser/SimpleStream.java
@@ -10,7 +10,7 @@ import java.io.Reader;
 import java.io.StringReader;
 import java.io.UnsupportedEncodingException;
 
-import ch.bailu.aat.helpers.file.AbsAccess;
+import ch.bailu.aat.util.fs.AbsAccess;
 
 
 public class SimpleStream implements Closeable {
diff --git a/app/src/main/java/ch/bailu/aat/gpx/parser/XmlParser.java b/app/src/main/java/ch/bailu/aat/gpx/parser/XmlParser.java
index bb92b1d1..8a774928 100644
--- a/app/src/main/java/ch/bailu/aat/gpx/parser/XmlParser.java
+++ b/app/src/main/java/ch/bailu/aat/gpx/parser/XmlParser.java
@@ -12,7 +12,7 @@ import ch.bailu.aat.gpx.GpxAttributes;
 import ch.bailu.aat.gpx.GpxAttributesStatic;
 import ch.bailu.aat.gpx.GpxAttributesStatic.Tag;
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
-import ch.bailu.aat.helpers.file.AbsAccess;
+import ch.bailu.aat.util.fs.AbsAccess;
 
 public class XmlParser implements Closeable, GpxPointInterface {
 
diff --git a/app/src/main/java/ch/bailu/aat/gpx/writer/GpxWriter.java b/app/src/main/java/ch/bailu/aat/gpx/writer/GpxWriter.java
index e274d3db..6bb7dde4 100644
--- a/app/src/main/java/ch/bailu/aat/gpx/writer/GpxWriter.java
+++ b/app/src/main/java/ch/bailu/aat/gpx/writer/GpxWriter.java
@@ -10,7 +10,7 @@ import java.util.Locale;
 
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
 import ch.bailu.aat.gpx.interfaces.GpxType;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 public abstract class GpxWriter {
     private BufferedWriter output=null;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeTileCache.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeTileCache.java
similarity index 86%
rename from app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeTileCache.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeTileCache.java
index a1adad0a..2810325f 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeTileCache.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeTileCache.java
@@ -1,12 +1,7 @@
-package ch.bailu.aat.mapsforge;
-
-import android.os.Handler;
-import android.os.Looper;
-import android.os.Message;
+package ch.bailu.aat.map.mapsforge;
 
 import org.mapsforge.core.graphics.TileBitmap;
 import org.mapsforge.core.model.Tile;
-import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
 import org.mapsforge.map.layer.cache.TileCache;
 import org.mapsforge.map.layer.queue.Job;
 import org.mapsforge.map.model.common.Observer;
@@ -15,11 +10,10 @@ import org.osmdroid.tileprovider.MapTile;
 import java.util.ArrayList;
 import java.util.Set;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.cache.TileStackObject;
-import ch.bailu.aat.views.map.CachedTileProvider;
-import ch.bailu.aat.views.map.DynTileProvider;
+import ch.bailu.aat.map.osm.DynTileProvider;
 
 public class MapsForgeTileCache extends DynTileProvider implements TileCache {
 
@@ -53,7 +47,7 @@ public class MapsForgeTileCache extends DynTileProvider implements TileCache {
     @Override
     public TileBitmap get(Job job) {
         //AppLog.d(this, "get()");
-        TileStackObject tileStackObject = getMapTileStack(convert(job.tile), job.tile.tileSize);
+        TileStackObject tileStackObject = getMapTileStack(convert(job.tile));
 
         if (tileStackObject != null) {
 
@@ -118,13 +112,13 @@ public class MapsForgeTileCache extends DynTileProvider implements TileCache {
 
     @Override
     public void addObserver(Observer observer) {
-        AppLog.d(this, "addObserver()");
+        AppLog.d(this, "lockToCache()");
         observers.add(observer);
     }
 
     @Override
     public void removeObserver(Observer observer) {
-        AppLog.d(this, "removeObserver()");
+        AppLog.d(this, "freeFromCache()");
         observers.remove(observer);
     }
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeTileLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeTileLayer.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeTileLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeTileLayer.java
index b31ed962..0fbdc305 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeTileLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeTileLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge;
+package ch.bailu.aat.map.mapsforge;
 
 import android.content.SharedPreferences;
 
@@ -11,7 +11,7 @@ import org.mapsforge.map.model.MapViewPosition;
 import org.mapsforge.map.model.common.Observer;
 
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayerInterface;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayerInterface;
 import ch.bailu.aat.services.ServiceContext;
 
 public class MapsForgeTileLayer extends TileLayer implements MapsForgeLayerInterface, Observer {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeView.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeView.java
similarity index 71%
rename from app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeView.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeView.java
index ff479861..9c862a82 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeView.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/MapsForgeView.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge;
+package ch.bailu.aat.map.mapsforge;
 
 import android.content.SharedPreferences;
 
@@ -7,18 +7,25 @@ import org.mapsforge.core.model.Dimension;
 import org.mapsforge.core.model.MapPosition;
 import org.mapsforge.core.util.LatLongUtils;
 import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
+import org.mapsforge.map.android.util.AndroidUtil;
 import org.mapsforge.map.android.view.MapView;
+import org.mapsforge.map.datastore.MapDataStore;
 import org.mapsforge.map.layer.Layer;
+import org.mapsforge.map.layer.cache.TileCache;
+import org.mapsforge.map.layer.renderer.TileRendererLayer;
+import org.mapsforge.map.reader.MapFile;
+import org.mapsforge.map.rendertheme.InternalRenderTheme;
 
+import java.io.File;
 import java.util.ArrayList;
 
 import ch.bailu.aat.coordinates.BoundingBoxE6;
 import ch.bailu.aat.dispatcher.DispatcherInterface;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.MapPositionLayer;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayerInterface;
-import ch.bailu.aat.mapsforge.util.Attachable;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.MapPositionLayer;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayerInterface;
+import ch.bailu.aat.map.mapsforge.util.Attachable;
 import ch.bailu.aat.preferences.Storage;
 import ch.bailu.aat.services.ServiceContext;
 
@@ -43,13 +50,31 @@ public class MapsForgeView extends MapView implements
         add(pos);
 
         storage = Storage.global(mcontext.context);
-
+/*
         MapsForgeTileLayer tiles = new MapsForgeTileLayer(
                 mcontext.scontext,
                 getModel().mapViewPosition,
                 AndroidGraphicFactory.INSTANCE.createMatrix());
 
-        add(tiles, tiles);
+         add(tiles, tiles);
+*/
+
+        TileCache tileCache = AndroidUtil.createTileCache(
+                sc.getContext(),
+                "mapcache",
+                getModel().displayModel.getTileSize(),
+                1f,
+                getModel().frameBufferModel.getOverdrawFactor());
+
+
+        MapDataStore mapDataStore = new MapFile(new File("/storage/emulated/0/switzerland.map"));
+        TileRendererLayer tiles = new TileRendererLayer(tileCache,
+                mapDataStore,
+                getModel().mapViewPosition,
+                AndroidGraphicFactory.INSTANCE);
+
+        tiles.setXmlRenderTheme(InternalRenderTheme.DEFAULT);
+        addLayer(tiles);
 
 
 
@@ -62,6 +87,7 @@ public class MapsForgeView extends MapView implements
 
 
 
+
     public void add(Layer layer, MapsForgeLayerInterface attachable) {
         this.addLayer(layer);
         layers.add(attachable);
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/CurrentLocationLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/CurrentLocationLayer.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/CurrentLocationLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/CurrentLocationLayer.java
index ef629b79..ae903fb9 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/CurrentLocationLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/CurrentLocationLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 
 import android.content.SharedPreferences;
@@ -16,8 +16,8 @@ import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class CurrentLocationLayer extends MapsForgeLayer implements OnContentUpdatedInterface {
     private static final int MIN_RADIUS=7;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/Dem3NameLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/Dem3NameLayer.java
similarity index 89%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/Dem3NameLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/Dem3NameLayer.java
index e7e72ce6..f83c7fc6 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/Dem3NameLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/Dem3NameLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 import android.content.SharedPreferences;
 
@@ -7,7 +7,7 @@ import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 
 import ch.bailu.aat.coordinates.SrtmCoordinates;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class Dem3NameLayer extends MapsForgeLayer{
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapPositionLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapPositionLayer.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/MapPositionLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapPositionLayer.java
index 4ba9adf4..77141a8f 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapPositionLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapPositionLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 import android.content.SharedPreferences;
 
@@ -14,7 +14,7 @@ import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 import ch.bailu.aat.preferences.SolidPositionLock;
 import ch.bailu.aat.preferences.Storage;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeCanvas.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeCanvas.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeCanvas.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeCanvas.java
index 30fdc32d..974d5d5a 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeCanvas.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeCanvas.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 import android.content.Context;
 
@@ -8,7 +8,7 @@ import org.mapsforge.core.graphics.Paint;
 import org.mapsforge.core.model.Point;
 import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
 
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 
 public class MapsForgeCanvas {
     public static final int EDGE_WIDTH=1;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeLayer.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeLayer.java
index aeaddf3f..a738a6e1 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 import android.content.SharedPreferences;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeLayerInterface.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeLayerInterface.java
similarity index 72%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeLayerInterface.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeLayerInterface.java
index 4b7b3737..e8c02595 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/MapsForgeLayerInterface.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/MapsForgeLayerInterface.java
@@ -1,8 +1,8 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 import android.content.SharedPreferences;
 
-import ch.bailu.aat.mapsforge.util.Attachable;
+import ch.bailu.aat.map.mapsforge.util.Attachable;
 
 public interface MapsForgeLayerInterface extends
         Attachable,
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/ZoomLevel.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/ZoomLevel.java
similarity index 86%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/ZoomLevel.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/ZoomLevel.java
index 53e88129..e0ec7c31 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/ZoomLevel.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/ZoomLevel.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer;
+package ch.bailu.aat.map.mapsforge.layer;
 
 import android.content.SharedPreferences;
 
@@ -8,8 +8,8 @@ import org.mapsforge.core.model.Point;
 
 import java.util.Locale;
 
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class ZoomLevel extends MapsForgeLayer {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContext.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContext.java
similarity index 90%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContext.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContext.java
index 15ae6e9c..8c08c446 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContext.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContext.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.context;
+package ch.bailu.aat.map.mapsforge.layer.context;
 
 import android.content.Context;
 import android.content.SharedPreferences;
@@ -7,8 +7,8 @@ import org.mapsforge.core.graphics.Canvas;
 import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 
-import ch.bailu.aat.mapsforge.MapsForgeView;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.mapsforge.MapsForgeView;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
 import ch.bailu.aat.services.ServiceContext;
 
 public class MapContext extends MapsForgeLayer {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextDraw.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextDraw.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextDraw.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextDraw.java
index 7a97a86a..efe6644b 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextDraw.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextDraw.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.context;
+package ch.bailu.aat.map.mapsforge.layer.context;
 
 
 import android.graphics.Color;
@@ -10,9 +10,9 @@ import org.mapsforge.core.graphics.Canvas;
 import org.mapsforge.core.graphics.Paint;
 import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
 
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.mapsforge.MapsForgeBitmap;
-import ch.bailu.aat.views.map.overlay.NodePainter;
+import ch.bailu.aat.util.graphic.AppTileBitmap;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.map.osm.overlay.NodePainter;
 
 public class MapContextDraw {
     private final static int SPACE=5;
@@ -28,7 +28,7 @@ public class MapContextDraw {
     private int left=0, top=0, bottom=0;
 
 
-    public MapsForgeBitmap nodeBitmap;
+    public AppTileBitmap nodeBitmap;
 
     public MapContextDraw(AppDensity res) {
         legendPaint.setColor(Color.BLUE);
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextMetrics.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextMetrics.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextMetrics.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextMetrics.java
index 3da7ee38..53da45d8 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextMetrics.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextMetrics.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.context;
+package ch.bailu.aat.map.mapsforge.layer.context;
 
 import android.graphics.Point;
 import android.graphics.Rect;
@@ -12,8 +12,8 @@ import org.mapsforge.map.android.view.MapView;
 import ch.bailu.aat.coordinates.BoundingBoxE6;
 import ch.bailu.aat.coordinates.LatLongE6;
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.mapsforge.util.Pixel;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.util.graphic.Pixel;
 import ch.bailu.aat.services.ServiceContext;
 
 public class MapContextMetrics {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextTwoNodes.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextTwoNodes.java
similarity index 89%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextTwoNodes.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextTwoNodes.java
index 64e2b916..15177f67 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/context/MapContextTwoNodes.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/context/MapContextTwoNodes.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.mapsforge.layer.context;
+package ch.bailu.aat.map.mapsforge.layer.context;
 
 import android.graphics.Point;
 
 import ch.bailu.aat.gpx.GpxPoint;
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
-import ch.bailu.aat.mapsforge.layer.context.MapContextMetrics;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextMetrics;
 
 public class MapContextTwoNodes {
     private final MapContextMetrics metrics;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/AutoNodeViewLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/AutoNodeViewLayer.java
similarity index 89%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/control/AutoNodeViewLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/AutoNodeViewLayer.java
index 3569d009..c86cb0c6 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/AutoNodeViewLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/AutoNodeViewLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.control;
+package ch.bailu.aat.map.mapsforge.layer.control;
 
 import android.content.SharedPreferences;
 import android.view.View;
@@ -8,8 +8,8 @@ import java.io.File;
 import ch.bailu.aat.activities.NodeDetailActivity;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxPointNode;
-import ch.bailu.aat.helpers.HtmlBuilderGpx;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.HtmlBuilderGpx;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class AutoNodeViewLayer extends NodeViewLayer {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/ControlBarLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/ControlBarLayer.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/control/ControlBarLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/ControlBarLayer.java
index 3be7b2cc..7ca7344a 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/ControlBarLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/ControlBarLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.control;
+package ch.bailu.aat.map.mapsforge.layer.control;
 
 import android.content.SharedPreferences;
 import android.graphics.Color;
@@ -8,9 +8,9 @@ import android.widget.LinearLayout;
 import org.mapsforge.core.model.LatLong;
 import org.mapsforge.core.model.Point;
 
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.mapsforge.MapsForgeView;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.map.mapsforge.MapsForgeView;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
 
 public abstract class ControlBarLayer extends MapsForgeLayer implements View.OnClickListener {
     public final static int TOP=0;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/InformationBar.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/InformationBar.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/control/InformationBar.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/InformationBar.java
index 5f8ab5ef..109db34e 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/InformationBar.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/InformationBar.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.control;
+package ch.bailu.aat.map.mapsforge.layer.control;
 
 import android.view.View;
 import android.widget.ImageButton;
@@ -13,8 +13,8 @@ import ch.bailu.aat.activities.NominatimActivity;
 import ch.bailu.aat.activities.OverpassActivity;
 import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.ToolTip;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.ui.ToolTip;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 import ch.bailu.aat.preferences.SolidIndexList;
 import ch.bailu.aat.preferences.SolidLegend;
 import ch.bailu.aat.preferences.SolidMapGrid;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NavigationBar.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NavigationBar.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NavigationBar.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NavigationBar.java
index 16c59c0c..fe98cc60 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NavigationBar.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NavigationBar.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.control;
+package ch.bailu.aat.map.mapsforge.layer.control;
 
 import android.util.SparseArray;
 import android.view.View;
@@ -12,9 +12,9 @@ import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.ToolTip;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.ui.ToolTip;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 import ch.bailu.aat.preferences.SolidPositionLock;
 
 public class NavigationBar extends ControlBarLayer implements OnContentUpdatedInterface {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NodeSelectorLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NodeSelectorLayer.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NodeSelectorLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NodeSelectorLayer.java
index 1ae0510b..d2b891a5 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NodeSelectorLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NodeSelectorLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.control;
+package ch.bailu.aat.map.mapsforge.layer.control;
 
 import android.graphics.Rect;
 import android.util.SparseArray;
@@ -12,10 +12,9 @@ import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxNodeFinder;
 import ch.bailu.aat.gpx.GpxPointNode;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.mapsforge.util.Pixel;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.util.graphic.Pixel;
 
 public abstract class NodeSelectorLayer extends MapsForgeLayer implements OnContentUpdatedInterface {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NodeViewLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NodeViewLayer.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NodeViewLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NodeViewLayer.java
index a46a834d..0c96b5ea 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/control/NodeViewLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/control/NodeViewLayer.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.mapsforge.layer.control;
+package ch.bailu.aat.map.mapsforge.layer.control;
 
 import android.graphics.Color;
 import android.view.View;
 
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 import ch.bailu.aat.views.HtmlScrollTextView;
 
 public abstract class NodeViewLayer extends NodeSelectorLayer implements View.OnLongClickListener {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxDynLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxDynLayer.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxDynLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxDynLayer.java
index 5b60ee58..b9e27d2d 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxDynLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxDynLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import android.content.SharedPreferences;
 
@@ -11,8 +11,8 @@ import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxInformationCache;
 import ch.bailu.aat.gpx.interfaces.GpxType;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 import ch.bailu.aat.preferences.SolidLegend;
 import ch.bailu.aat.services.ServiceContext;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxLayer.java
similarity index 72%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxLayer.java
index 61919f1d..21d4abb5 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxLayer.java
@@ -1,16 +1,9 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
-
-import android.content.SharedPreferences;
-
-import org.mapsforge.core.graphics.Canvas;
-import org.mapsforge.core.model.BoundingBox;
-import org.mapsforge.core.model.Point;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxList;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
 
 public abstract class GpxLayer extends MapsForgeLayer implements OnContentUpdatedInterface {
     private final int color;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxListPainter.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxListPainter.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxListPainter.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxListPainter.java
index 71b5b098..8e296ce2 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxListPainter.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxListPainter.java
@@ -1,13 +1,13 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.GpxSegmentNode;
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.context.MapContextTwoNodes;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextTwoNodes;
 
 public abstract class GpxListPainter extends GpxListWalker {
     private static final int MIN_PIXEL_SPACE=10;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxOverlayListLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxOverlayListLayer.java
similarity index 85%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxOverlayListLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxOverlayListLayer.java
index 7b0ac9fb..4e273cdc 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxOverlayListLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxOverlayListLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import android.content.SharedPreferences;
 
@@ -9,9 +9,9 @@ import org.mapsforge.core.model.Point;
 import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class GpxOverlayListLayer extends MapsForgeLayer {
     private final GpxDynLayer[] overlays;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxTestLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxTestLayer.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxTestLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxTestLayer.java
index 9d289bbe..af9ced2b 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/GpxTestLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/GpxTestLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import android.content.SharedPreferences;
 import android.graphics.Color;
@@ -17,7 +17,7 @@ import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.GpxSegmentNode;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class GpxTestLayer extends GpxLayer {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/RouteLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/RouteLayer.java
similarity index 88%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/RouteLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/RouteLayer.java
index 2c969e88..e74ca995 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/RouteLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/RouteLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import android.content.SharedPreferences;
 
@@ -6,9 +6,9 @@ import org.mapsforge.core.graphics.Canvas;
 import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.context.MapContextTwoNodes;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextTwoNodes;
 import ch.bailu.aat.services.dem.ElevationProvider;
 import ch.bailu.aat.views.graph.ColorTable;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/TrackLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/TrackLayer.java
similarity index 90%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/TrackLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/TrackLayer.java
index 6d263674..d99e27a6 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/TrackLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/TrackLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import android.content.SharedPreferences;
 import android.graphics.Color;
@@ -12,8 +12,8 @@ import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
 
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.context.MapContextTwoNodes;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextTwoNodes;
 import ch.bailu.aat.views.graph.ColorTable;
 
 public class TrackLayer  extends GpxLayer{
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/WayLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/WayLayer.java
similarity index 88%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/WayLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/WayLayer.java
index 7771d6f9..2de18110 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/WayLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/WayLayer.java
@@ -1,15 +1,14 @@
-package ch.bailu.aat.mapsforge.layer.gpx;
+package ch.bailu.aat.map.mapsforge.layer.gpx;
 
 import android.content.SharedPreferences;
-import android.graphics.drawable.Drawable;
 
 import org.mapsforge.core.graphics.Canvas;
 import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.context.MapContextTwoNodes;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextTwoNodes;
 
 public class WayLayer extends GpxLayer {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/GpxLegendLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/GpxLegendLayer.java
similarity index 66%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/GpxLegendLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/GpxLegendLayer.java
index d1062d6e..8c5b9faf 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/GpxLegendLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/GpxLegendLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import android.content.SharedPreferences;
 import android.graphics.Color;
@@ -7,14 +7,9 @@ import org.mapsforge.core.graphics.Canvas;
 import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.context.MapContextTwoNodes;
-import ch.bailu.aat.mapsforge.layer.gpx.GpxLayer;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.gpx.legend.*;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextTwoNodes;
+import ch.bailu.aat.map.mapsforge.layer.gpx.GpxLayer;
 
 public class GpxLegendLayer extends GpxLayer {
     private final LegendWalker walker;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/LegendContext.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/LegendContext.java
similarity index 87%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/LegendContext.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/LegendContext.java
index 29e92558..da4116ef 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/LegendContext.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/LegendContext.java
@@ -1,8 +1,8 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import ch.bailu.aat.coordinates.BoundingBoxE6;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.context.MapContextTwoNodes;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContextTwoNodes;
 
 public class LegendContext {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/LegendWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/LegendWalker.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/LegendWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/LegendWalker.java
index f4eec135..408aa573 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/LegendWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/LegendWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerAltitudeWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerAltitudeWalker.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerAltitudeWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerAltitudeWalker.java
index 828884f8..f1f7b109 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerAltitudeWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerAltitudeWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerDistanceWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerDistanceWalker.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerDistanceWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerDistanceWalker.java
index 8883d107..9b369b4a 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerDistanceWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerDistanceWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerSpeedWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerSpeedWalker.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerSpeedWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerSpeedWalker.java
index f75b2cdc..3ab4cd4c 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/MarkerSpeedWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/MarkerSpeedWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointAltitudeWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointAltitudeWalker.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointAltitudeWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointAltitudeWalker.java
index d264001b..3c0a855a 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointAltitudeWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointAltitudeWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointDistanceWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointDistanceWalker.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointDistanceWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointDistanceWalker.java
index 5164c2b2..2e39a10f 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointDistanceWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointDistanceWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointIndexWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointIndexWalker.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointIndexWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointIndexWalker.java
index c6630c94..a684102b 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointIndexWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointIndexWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPointNode;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointNameWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointNameWalker.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointNameWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointNameWalker.java
index 8689a101..dfff1bae 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/PointNameWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/PointNameWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPointNode;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/SegmentIndexWalker.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/SegmentIndexWalker.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/SegmentIndexWalker.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/SegmentIndexWalker.java
index 52026c31..3a51af93 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/gpx/legend/SegmentIndexWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/gpx/legend/SegmentIndexWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.gpx.legend;
+package ch.bailu.aat.map.mapsforge.layer.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPointNode;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/CH1903GridLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/CH1903GridLayer.java
similarity index 89%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/CH1903GridLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/CH1903GridLayer.java
index 8970a5a1..0c388b50 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/CH1903GridLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/CH1903GridLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.grid;
+package ch.bailu.aat.map.mapsforge.layer.grid;
 
 import android.content.SharedPreferences;
 
@@ -8,7 +8,7 @@ import org.mapsforge.core.model.LatLong;
 
 import ch.bailu.aat.coordinates.CH1903Coordinates;
 import ch.bailu.aat.coordinates.MeterCoordinates;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class CH1903GridLayer extends MeterGridLayer {
     public CH1903GridLayer(MapContext cl) {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/GridDynLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/GridDynLayer.java
similarity index 87%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/GridDynLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/GridDynLayer.java
index 3f8c14ac..db412850 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/GridDynLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/GridDynLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.grid;
+package ch.bailu.aat.map.mapsforge.layer.grid;
 
 import android.content.SharedPreferences;
 
@@ -6,8 +6,8 @@ import org.mapsforge.core.graphics.Canvas;
 import org.mapsforge.core.model.BoundingBox;
 import org.mapsforge.core.model.Point;
 
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
 import ch.bailu.aat.preferences.SolidMapGrid;
 
 public class GridDynLayer extends MapsForgeLayer {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/MeterGridLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/MeterGridLayer.java
similarity index 89%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/MeterGridLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/MeterGridLayer.java
index 5c88d0fd..cac4cc35 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/MeterGridLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/MeterGridLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.grid;
+package ch.bailu.aat.map.mapsforge.layer.grid;
 
 
 import android.graphics.Point;
@@ -9,9 +9,9 @@ import org.mapsforge.core.model.LatLong;
 
 import ch.bailu.aat.coordinates.MeterCoordinates;
 import ch.bailu.aat.description.DistanceDescription;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.views.map.overlay.grid.GridMetricScaler;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.osm.overlay.grid.GridMetricScaler;
 
 public abstract class MeterGridLayer extends MapsForgeLayer {
 
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/UTMGridLayer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/UTMGridLayer.java
similarity index 85%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/UTMGridLayer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/UTMGridLayer.java
index 2aa3a93c..4d8a73e8 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/UTMGridLayer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/UTMGridLayer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.grid;
+package ch.bailu.aat.map.mapsforge.layer.grid;
 
 import android.content.SharedPreferences;
 
@@ -6,7 +6,7 @@ import org.mapsforge.core.model.LatLong;
 
 import ch.bailu.aat.coordinates.MeterCoordinates;
 import ch.bailu.aat.coordinates.UTMCoordinates;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
 
 public class UTMGridLayer extends MeterGridLayer{
     public UTMGridLayer(MapContext cl) {
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/WGS84Layer.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/WGS84Layer.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/WGS84Layer.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/WGS84Layer.java
index e2810adb..d5e13c42 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/layer/grid/WGS84Layer.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/layer/grid/WGS84Layer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.layer.grid;
+package ch.bailu.aat.map.mapsforge.layer.grid;
 
 import android.content.SharedPreferences;
 import android.graphics.Point;
@@ -11,8 +11,8 @@ import java.util.Locale;
 
 import ch.bailu.aat.coordinates.WGS84Sexagesimal;
 import ch.bailu.aat.description.AltitudeDescription;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.MapsForgeLayer;
 
 public class WGS84Layer extends MapsForgeLayer {
     private final static int MIN_ZOOM_LEVEL=7;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/util/Attachable.java b/app/src/main/java/ch/bailu/aat/map/mapsforge/util/Attachable.java
similarity index 66%
rename from app/src/main/java/ch/bailu/aat/mapsforge/util/Attachable.java
rename to app/src/main/java/ch/bailu/aat/map/mapsforge/util/Attachable.java
index 70fd90d0..0584871c 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/util/Attachable.java
+++ b/app/src/main/java/ch/bailu/aat/map/mapsforge/util/Attachable.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.util;
+package ch.bailu.aat.map.mapsforge.util;
 
 public interface Attachable {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/AbsOsmTileProvider.java b/app/src/main/java/ch/bailu/aat/map/osm/AbsOsmTileProvider.java
similarity index 72%
rename from app/src/main/java/ch/bailu/aat/views/map/AbsOsmTileProvider.java
rename to app/src/main/java/ch/bailu/aat/map/osm/AbsOsmTileProvider.java
index b7b22b98..31432fb0 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/AbsOsmTileProvider.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/AbsOsmTileProvider.java
@@ -1,5 +1,6 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 
 import ch.bailu.aat.services.ServiceContext;
@@ -14,17 +15,30 @@ public abstract class AbsOsmTileProvider extends AbsTileProvider {
     private Source sources[] = new Source[]{BitmapTileObject.MAPNIK};
     private final StringBuilder builder = new StringBuilder();
 
+    private int tileSize = BitmapTileObject.TILE_SIZE;
+
 
     public AbsOsmTileProvider(ServiceContext sc) {
         scontext = sc;
     }
 
-    public TileStackObject getTileHandle(MapTile mapTile, int size) {
+
+    public void setTileSize(int size) {
+        tileSize = size;
+    }
+
+
+    public TileStackObject getTileHandle(MapTile mapTile) {
+        return getTileHandle(new Tile(mapTile.getX(), mapTile.getY(), (byte)mapTile.getZoomLevel(), tileSize));
+    }
+
+
+    private TileStackObject getTileHandle(Tile mapTile) {
         if (scontext.isUp()) {
             String id = generateTileID(mapTile);
             ObjectHandle handle = scontext.getCacheService().getObject(
                     id,
-                    new TileStackObject.Factory(scontext.getContext(), mapTile, size, sources)
+                    new TileStackObject.Factory(scontext.getContext(), mapTile, sources)
             );
 
 
@@ -38,14 +52,14 @@ public abstract class AbsOsmTileProvider extends AbsTileProvider {
 
 
 
-    private String generateTileID(MapTile mapTile) {
+    private String generateTileID(Tile mapTile) {
         builder.setLength(0);
 
-        builder.append(mapTile.getZoomLevel());
+        builder.append(mapTile.zoomLevel);
         builder.append('/');
-        builder.append(mapTile.getX());
+        builder.append(mapTile.tileX);
         builder.append('/');
-        builder.append(mapTile.getY());
+        builder.append(mapTile.tileY);
 
         for (Source source : sources) {
             builder.append('/');
diff --git a/app/src/main/java/ch/bailu/aat/views/map/AbsOsmView.java b/app/src/main/java/ch/bailu/aat/map/osm/AbsOsmView.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/views/map/AbsOsmView.java
rename to app/src/main/java/ch/bailu/aat/map/osm/AbsOsmView.java
index 2f3c763a..4c933dca 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/AbsOsmView.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/AbsOsmView.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.Context;
 import android.view.ViewGroup;
@@ -7,9 +7,9 @@ import org.osmdroid.util.BoundingBoxOsm;
 import org.osmdroid.views.MapView;
 
 import ch.bailu.aat.coordinates.BoundingBoxE6;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
-import ch.bailu.aat.views.map.overlay.OverlayList;
-import ch.bailu.aat.views.map.overlay.gpx.MapIconCache;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.overlay.OverlayList;
+import ch.bailu.aat.map.osm.overlay.gpx.MapIconCache;
 
 
 public abstract class AbsOsmView extends ViewGroup {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/AbsTileProvider.java b/app/src/main/java/ch/bailu/aat/map/osm/AbsTileProvider.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/views/map/AbsTileProvider.java
rename to app/src/main/java/ch/bailu/aat/map/osm/AbsTileProvider.java
index a0dbdf0e..bd954258 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/AbsTileProvider.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/AbsTileProvider.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.graphics.drawable.Drawable;
 import android.os.Handler;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/CachedTileProvider.java b/app/src/main/java/ch/bailu/aat/map/osm/CachedTileProvider.java
similarity index 87%
rename from app/src/main/java/ch/bailu/aat/views/map/CachedTileProvider.java
rename to app/src/main/java/ch/bailu/aat/map/osm/CachedTileProvider.java
index c326e57b..accd07bd 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/CachedTileProvider.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/CachedTileProvider.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.BroadcastReceiver;
 import android.content.Context;
@@ -8,8 +8,8 @@ import android.os.Handler;
 
 import org.osmdroid.tileprovider.MapTile;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.cache.TileObject;
 import ch.bailu.aat.services.cache.TileStackObject;
@@ -47,12 +47,12 @@ public class CachedTileProvider extends AbsOsmTileProvider  {
     }
 
 
-    public TileStackObject getMapTileStack(MapTile tile, int size) {
+    public TileStackObject getMapTileStack(MapTile tile) {
         TileStackObject handle = cache.get(tile);
 
 
         if (handle == null) {
-            handle = getTileHandle(tile, size);
+            handle = getTileHandle(tile);
 
             cache.put(handle);
         }
@@ -65,7 +65,7 @@ public class CachedTileProvider extends AbsOsmTileProvider  {
 
     @Override
     public Drawable getMapTile(MapTile tile) {
-        return getMapTileStack(tile, 256).getDrawable(context.getResources());
+        return getMapTileStack(tile).getDrawable(context.getResources());
     }
 
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/DynTileProvider.java b/app/src/main/java/ch/bailu/aat/map/osm/DynTileProvider.java
similarity index 91%
rename from app/src/main/java/ch/bailu/aat/views/map/DynTileProvider.java
rename to app/src/main/java/ch/bailu/aat/map/osm/DynTileProvider.java
index 3634d730..673d8ecf 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/DynTileProvider.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/DynTileProvider.java
@@ -1,10 +1,11 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.SharedPreferences;
 import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
 
 import ch.bailu.aat.preferences.SolidMapTileStack;
 import ch.bailu.aat.preferences.SolidPreset;
+import ch.bailu.aat.preferences.SolidTileSize;
 import ch.bailu.aat.preferences.Storage;
 import ch.bailu.aat.services.ServiceContext;
 
@@ -19,6 +20,9 @@ public class DynTileProvider extends CachedTileProvider implements OnSharedPrefe
 
     public DynTileProvider(ServiceContext sc) {
         super(sc);
+
+        setTileSize(new SolidTileSize(sc.getContext()).getTileSize());
+
         storage = Storage.preset(sc.getContext()); 
         spreset = new SolidPreset(sc.getContext());
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/LockTileCache.java b/app/src/main/java/ch/bailu/aat/map/osm/LockTileCache.java
similarity index 82%
rename from app/src/main/java/ch/bailu/aat/views/map/LockTileCache.java
rename to app/src/main/java/ch/bailu/aat/map/osm/LockTileCache.java
index 804bd162..fcd60936 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/LockTileCache.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/LockTileCache.java
@@ -1,5 +1,6 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 
 import ch.bailu.aat.services.ServiceContext;
@@ -24,16 +25,17 @@ public class LockTileCache extends TileCache {
 
     @Override
     public TileStackObject get(MapTile mt) {
-        final String mtile = mt.toString();
-
         for (int i = 0; i<tiles.size(); i++) {
-            if (mtile.equals(tiles.get(i).getTile())) {
+            if (compare(mt, tiles.get(i).getTile())) {
                 return tiles.use(i);
             }
         }
         return null;
     }
 
+    public static boolean compare(MapTile mt, Tile t) {
+        return mt.getX() == t.tileX && mt.getY() == t.tileY && mt.getZoomLevel() == t.zoomLevel;
+    }
 
     @Override
     public void put(TileStackObject handle) {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/MapDensity.java b/app/src/main/java/ch/bailu/aat/map/osm/MapDensity.java
similarity index 86%
rename from app/src/main/java/ch/bailu/aat/views/map/MapDensity.java
rename to app/src/main/java/ch/bailu/aat/map/osm/MapDensity.java
index e45b4525..f69acc2b 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/MapDensity.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/MapDensity.java
@@ -1,8 +1,8 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.Context;
 
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 import ch.bailu.aat.preferences.SolidTileSize;
 import ch.bailu.aat.services.cache.TileObject;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/MapFactory.java b/app/src/main/java/ch/bailu/aat/map/osm/MapFactory.java
similarity index 82%
rename from app/src/main/java/ch/bailu/aat/views/map/MapFactory.java
rename to app/src/main/java/ch/bailu/aat/map/osm/MapFactory.java
index 7bb177e6..866d2d90 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/MapFactory.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/MapFactory.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import ch.bailu.aat.activities.AbsDispatcher;
 import ch.bailu.aat.activities.AbsGpxListActivity;
@@ -7,14 +7,14 @@ import ch.bailu.aat.gpx.InfoID;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.editor.EditorHelper;
 import ch.bailu.aat.views.ControlBar;
-import ch.bailu.aat.views.map.overlay.CurrentLocationOverlay;
-import ch.bailu.aat.views.map.overlay.control.CustomBarOverlay;
-import ch.bailu.aat.views.map.overlay.control.EditorOverlay;
-import ch.bailu.aat.views.map.overlay.control.InformationBarOverlay;
-import ch.bailu.aat.views.map.overlay.control.NavigationBarOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxDynOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxOverlayListOverlay;
-import ch.bailu.aat.views.map.overlay.grid.GridDynOverlay;
+import ch.bailu.aat.map.osm.overlay.CurrentLocationOverlay;
+import ch.bailu.aat.map.osm.overlay.control.CustomBarOverlay;
+import ch.bailu.aat.map.osm.overlay.control.EditorOverlay;
+import ch.bailu.aat.map.osm.overlay.control.InformationBarOverlay;
+import ch.bailu.aat.map.osm.overlay.control.NavigationBarOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxDynOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxOverlayListOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.GridDynOverlay;
 
 public class MapFactory {
     private final OsmInteractiveView m;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/OsmInteractiveView.java b/app/src/main/java/ch/bailu/aat/map/osm/OsmInteractiveView.java
similarity index 99%
rename from app/src/main/java/ch/bailu/aat/views/map/OsmInteractiveView.java
rename to app/src/main/java/ch/bailu/aat/map/osm/OsmInteractiveView.java
index 0a803453..425426be 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/OsmInteractiveView.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/OsmInteractiveView.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.Context;
 import android.content.SharedPreferences;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/OsmPreviewGenerator.java b/app/src/main/java/ch/bailu/aat/map/osm/OsmPreviewGenerator.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/views/map/OsmPreviewGenerator.java
rename to app/src/main/java/ch/bailu/aat/map/osm/OsmPreviewGenerator.java
index 5443ae6e..753ed00c 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/OsmPreviewGenerator.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/OsmPreviewGenerator.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.graphics.Bitmap;
 
@@ -9,10 +9,10 @@ import java.io.FileOutputStream;
 import ch.bailu.aat.gpx.GpxFileWrapper;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.overlay.gpx.GpxDynOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxDynOverlay;
 
 public class OsmPreviewGenerator implements Closeable {
     public static final int BITMAP_SIZE=128;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/OsmViewStatic.java b/app/src/main/java/ch/bailu/aat/map/osm/OsmViewStatic.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/views/map/OsmViewStatic.java
rename to app/src/main/java/ch/bailu/aat/map/osm/OsmViewStatic.java
index ced68f0a..38ad3f25 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/OsmViewStatic.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/OsmViewStatic.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.Context;
 import android.view.KeyEvent;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/PreviewTileProvider.java b/app/src/main/java/ch/bailu/aat/map/osm/PreviewTileProvider.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/views/map/PreviewTileProvider.java
rename to app/src/main/java/ch/bailu/aat/map/osm/PreviewTileProvider.java
index 655a4057..7e6e6778 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/PreviewTileProvider.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/PreviewTileProvider.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import android.content.Context;
 import android.graphics.drawable.Drawable;
@@ -26,7 +26,7 @@ public class PreviewTileProvider extends AbsOsmTileProvider implements Closeable
     
     @Override
     public Drawable getMapTile(MapTile tile) {
-        final TileStackObject handle = getTileHandle(tile, 256);
+        final TileStackObject handle = getTileHandle(tile);
         
         tiles.add(handle);
        
diff --git a/app/src/main/java/ch/bailu/aat/views/map/TileCache.java b/app/src/main/java/ch/bailu/aat/map/osm/TileCache.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/views/map/TileCache.java
rename to app/src/main/java/ch/bailu/aat/map/osm/TileCache.java
index 8a2a11b2..52e6ecc4 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/TileCache.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/TileCache.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map;
+package ch.bailu.aat.map.osm;
 
 import org.osmdroid.tileprovider.MapTile;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/CurrentLocationOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/CurrentLocationOverlay.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/CurrentLocationOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/CurrentLocationOverlay.java
index 200bb0f4..fdef90b7 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/CurrentLocationOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/CurrentLocationOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.graphics.Paint;
 import android.graphics.Paint.Style;
@@ -10,8 +10,8 @@ import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class CurrentLocationOverlay extends OsmOverlay implements OnContentUpdatedInterface{
     private static final int MIN_RADIUS=7;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/Dem3NameOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/Dem3NameOverlay.java
similarity index 85%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/Dem3NameOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/Dem3NameOverlay.java
index 8b888765..34df3223 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/Dem3NameOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/Dem3NameOverlay.java
@@ -1,9 +1,9 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import org.osmdroid.api.IGeoPoint;
 
 import ch.bailu.aat.coordinates.SrtmCoordinates;
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 public class Dem3NameOverlay extends OsmOverlay {
     
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/EndLogOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/EndLogOverlay.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/EndLogOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/EndLogOverlay.java
index 0259d084..3bceff0b 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/EndLogOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/EndLogOverlay.java
@@ -1,8 +1,8 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import java.util.Locale;
 
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class EndLogOverlay extends OsmOverlay {
     private long refreshTimeCounter=0;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapCanvas.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapCanvas.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/MapCanvas.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/MapCanvas.java
index affcec99..3acf295e 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapCanvas.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapCanvas.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -12,7 +12,7 @@ import android.graphics.Rect;
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
 
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 
 public class MapCanvas {
     public static final int EDGE_WIDTH=1;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapPainter.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapPainter.java
similarity index 90%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/MapPainter.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/MapPainter.java
index 7b3f6745..2a74c949 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapPainter.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapPainter.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -6,7 +6,7 @@ import android.graphics.drawable.BitmapDrawable;
 
 import org.osmdroid.views.MapView;
 
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 
 public class MapPainter {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapProjection.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapProjection.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/MapProjection.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/MapProjection.java
index 4b6a6c2c..64b01470 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapProjection.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapProjection.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.graphics.Point;
 import android.graphics.Rect;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapTwoNodes.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapTwoNodes.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/MapTwoNodes.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/MapTwoNodes.java
index d91e50ac..4af2f580 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/MapTwoNodes.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/MapTwoNodes.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.graphics.Point;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/NodePainter.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/NodePainter.java
similarity index 79%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/NodePainter.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/NodePainter.java
index 433a9582..1756af94 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/NodePainter.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/NodePainter.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.content.res.Resources;
 import android.graphics.Bitmap;
@@ -8,10 +8,8 @@ import android.graphics.Paint;
 import android.graphics.Paint.Style;
 import android.graphics.drawable.BitmapDrawable;
 
-import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
-
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.mapsforge.MapsForgeBitmap;
+import ch.bailu.aat.util.graphic.AppTileBitmap;
+import ch.bailu.aat.util.ui.AppDensity;
 
 public class NodePainter {
     private static final int STROKE_WIDTH=MapCanvas.EDGE_WIDTH;
@@ -23,7 +21,7 @@ public class NodePainter {
     }
 
 
-    public static MapsForgeBitmap createNodeMF(AppDensity res) {
+    public static AppTileBitmap createNodeMF(AppDensity res) {
         final int color = Color.WHITE;
 
 
@@ -32,7 +30,7 @@ public class NodePainter {
         int hsize = (radius+ stroke_width);
         int size = hsize * 2;
 
-        MapsForgeBitmap bmp = new MapsForgeBitmap(size);
+        AppTileBitmap bmp = new AppTileBitmap(size, true);
 
 
         Bitmap bitmap = bmp.getBitmap();
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/NullOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/NullOverlay.java
similarity index 67%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/NullOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/NullOverlay.java
index 6f854faf..8afea54c 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/NullOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/NullOverlay.java
@@ -1,6 +1,6 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 
 public class NullOverlay extends OsmOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/OsmOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/OsmOverlay.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/OsmOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/OsmOverlay.java
index 5a2530f9..7b58de13 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/OsmOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/OsmOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.content.Context;
 import android.graphics.Canvas;
@@ -6,7 +6,7 @@ import android.graphics.Canvas;
 import org.osmdroid.views.MapView;
 import org.osmdroid.views.overlay.Overlay;
 
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 public abstract class OsmOverlay extends Overlay {
     private final AbsOsmView osm;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/OverlayList.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/OverlayList.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/OverlayList.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/OverlayList.java
index c0f7154d..250291de 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/OverlayList.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/OverlayList.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import android.view.MotionEvent;
 
@@ -6,7 +6,7 @@ import org.osmdroid.views.MapView;
 
 import java.util.ArrayList;
 
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 public class OverlayList extends OsmOverlay {
     private final ArrayList<OsmOverlay> overlays = new ArrayList(10);
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/StartLogOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/StartLogOverlay.java
similarity index 80%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/StartLogOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/StartLogOverlay.java
index bbef2469..d664c8af 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/StartLogOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/StartLogOverlay.java
@@ -1,6 +1,6 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 public class StartLogOverlay extends OsmOverlay {
     private long time = System.currentTimeMillis();
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/ZoomLevelOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/ZoomLevelOverlay.java
similarity index 79%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/ZoomLevelOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/ZoomLevelOverlay.java
index 0b303a64..aae6f6b8 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/ZoomLevelOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/ZoomLevelOverlay.java
@@ -1,8 +1,8 @@
-package ch.bailu.aat.views.map.overlay;
+package ch.bailu.aat.map.osm.overlay;
 
 import java.util.Locale;
 
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class ZoomLevelOverlay extends OsmOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/ControlBarOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/ControlBarOverlay.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/control/ControlBarOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/control/ControlBarOverlay.java
index c12e963e..971ff17a 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/ControlBarOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/ControlBarOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.control;
+package ch.bailu.aat.map.osm.overlay.control;
 
 import android.graphics.Color;
 import android.view.MotionEvent;
@@ -8,11 +8,11 @@ import android.widget.LinearLayout;
 
 import org.osmdroid.views.MapView;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.views.ControlBar;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 
 public abstract class ControlBarOverlay extends OsmOverlay implements Runnable, OnClickListener{
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/CustomBarOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/CustomBarOverlay.java
similarity index 77%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/control/CustomBarOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/control/CustomBarOverlay.java
index d658dc6f..60c8aaf8 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/CustomBarOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/CustomBarOverlay.java
@@ -1,9 +1,9 @@
-package ch.bailu.aat.views.map.overlay.control;
+package ch.bailu.aat.map.osm.overlay.control;
 
 import android.graphics.Color;
 
 import ch.bailu.aat.views.ControlBar;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 
 public class CustomBarOverlay extends ControlBarOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/EditorOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/EditorOverlay.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/control/EditorOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/control/EditorOverlay.java
index 9f73bf97..b57e1702 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/EditorOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/EditorOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.control;
+package ch.bailu.aat.map.osm.overlay.control;
 
 import android.view.View;
 
@@ -7,17 +7,17 @@ import org.osmdroid.api.IGeoPoint;
 import ch.bailu.aat.R;
 import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.gpx.GpxPoint;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.preferences.SolidMapGrid;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.editor.EditorHelper;
 import ch.bailu.aat.services.editor.EditorInterface;
 import ch.bailu.aat.views.ControlBar;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
-import ch.bailu.aat.views.map.overlay.editor.EditorNodeSelectorOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.GpxDynOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.overlay.editor.EditorNodeSelectorOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxDynOverlay;
 
 public class EditorOverlay extends ControlBarOverlay {
     private final SolidMapGrid sgrid;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/FileControlBar.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/FileControlBar.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/control/FileControlBar.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/control/FileControlBar.java
index 9a49faaa..076c8ef0 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/FileControlBar.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/FileControlBar.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.control;
+package ch.bailu.aat.map.osm.overlay.control;
 
 import android.view.View;
 
@@ -16,17 +16,17 @@ import ch.bailu.aat.description.TimeDescription;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.HtmlBuilderGpx;
-import ch.bailu.aat.helpers.ToolTip;
-import ch.bailu.aat.helpers.file.FileAction;
+import ch.bailu.aat.util.HtmlBuilderGpx;
+import ch.bailu.aat.util.ui.ToolTip;
+import ch.bailu.aat.util.fs.FileAction;
 import ch.bailu.aat.menus.FileMenu;
 import ch.bailu.aat.preferences.SolidDirectoryQuery;
 import ch.bailu.aat.services.directory.Iterator;
 import ch.bailu.aat.views.ControlBar;
 import ch.bailu.aat.views.PreviewView;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.gpx.NodeViewOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.gpx.NodeViewOverlay;
 
 public class FileControlBar extends ControlBarOverlay{
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/InformationBarOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/InformationBarOverlay.java
similarity index 90%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/control/InformationBarOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/control/InformationBarOverlay.java
index 27a832df..58c8e4bb 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/InformationBarOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/InformationBarOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.control;
+package ch.bailu.aat.map.osm.overlay.control;
 
 import android.view.View;
 import android.widget.ImageButton;
@@ -9,16 +9,16 @@ import ch.bailu.aat.activities.NominatimActivity;
 import ch.bailu.aat.activities.OverpassActivity;
 import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.menus.LocationMenu;
 import ch.bailu.aat.preferences.SolidIndexList;
 import ch.bailu.aat.preferences.SolidLegend;
 import ch.bailu.aat.preferences.SolidMapGrid;
 import ch.bailu.aat.views.ControlBar;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.gpx.AutoNodeViewOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.NodeViewOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.gpx.AutoNodeViewOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.NodeViewOverlay;
 
 public class InformationBarOverlay extends ControlBarOverlay {
     private final View reload;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/NavigationBarOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/NavigationBarOverlay.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/control/NavigationBarOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/control/NavigationBarOverlay.java
index 4512710f..53231718 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/control/NavigationBarOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/control/NavigationBarOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.control;
+package ch.bailu.aat.map.osm.overlay.control;
 
 import android.util.SparseArray;
 import android.view.View;
@@ -10,12 +10,12 @@ import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.ToolTip;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.ui.ToolTip;
 import ch.bailu.aat.preferences.SolidPositionLock;
 import ch.bailu.aat.views.ControlBar;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 
 public class NavigationBarOverlay extends ControlBarOverlay implements OnContentUpdatedInterface {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/editor/EditorNodeSelectorOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/editor/EditorNodeSelectorOverlay.java
similarity index 81%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/editor/EditorNodeSelectorOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/editor/EditorNodeSelectorOverlay.java
index bae77324..1bd4420c 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/editor/EditorNodeSelectorOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/editor/EditorNodeSelectorOverlay.java
@@ -1,13 +1,13 @@
-package ch.bailu.aat.views.map.overlay.editor;
+package ch.bailu.aat.map.osm.overlay.editor;
 
 import android.view.View;
 
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxPointNode;
-import ch.bailu.aat.helpers.HtmlBuilderGpx;
+import ch.bailu.aat.util.HtmlBuilderGpx;
 import ch.bailu.aat.services.editor.EditorHelper;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.gpx.NodeViewOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.gpx.NodeViewOverlay;
 
 public class EditorNodeSelectorOverlay extends NodeViewOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/AutoNodeViewOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/AutoNodeViewOverlay.java
similarity index 88%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/AutoNodeViewOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/AutoNodeViewOverlay.java
index 94d7a891..a197293d 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/AutoNodeViewOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/AutoNodeViewOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.view.View;
 
@@ -7,8 +7,8 @@ import java.io.File;
 import ch.bailu.aat.activities.NodeDetailActivity;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxPointNode;
-import ch.bailu.aat.helpers.HtmlBuilderGpx;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.util.HtmlBuilderGpx;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 
 public class AutoNodeViewOverlay extends NodeViewOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxDynOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxDynOverlay.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxDynOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxDynOverlay.java
index bd35e3ea..f2f52aa3 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxDynOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxDynOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
@@ -7,9 +7,9 @@ import ch.bailu.aat.gpx.GpxInformationCache;
 import ch.bailu.aat.gpx.interfaces.GpxType;
 import ch.bailu.aat.preferences.SolidLegend;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public class GpxDynOverlay extends OsmOverlay implements OnContentUpdatedInterface {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxListPainter.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxListPainter.java
similarity index 93%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxListPainter.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxListPainter.java
index 8161bb1c..82920deb 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxListPainter.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxListPainter.java
@@ -1,14 +1,14 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.GpxSegmentNode;
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes.PixelNode;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes.PixelNode;
 
 
 public abstract class GpxListPainter extends GpxListWalker {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxOverlay.java
similarity index 87%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxOverlay.java
index d3fa24a9..0f77159e 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxOverlay.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxList;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 
 public abstract class GpxOverlay extends OsmOverlay implements OnContentUpdatedInterface {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxOverlayListOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxOverlayListOverlay.java
similarity index 80%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxOverlayListOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxOverlayListOverlay.java
index 4242cb2b..7f1c45ee 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxOverlayListOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxOverlayListOverlay.java
@@ -1,13 +1,13 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import ch.bailu.aat.dispatcher.DispatcherInterface;
 import ch.bailu.aat.dispatcher.OverlaySource;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 
 public class GpxOverlayListOverlay extends OsmOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxTestOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxTestOverlay.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxTestOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxTestOverlay.java
index 8c389aa3..50ced69a 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/GpxTestOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/GpxTestOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.graphics.Color;
 import android.graphics.Paint;
@@ -11,8 +11,8 @@ import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.GpxSegmentNode;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
 
 public class GpxTestOverlay extends GpxOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/MapIconCache.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/MapIconCache.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/MapIconCache.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/MapIconCache.java
index e9ef6b10..14aeaa94 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/MapIconCache.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/MapIconCache.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.graphics.drawable.Drawable;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/NodeSelectorOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/NodeSelectorOverlay.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/NodeSelectorOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/NodeSelectorOverlay.java
index 126b5daa..428df8a0 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/NodeSelectorOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/NodeSelectorOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.graphics.Point;
 import android.graphics.Rect;
@@ -10,9 +10,9 @@ import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxNodeFinder;
 import ch.bailu.aat.gpx.GpxPointNode;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public abstract class NodeSelectorOverlay extends OsmOverlay implements OnContentUpdatedInterface {
     private final static int COLOR = 0xccffffff;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/NodeViewOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/NodeViewOverlay.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/NodeViewOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/NodeViewOverlay.java
index 98870e55..d7ae9bb2 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/NodeViewOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/NodeViewOverlay.java
@@ -1,12 +1,12 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.graphics.Color;
 import android.view.View;
 import android.view.View.OnLongClickListener;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.views.HtmlScrollTextView;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 
 public abstract class NodeViewOverlay extends NodeSelectorOverlay implements OnLongClickListener {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/RouteOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/RouteOverlay.java
similarity index 82%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/RouteOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/RouteOverlay.java
index 7a05c0f3..add3e73a 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/RouteOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/RouteOverlay.java
@@ -1,12 +1,12 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.dem.ElevationProvider;
 import ch.bailu.aat.views.graph.ColorTable;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes.PixelNode;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes.PixelNode;
 
 
 public class RouteOverlay extends GpxOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/TrackOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/TrackOverlay.java
similarity index 83%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/TrackOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/TrackOverlay.java
index 7a477271..4e0e929d 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/TrackOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/TrackOverlay.java
@@ -1,13 +1,13 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.graphics.Color;
 import android.graphics.Paint;
 
 import ch.bailu.aat.views.graph.ColorTable;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes.PixelNode;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes.PixelNode;
 
 public class TrackOverlay extends GpxOverlay{
     private static final int STROKE_WIDTH=3;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/WayOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/WayOverlay.java
similarity index 85%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/WayOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/WayOverlay.java
index ae9282ed..3ba3296c 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/WayOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/WayOverlay.java
@@ -1,13 +1,13 @@
-package ch.bailu.aat.views.map.overlay.gpx;
+package ch.bailu.aat.map.osm.overlay.gpx;
 
 import android.graphics.drawable.Drawable;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes.PixelNode;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes.PixelNode;
 
 public class WayOverlay extends GpxOverlay {
     private static final int MAX_VISIBLE_NODES=100;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/GpxLegendOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/GpxLegendOverlay.java
similarity index 65%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/GpxLegendOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/GpxLegendOverlay.java
index 0baa10a1..fce898fa 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/GpxLegendOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/GpxLegendOverlay.java
@@ -1,11 +1,11 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import android.graphics.Color;
 
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.gpx.GpxOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxOverlay;
 
 public class GpxLegendOverlay extends GpxOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/LegendWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/LegendWalker.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/LegendWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/LegendWalker.java
index 1de42052..209dca41 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/LegendWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/LegendWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MapViewContext.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MapViewContext.java
similarity index 85%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MapViewContext.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MapViewContext.java
index 068a8468..3b0e6d58 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MapViewContext.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MapViewContext.java
@@ -1,9 +1,9 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import ch.bailu.aat.coordinates.BoundingBoxE6;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes;
-import ch.bailu.aat.views.map.overlay.MapTwoNodes.PixelNode;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes;
+import ch.bailu.aat.map.osm.overlay.MapTwoNodes.PixelNode;
 
 public class MapViewContext {
     public static final int COLOR = 0x99ffffff;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerAltitudeWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerAltitudeWalker.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerAltitudeWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerAltitudeWalker.java
index 67fac8aa..9e25e07a 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerAltitudeWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerAltitudeWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerDistanceWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerDistanceWalker.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerDistanceWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerDistanceWalker.java
index 05e49a5f..901ab5fc 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerDistanceWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerDistanceWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerSpeedWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerSpeedWalker.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerSpeedWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerSpeedWalker.java
index 40f66b63..6982bd4b 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/MarkerSpeedWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/MarkerSpeedWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointAltitudeWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointAltitudeWalker.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointAltitudeWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointAltitudeWalker.java
index af7506d2..0b92371a 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointAltitudeWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointAltitudeWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointDistanceWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointDistanceWalker.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointDistanceWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointDistanceWalker.java
index 27a8cd25..1ded5954 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointDistanceWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointDistanceWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointIndexWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointIndexWalker.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointIndexWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointIndexWalker.java
index 92da1196..70046729 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointIndexWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointIndexWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPointNode;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointNameWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointNameWalker.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointNameWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointNameWalker.java
index ccd48329..563cef18 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/PointNameWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/PointNameWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPointNode;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/SegmentIndexWalker.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/SegmentIndexWalker.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/SegmentIndexWalker.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/SegmentIndexWalker.java
index 827cc30b..a9c46cad 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/gpx/legend/SegmentIndexWalker.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/gpx/legend/SegmentIndexWalker.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.gpx.legend;
+package ch.bailu.aat.map.osm.overlay.gpx.legend;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPointNode;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/AltitudeOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/AltitudeOverlay.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/AltitudeOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/AltitudeOverlay.java
index e47e5589..9d9964f4 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/AltitudeOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/AltitudeOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import android.graphics.Point;
 
@@ -7,9 +7,9 @@ import org.osmdroid.api.IGeoPoint;
 import ch.bailu.aat.description.AltitudeDescription;
 import ch.bailu.aat.description.DistanceDescription;
 import ch.bailu.aat.services.dem.ElevationProvider;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public class AltitudeOverlay extends OsmOverlay {
     private static final int MIN_ZOOM_LEVEL=10;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CH1903CenterCoordinatesOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CH1903CenterCoordinatesOverlay.java
similarity index 83%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CH1903CenterCoordinatesOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CH1903CenterCoordinatesOverlay.java
index 2cbbe70a..232120d5 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CH1903CenterCoordinatesOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CH1903CenterCoordinatesOverlay.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import org.osmdroid.util.GeoPoint;
 
 import ch.bailu.aat.coordinates.CH1903Coordinates;
 import ch.bailu.aat.coordinates.MeterCoordinates;
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 public class CH1903CenterCoordinatesOverlay extends CenterCoordinatesOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CH1903GridOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CH1903GridOverlay.java
similarity index 81%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CH1903GridOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CH1903GridOverlay.java
index 9c6dc944..fbf185d3 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CH1903GridOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CH1903GridOverlay.java
@@ -1,11 +1,11 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import org.osmdroid.util.GeoPoint;
 
 import ch.bailu.aat.coordinates.CH1903Coordinates;
 import ch.bailu.aat.coordinates.MeterCoordinates;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
 
 
 public class CH1903GridOverlay extends MeterGridOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CenterCoordinatesOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CenterCoordinatesOverlay.java
similarity index 74%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CenterCoordinatesOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CenterCoordinatesOverlay.java
index eab4912b..403b6120 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/CenterCoordinatesOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/CenterCoordinatesOverlay.java
@@ -1,11 +1,11 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import org.osmdroid.util.GeoPoint;
 
 import ch.bailu.aat.coordinates.MeterCoordinates;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public abstract class CenterCoordinatesOverlay extends OsmOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/GridDynOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/GridDynOverlay.java
similarity index 81%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/GridDynOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/GridDynOverlay.java
index 49d17ffa..51b855da 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/GridDynOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/GridDynOverlay.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import ch.bailu.aat.preferences.SolidMapGrid;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.OsmInteractiveView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public class GridDynOverlay extends OsmOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/GridMetricScaler.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/GridMetricScaler.java
similarity index 94%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/GridMetricScaler.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/GridMetricScaler.java
index 5e6c2b17..d3268b26 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/GridMetricScaler.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/GridMetricScaler.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 public class GridMetricScaler {
     private static final int KM=1000;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/MeterGridOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/MeterGridOverlay.java
similarity index 91%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/MeterGridOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/MeterGridOverlay.java
index 290d238c..9eba8641 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/MeterGridOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/MeterGridOverlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import android.graphics.Point;
 
@@ -6,9 +6,9 @@ import org.osmdroid.util.GeoPoint;
 
 import ch.bailu.aat.coordinates.MeterCoordinates;
 import ch.bailu.aat.description.DistanceDescription;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public abstract class MeterGridOverlay extends OsmOverlay {
     private static final int MIN_ZOOM_LEVEL=5;
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/UTMCenterCoordinatesOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/UTMCenterCoordinatesOverlay.java
similarity index 83%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/UTMCenterCoordinatesOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/UTMCenterCoordinatesOverlay.java
index f54ad462..f3d1ac60 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/UTMCenterCoordinatesOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/UTMCenterCoordinatesOverlay.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import org.osmdroid.util.GeoPoint;
 
 import ch.bailu.aat.coordinates.MeterCoordinates;
 import ch.bailu.aat.coordinates.UTMCoordinates;
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 public class UTMCenterCoordinatesOverlay extends CenterCoordinatesOverlay {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/UTMGridOverlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/UTMGridOverlay.java
similarity index 82%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/UTMGridOverlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/UTMGridOverlay.java
index 8cd398cb..d251ba98 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/UTMGridOverlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/UTMGridOverlay.java
@@ -1,10 +1,10 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import org.osmdroid.util.GeoPoint;
 
 import ch.bailu.aat.coordinates.MeterCoordinates;
 import ch.bailu.aat.coordinates.UTMCoordinates;
-import ch.bailu.aat.views.map.AbsOsmView;
+import ch.bailu.aat.map.osm.AbsOsmView;
 
 
 public class UTMGridOverlay extends MeterGridOverlay {
diff --git a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/WGS84Overlay.java b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/WGS84Overlay.java
similarity index 91%
rename from app/src/main/java/ch/bailu/aat/views/map/overlay/grid/WGS84Overlay.java
rename to app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/WGS84Overlay.java
index e5500738..96310b22 100644
--- a/app/src/main/java/ch/bailu/aat/views/map/overlay/grid/WGS84Overlay.java
+++ b/app/src/main/java/ch/bailu/aat/map/osm/overlay/grid/WGS84Overlay.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.views.map.overlay.grid;
+package ch.bailu.aat.map.osm.overlay.grid;
 
 import android.graphics.Point;
 
@@ -10,9 +10,9 @@ import java.util.Locale;
 import ch.bailu.aat.coordinates.WGS84Sexagesimal;
 import ch.bailu.aat.description.AltitudeDescription;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.MapPainter;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.MapPainter;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
 
 public class WGS84Overlay extends OsmOverlay implements GeoConstants{
     private final static int MIN_ZOOM_LEVEL=7;
diff --git a/app/src/main/java/ch/bailu/aat/menus/ContentMenu.java b/app/src/main/java/ch/bailu/aat/menus/ContentMenu.java
index ae7b0e3b..b5ff8b5b 100644
--- a/app/src/main/java/ch/bailu/aat/menus/ContentMenu.java
+++ b/app/src/main/java/ch/bailu/aat/menus/ContentMenu.java
@@ -7,7 +7,7 @@ import android.view.Menu;
 import android.view.MenuItem;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.file.FileAction;
+import ch.bailu.aat.util.fs.FileAction;
 import ch.bailu.aat.services.ServiceContext;
 
 public class ContentMenu extends AbsMenu {
diff --git a/app/src/main/java/ch/bailu/aat/menus/DirectoryMenu.java b/app/src/main/java/ch/bailu/aat/menus/DirectoryMenu.java
index a3913c23..6aaea35e 100644
--- a/app/src/main/java/ch/bailu/aat/menus/DirectoryMenu.java
+++ b/app/src/main/java/ch/bailu/aat/menus/DirectoryMenu.java
@@ -8,8 +8,8 @@ import android.view.Menu;
 import android.view.MenuItem;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.Clipboard;
-import ch.bailu.aat.helpers.file.FileIntent;
+import ch.bailu.aat.util.Clipboard;
+import ch.bailu.aat.util.fs.FileIntent;
 import ch.bailu.aat.preferences.SolidDirectory;
 
 public class DirectoryMenu extends AbsMenu {
diff --git a/app/src/main/java/ch/bailu/aat/menus/FileMenu.java b/app/src/main/java/ch/bailu/aat/menus/FileMenu.java
index 996e819f..f7b9852a 100644
--- a/app/src/main/java/ch/bailu/aat/menus/FileMenu.java
+++ b/app/src/main/java/ch/bailu/aat/menus/FileMenu.java
@@ -10,7 +10,7 @@ import java.io.File;
 
 import ch.bailu.aat.R;
 import ch.bailu.aat.activities.AbsServiceLink;
-import ch.bailu.aat.helpers.file.FileAction;
+import ch.bailu.aat.util.fs.FileAction;
 import ch.bailu.aat.services.ServiceContext;
 
 public class FileMenu extends AbsMenu {
diff --git a/app/src/main/java/ch/bailu/aat/menus/LocationMenu.java b/app/src/main/java/ch/bailu/aat/menus/LocationMenu.java
index a52c77e3..6e819511 100644
--- a/app/src/main/java/ch/bailu/aat/menus/LocationMenu.java
+++ b/app/src/main/java/ch/bailu/aat/menus/LocationMenu.java
@@ -12,8 +12,8 @@ import org.osmdroid.views.MapView;
 
 import ch.bailu.aat.R;
 import ch.bailu.aat.coordinates.Coordinates;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.Clipboard;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.Clipboard;
 
 public class LocationMenu extends AbsMenu{
 
diff --git a/app/src/main/java/ch/bailu/aat/menus/OptionsMenu.java b/app/src/main/java/ch/bailu/aat/menus/OptionsMenu.java
index 5a79112b..5ea4d948 100644
--- a/app/src/main/java/ch/bailu/aat/menus/OptionsMenu.java
+++ b/app/src/main/java/ch/bailu/aat/menus/OptionsMenu.java
@@ -11,7 +11,7 @@ import org.osmdroid.util.BoundingBoxOsm;
 import ch.bailu.aat.R;
 import ch.bailu.aat.activities.ActivitySwitcher;
 import ch.bailu.aat.activities.NominatimActivity;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.preferences.SolidAutopause;
 import ch.bailu.aat.preferences.SolidBacklight;
 import ch.bailu.aat.preferences.SolidMapTileStack;
diff --git a/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesParser.java b/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesParser.java
index d528d8f8..abd4b714 100644
--- a/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesParser.java
+++ b/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesParser.java
@@ -4,7 +4,7 @@ import java.io.File;
 import java.io.IOException;
 
 import ch.bailu.aat.gpx.parser.SimpleStream;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.fs.FileAccess;
 
 public class MapFeaturesParser {
     
diff --git a/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesPreparser.java b/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesPreparser.java
index 3500f5ec..e411f790 100644
--- a/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesPreparser.java
+++ b/app/src/main/java/ch/bailu/aat/osm_features/MapFeaturesPreparser.java
@@ -10,9 +10,9 @@ import java.io.Writer;
 import java.util.ArrayList;
 
 import ch.bailu.aat.gpx.parser.SimpleStream;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.services.background.DownloadHandle;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/preferences/PreferenceLoadDefaults.java b/app/src/main/java/ch/bailu/aat/preferences/PreferenceLoadDefaults.java
index 229f89f1..529f0fdc 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/PreferenceLoadDefaults.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/PreferenceLoadDefaults.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.preferences;
 import android.app.Activity;
 import android.content.Context;
 
-import ch.bailu.aat.helpers.AppPermission;
+import ch.bailu.aat.util.AppPermission;
 
 public class PreferenceLoadDefaults {
     private static final String KEY_STARTCOUNT="start_count";
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidDataDirectory.java b/app/src/main/java/ch/bailu/aat/preferences/SolidDataDirectory.java
index f2dedf23..17bd8a10 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidDataDirectory.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidDataDirectory.java
@@ -7,7 +7,7 @@ import java.io.File;
 import java.util.ArrayList;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 
 public class SolidDataDirectory extends SolidDirectory {
 
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidInteger.java b/app/src/main/java/ch/bailu/aat/preferences/SolidInteger.java
index bdf9c7da..69350885 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidInteger.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidInteger.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.preferences;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class SolidInteger extends AbsSolidType {
     private final String key;
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidLegend.java b/app/src/main/java/ch/bailu/aat/preferences/SolidLegend.java
index ed43f40a..950911d2 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidLegend.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidLegend.java
@@ -3,21 +3,20 @@ package ch.bailu.aat.preferences;
 import android.content.Context;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.mapsforge.layer.MapsForgeLayer;
-import ch.bailu.aat.mapsforge.layer.context.MapContext;
-import ch.bailu.aat.mapsforge.layer.gpx.GpxLayer;
-import ch.bailu.aat.mapsforge.layer.gpx.legend.GpxLegendLayer;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.gpx.GpxOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.legend.GpxLegendOverlay;
-import ch.bailu.aat.views.map.overlay.gpx.legend.MarkerAltitudeWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.MarkerDistanceWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.MarkerSpeedWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.PointAltitudeWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.PointDistanceWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.PointIndexWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.PointNameWalker;
-import ch.bailu.aat.views.map.overlay.gpx.legend.SegmentIndexWalker;
+import ch.bailu.aat.map.mapsforge.layer.context.MapContext;
+import ch.bailu.aat.map.mapsforge.layer.gpx.GpxLayer;
+import ch.bailu.aat.map.mapsforge.layer.gpx.legend.GpxLegendLayer;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.GpxLegendOverlay;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.MarkerAltitudeWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.MarkerDistanceWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.MarkerSpeedWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.PointAltitudeWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.PointDistanceWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.PointIndexWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.PointNameWalker;
+import ch.bailu.aat.map.osm.overlay.gpx.legend.SegmentIndexWalker;
 
 public class SolidLegend extends SolidStaticIndexList {
 
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidLong.java b/app/src/main/java/ch/bailu/aat/preferences/SolidLong.java
index 35713863..71ee071c 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidLong.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidLong.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.preferences;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class SolidLong extends AbsSolidType {
 
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidMapGrid.java b/app/src/main/java/ch/bailu/aat/preferences/SolidMapGrid.java
index 6cb0ae33..e7a9e1de 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidMapGrid.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidMapGrid.java
@@ -9,14 +9,14 @@ import ch.bailu.aat.mapsforge.layer.grid.CH1903GridLayer;
 import ch.bailu.aat.mapsforge.layer.grid.UTMGridLayer;
 import ch.bailu.aat.mapsforge.layer.grid.WGS84Layer;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.AbsOsmView;
-import ch.bailu.aat.views.map.overlay.NullOverlay;
-import ch.bailu.aat.views.map.overlay.OsmOverlay;
-import ch.bailu.aat.views.map.overlay.grid.CH1903CenterCoordinatesOverlay;
-import ch.bailu.aat.views.map.overlay.grid.CH1903GridOverlay;
-import ch.bailu.aat.views.map.overlay.grid.UTMCenterCoordinatesOverlay;
-import ch.bailu.aat.views.map.overlay.grid.UTMGridOverlay;
-import ch.bailu.aat.views.map.overlay.grid.WGS84Overlay;
+import ch.bailu.aat.map.osm.AbsOsmView;
+import ch.bailu.aat.map.osm.overlay.NullOverlay;
+import ch.bailu.aat.map.osm.overlay.OsmOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.CH1903CenterCoordinatesOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.CH1903GridOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.UTMCenterCoordinatesOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.UTMGridOverlay;
+import ch.bailu.aat.map.osm.overlay.grid.WGS84Overlay;
 
 public class SolidMapGrid extends SolidStaticIndexList {
 
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidMapTileStack.java b/app/src/main/java/ch/bailu/aat/preferences/SolidMapTileStack.java
index 5ea4f3e6..3a7a78b4 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidMapTileStack.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidMapTileStack.java
@@ -9,6 +9,7 @@ import ch.bailu.aat.R;
 import ch.bailu.aat.services.cache.BitmapTileObject;
 import ch.bailu.aat.services.cache.ElevationColorTile;
 import ch.bailu.aat.services.cache.HillShadeCached;
+import ch.bailu.aat.services.cache.MapsForgeTileObject;
 import ch.bailu.aat.services.cache.NewHillshade;
 import ch.bailu.aat.services.cache.TileObject.Source;
 
@@ -20,7 +21,8 @@ public class SolidMapTileStack extends SolidCheckList {
 
 
     private final static Source[] SOURCES = new Source[] {
-            ElevationColorTile.ELEVATION_COLOR,
+            //ElevationColorTile.ELEVATION_COLOR,
+            MapsForgeTileObject.MAPSFORGE,
             // MAPNIK_GRAY,
             BitmapTileObject.MAPNIK,
             HillShadeCached.ELEVATION_HILLSHADE_CACHED,
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidPreset.java b/app/src/main/java/ch/bailu/aat/preferences/SolidPreset.java
index 8b241268..4a8725a0 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidPreset.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidPreset.java
@@ -5,7 +5,7 @@ import android.content.Context;
 import java.io.File;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 
 public class SolidPreset extends SolidIndexList {
     public final int PRESET_COUNT=5;
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidTileCacheDirectory.java b/app/src/main/java/ch/bailu/aat/preferences/SolidTileCacheDirectory.java
index caf74216..ba27fb5e 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidTileCacheDirectory.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidTileCacheDirectory.java
@@ -7,7 +7,7 @@ import java.io.File;
 import java.util.ArrayList;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 
 
 public class SolidTileCacheDirectory extends SolidDirectory {
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidTileSize.java b/app/src/main/java/ch/bailu/aat/preferences/SolidTileSize.java
index 5d43f740..2d5a128e 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidTileSize.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidTileSize.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.preferences;
 import android.content.Context;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 import ch.bailu.aat.services.cache.TileObject;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/preferences/SolidTypeInterface.java b/app/src/main/java/ch/bailu/aat/preferences/SolidTypeInterface.java
index 1a941c70..ad0451e7 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/SolidTypeInterface.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/SolidTypeInterface.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.preferences;
 import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
 
 import ch.bailu.aat.description.ContentInterface;
-import ch.bailu.aat.helpers.ContextWrapperInterface;
+import ch.bailu.aat.util.ContextWrapperInterface;
 
 public interface SolidTypeInterface extends
         ContextWrapperInterface,
diff --git a/app/src/main/java/ch/bailu/aat/preferences/Storage.java b/app/src/main/java/ch/bailu/aat/preferences/Storage.java
index 615b01ea..23d0fe11 100644
--- a/app/src/main/java/ch/bailu/aat/preferences/Storage.java
+++ b/app/src/main/java/ch/bailu/aat/preferences/Storage.java
@@ -9,9 +9,9 @@ import android.os.Environment;
 import java.io.File;
 import java.util.Map.Entry;
 
-import ch.bailu.aat.helpers.ContextWrapperInterface;
-import ch.bailu.aat.helpers.file.FileAccess;
-import ch.bailu.aat.helpers.file.UriAccess;
+import ch.bailu.aat.util.ContextWrapperInterface;
+import ch.bailu.aat.util.fs.FileAccess;
+import ch.bailu.aat.util.fs.UriAccess;
 
 public class Storage  implements ContextWrapperInterface {
     public final static String DEF_VALUE="0";
diff --git a/app/src/main/java/ch/bailu/aat/providers/GpxProvider.java b/app/src/main/java/ch/bailu/aat/providers/GpxProvider.java
index 8e2728b3..de9eaf5d 100644
--- a/app/src/main/java/ch/bailu/aat/providers/GpxProvider.java
+++ b/app/src/main/java/ch/bailu/aat/providers/GpxProvider.java
@@ -11,7 +11,7 @@ import android.provider.OpenableColumns;
 import java.io.File;
 import java.io.FileNotFoundException;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 
 
diff --git a/app/src/main/java/ch/bailu/aat/services/AbsService.java b/app/src/main/java/ch/bailu/aat/services/AbsService.java
index 8454ff7c..5494051d 100644
--- a/app/src/main/java/ch/bailu/aat/services/AbsService.java
+++ b/app/src/main/java/ch/bailu/aat/services/AbsService.java
@@ -10,8 +10,8 @@ import java.util.Date;
 import java.util.HashSet;
 import java.util.Set;
 
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.Timer;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.Timer;
 
 public abstract class AbsService  extends Service {
     private static int allinstances, allcreations;
diff --git a/app/src/main/java/ch/bailu/aat/services/OneService.java b/app/src/main/java/ch/bailu/aat/services/OneService.java
index 165f3e31..9276a4cd 100644
--- a/app/src/main/java/ch/bailu/aat/services/OneService.java
+++ b/app/src/main/java/ch/bailu/aat/services/OneService.java
@@ -8,6 +8,7 @@ import ch.bailu.aat.services.dem.ElevationService;
 import ch.bailu.aat.services.directory.DirectoryService;
 import ch.bailu.aat.services.icons.IconMapService;
 import ch.bailu.aat.services.location.LocationService;
+import ch.bailu.aat.services.render.RenderService;
 import ch.bailu.aat.services.tileremover.TileRemoverService;
 import ch.bailu.aat.services.tracker.TrackerService;
 
@@ -23,6 +24,7 @@ public class OneService extends AbsService  implements ServiceContext {
     private DirectoryService directory;
     private ElevationService elevation;
     private TileRemoverService tileRemover;
+    private RenderService render;
 
 
     private boolean up = false;
@@ -36,6 +38,7 @@ public class OneService extends AbsService  implements ServiceContext {
 
     @Override
     public void onDestroy() {
+
         if (tracker != null) {
             tracker.close();
             tracker = null;
@@ -76,6 +79,10 @@ public class OneService extends AbsService  implements ServiceContext {
             tileRemover = null;
         }
 
+        if (render != null) {
+            render.close();
+            render = null;
+        }
         super.onDestroy();
         up = false;
     }
@@ -113,6 +120,14 @@ public class OneService extends AbsService  implements ServiceContext {
         return cache;
     }
 
+    @Override
+    public RenderService getRenderService() {
+        if (forceUp() && render == null) {
+            render = new RenderService(this);
+        }
+        return render;
+    }
+
     @Override
     public ElevationService getElevationService() {
         if (forceUp() && elevation == null)
diff --git a/app/src/main/java/ch/bailu/aat/services/ServiceContext.java b/app/src/main/java/ch/bailu/aat/services/ServiceContext.java
index d75b5d64..b9e19393 100644
--- a/app/src/main/java/ch/bailu/aat/services/ServiceContext.java
+++ b/app/src/main/java/ch/bailu/aat/services/ServiceContext.java
@@ -2,7 +2,8 @@ package ch.bailu.aat.services;
 
 import android.app.Notification;
 
-import ch.bailu.aat.helpers.ContextWrapperInterface;
+import ch.bailu.aat.services.render.RenderService;
+import ch.bailu.aat.util.ContextWrapperInterface;
 import ch.bailu.aat.services.background.BackgroundService;
 import ch.bailu.aat.services.cache.CacheService;
 import ch.bailu.aat.services.dem.ElevationService;
@@ -27,6 +28,7 @@ public interface ServiceContext extends ContextWrapperInterface {
     IconMapService getIconMapService();
     DirectoryService getDirectoryService();
     TileRemoverService getTileRemoverService();
+    RenderService getRenderService();
 
     void startForeground(int id, Notification notification);
     void stopForeground(boolean b);
diff --git a/app/src/main/java/ch/bailu/aat/services/ServiceLink.java b/app/src/main/java/ch/bailu/aat/services/ServiceLink.java
index c39fea10..8855598f 100644
--- a/app/src/main/java/ch/bailu/aat/services/ServiceLink.java
+++ b/app/src/main/java/ch/bailu/aat/services/ServiceLink.java
@@ -15,6 +15,7 @@ import ch.bailu.aat.services.dem.ElevationService;
 import ch.bailu.aat.services.directory.DirectoryService;
 import ch.bailu.aat.services.icons.IconMapService;
 import ch.bailu.aat.services.location.LocationService;
+import ch.bailu.aat.services.render.RenderService;
 import ch.bailu.aat.services.tileremover.TileRemoverService;
 import ch.bailu.aat.services.tracker.TrackerService;
 
@@ -175,6 +176,9 @@ public abstract class ServiceLink implements
         return getService().getDirectoryService();
     }
 
+    @Override
+    public RenderService getRenderService() { return getService().getRenderService();}
+
 
     @Override
     public TileRemoverService getTileRemoverService() {
diff --git a/app/src/main/java/ch/bailu/aat/services/background/BackgroundService.java b/app/src/main/java/ch/bailu/aat/services/background/BackgroundService.java
index bcddf369..df4d2bb8 100644
--- a/app/src/main/java/ch/bailu/aat/services/background/BackgroundService.java
+++ b/app/src/main/java/ch/bailu/aat/services/background/BackgroundService.java
@@ -9,9 +9,9 @@ import java.io.File;
 import java.net.MalformedURLException;
 import java.net.URL;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.VirtualService;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/background/DownloadHandle.java b/app/src/main/java/ch/bailu/aat/services/background/DownloadHandle.java
index 1b356ee6..adf3606e 100644
--- a/app/src/main/java/ch/bailu/aat/services/background/DownloadHandle.java
+++ b/app/src/main/java/ch/bailu/aat/services/background/DownloadHandle.java
@@ -9,9 +9,9 @@ import java.io.OutputStream;
 import java.net.HttpURLConnection;
 import java.net.URL;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.util.fs.FileAccess;
 
 public class DownloadHandle extends ProcessHandle {
 
diff --git a/app/src/main/java/ch/bailu/aat/services/background/MapFeaturesDownloader.java b/app/src/main/java/ch/bailu/aat/services/background/MapFeaturesDownloader.java
index ff7969b0..62a2b40d 100644
--- a/app/src/main/java/ch/bailu/aat/services/background/MapFeaturesDownloader.java
+++ b/app/src/main/java/ch/bailu/aat/services/background/MapFeaturesDownloader.java
@@ -9,10 +9,10 @@ import java.io.File;
 import java.io.IOException;
 import java.util.ArrayList;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.osm_features.MapFeaturesPreparser;
 import ch.bailu.aat.services.ServiceContext;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/BitmapTileObject.java b/app/src/main/java/ch/bailu/aat/services/cache/BitmapTileObject.java
index e84ed1e8..ee6f5e17 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/BitmapTileObject.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/BitmapTileObject.java
@@ -3,21 +3,23 @@ package ch.bailu.aat.services.cache;
 import android.content.Context;
 import android.graphics.Bitmap;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 import org.osmdroid.tileprovider.tilesource.XYTileSource;
 
 import java.io.File;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.DownloadHandle;
 import ch.bailu.aat.services.background.FileHandle;
+import ch.bailu.aat.util.graphic.SynchronizedBitmap;
 
 
 public class BitmapTileObject extends TileObject {
     private final Source source;
-    private final MapTile tile;
+    private final Tile tile;
 
 
     private final FileHandle load;
@@ -28,7 +30,7 @@ public class BitmapTileObject extends TileObject {
     private final SynchronizedBitmap bitmap=new SynchronizedBitmap();
 
 
-    public BitmapTileObject(String id, ServiceContext cs,  MapTile t, Source s) {
+    public BitmapTileObject(String id, ServiceContext cs,  Tile t, Source s) {
         super(id);
         
         tile = t;
@@ -85,8 +87,8 @@ public class BitmapTileObject extends TileObject {
     private boolean isDownloadable() {
         return (
                 !new File(toString()).exists() &&
-                source.getMaximumZoomLevel() >= tile.getZoomLevel() &&
-                source.getMinimumZoomLevel() <= tile.getZoomLevel());
+                source.getMaximumZoomLevel() >= tile.zoomLevel &&
+                source.getMinimumZoomLevel() <= tile.zoomLevel);
     }
     
     
@@ -130,11 +132,11 @@ public class BitmapTileObject extends TileObject {
 
 
     public static class Factory extends ObjectHandle.Factory {
-        private final MapTile mapTile;
+        private final Tile mapTile;
         private final Source source;
 
         
-        public Factory(MapTile mt, Source s) {
+        public Factory(Tile mt, Source s) {
             mapTile=mt;
             source = s;
         }
@@ -165,7 +167,7 @@ public class BitmapTileObject extends TileObject {
         
         
         @Override
-        public String getID(MapTile mt, Context context) {
+        public String getID(Tile mt, Context context) {
             return AppDirectory.getTileFile(mt, osmdroidSource, context).getAbsolutePath();
         }
 
@@ -180,12 +182,12 @@ public class BitmapTileObject extends TileObject {
         }
 
         @Override
-        public Factory getFactory(MapTile mt) {
+        public Factory getFactory(Tile mt) {
             return new BitmapTileObject.Factory(mt, this);
         }
 
-        public String getTileURLString(MapTile tile) {
-            return osmdroidSource.getTileURLString(tile);
+        public String getTileURLString(Tile tile) {
+            return osmdroidSource.getTileURLString(new MapTile(tile.zoomLevel, tile.tileX, tile.tileY));
         }
 
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/CacheService.java b/app/src/main/java/ch/bailu/aat/services/cache/CacheService.java
index 6e248a64..75937687 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/CacheService.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/CacheService.java
@@ -4,7 +4,7 @@ import android.content.BroadcastReceiver;
 import android.content.Context;
 import android.content.Intent;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.VirtualService;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/ElevationColorTile.java b/app/src/main/java/ch/bailu/aat/services/cache/ElevationColorTile.java
index 3f596a6a..f988d5db 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/ElevationColorTile.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/ElevationColorTile.java
@@ -2,6 +2,7 @@ package ch.bailu.aat.services.cache;
 
 import android.content.Context;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 
 import ch.bailu.aat.services.ServiceContext;
@@ -10,7 +11,7 @@ import ch.bailu.aat.views.graph.ColorTable;
 
 public class ElevationColorTile extends ElevationTile {
 
-    public ElevationColorTile(String id, ServiceContext cs, MapTile t, int _split) {
+    public ElevationColorTile(String id, ServiceContext cs, Tile t, int _split) {
         super(id, cs, t, _split);
     }
 
@@ -64,13 +65,17 @@ public class ElevationColorTile extends ElevationTile {
         }
     }
 
+    @Override
+    public long getSize() {
+        return getBytesHack(TILE_SIZE);
+    }
 
 
     public static class Factory extends ObjectHandle.Factory {
         private static final int SPLIT=0;
-        private final MapTile mapTile;
+        private final Tile mapTile;
 
-        public Factory(MapTile t) {
+        public Factory(Tile t) {
             mapTile=t;
         }
 
@@ -92,8 +97,8 @@ public class ElevationColorTile extends ElevationTile {
                 }
 
                 @Override
-                public String getID(MapTile t, Context x) {
-                    return getName() + "/" + t.getZoomLevel() + "/" + t.getX() + "/" + t.getY();
+                public String getID(Tile t, Context x) {
+                    return Source.genID(t, ElevationColorTile.class.getSimpleName());
                 }
 
                 @Override
@@ -107,7 +112,7 @@ public class ElevationColorTile extends ElevationTile {
                 }
 
                 @Override
-                public ObjectHandle.Factory getFactory(MapTile mt) {
+                public ObjectHandle.Factory getFactory(Tile mt) {
                     return  new ElevationColorTile.Factory(mt);
                 }
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/ElevationTile.java b/app/src/main/java/ch/bailu/aat/services/cache/ElevationTile.java
index 2bb507a3..005c585d 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/ElevationTile.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/ElevationTile.java
@@ -7,13 +7,14 @@ import android.graphics.Point;
 import android.graphics.Rect;
 import android.util.SparseArray;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 import org.osmdroid.util.GeoPoint;
 
 import java.util.ArrayList;
 
 import ch.bailu.aat.coordinates.SrtmCoordinates;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.ProcessHandle;
 import ch.bailu.aat.services.dem.Dem3Tile;
@@ -22,11 +23,12 @@ import ch.bailu.aat.services.dem.DemGeoToIndex;
 import ch.bailu.aat.services.dem.DemProvider;
 import ch.bailu.aat.services.dem.DemSplitter;
 import ch.bailu.aat.services.dem.ElevationUpdaterClient;
+import ch.bailu.aat.util.graphic.SynchronizedBitmap;
 import microsoft.mappoint.TileSystem;
 
 public abstract class ElevationTile extends TileObject implements ElevationUpdaterClient{
 
-    private final MapTile map_tile;
+    private final Tile map_tile;
     private final int split;
     
     private boolean updateLock=false;
@@ -42,7 +44,7 @@ public abstract class ElevationTile extends TileObject implements ElevationUpdat
     
 
     
-    public ElevationTile(String id, ServiceContext cs, MapTile _map_tile, int _split) {
+    public ElevationTile(String id, ServiceContext cs, Tile _map_tile, int _split) {
         super(id);
         map_tile=_map_tile;
         split=_split;
@@ -225,7 +227,7 @@ public abstract class ElevationTile extends TileObject implements ElevationUpdat
             return TileSystem.PixelXYToLatLong(
                     x, 
                     y,
-                    map_tile.getZoomLevel(), 
+                    map_tile.zoomLevel,
                     TileObject.TILE_SIZE, 
                     null);
         }        
@@ -272,7 +274,7 @@ public abstract class ElevationTile extends TileObject implements ElevationUpdat
 
 
         private Point tileToPixel() {
-            return new Point(map_tile.getX()*TileObject.TILE_SIZE, map_tile.getY()*TileObject.TILE_SIZE);
+            return new Point(map_tile.tileX*TileObject.TILE_SIZE, map_tile.tileY*TileObject.TILE_SIZE);
         }
 
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/EmptyTileObject.java b/app/src/main/java/ch/bailu/aat/services/cache/EmptyTileObject.java
index 6ade7b65..90377bc4 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/EmptyTileObject.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/EmptyTileObject.java
@@ -3,6 +3,7 @@ package ch.bailu.aat.services.cache;
 import android.graphics.Bitmap;
 
 import ch.bailu.aat.services.ServiceContext;
+import ch.bailu.aat.util.graphic.SynchronizedBitmap;
 
 
 public class EmptyTileObject extends TileObject {
@@ -13,9 +14,15 @@ public class EmptyTileObject extends TileObject {
         
     }
 
+    @Override
+    public long getSize() {
+        return MIN_SIZE;
+    }
+
     private static SynchronizedBitmap createBitmap() {
         SynchronizedBitmap bitmap = new SynchronizedBitmap();
         bitmap.set(SynchronizedBitmap.createBitmap(TILE_SIZE, TILE_SIZE));
+
         return bitmap;
     }
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/GpxObject.java b/app/src/main/java/ch/bailu/aat/services/cache/GpxObject.java
index 6dafdd51..ee625a6c 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/GpxObject.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/GpxObject.java
@@ -15,6 +15,11 @@ public abstract class GpxObject extends ObjectHandle {
 
     public static final GpxObject NULL = new GpxObject(GpxObject.class.getSimpleName()) {
 
+        @Override
+        public long getSize() {
+            return MIN_SIZE;
+        }
+
         @Override
         public void onChanged(String id, ServiceContext sc) {}
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectEditable.java b/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectEditable.java
index 8410a737..fea7299a 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectEditable.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectEditable.java
@@ -11,9 +11,9 @@ import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxPoint;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.writer.GpxListWriter;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.editor.EditorInterface;
 import ch.bailu.aat.services.editor.GpxEditor;
@@ -62,7 +62,12 @@ public class GpxObjectEditable extends  GpxObject {
         return currentHandle.isReady();
     }
 
-    
+    @Override
+    public long getSize() {
+        return MIN_SIZE;
+    }
+
+
     @Override
     public void onDownloaded(String id, String url, ServiceContext sc) {}
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectStatic.java b/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectStatic.java
index aa5b6af2..cddeedd8 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectStatic.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/GpxObjectStatic.java
@@ -16,8 +16,8 @@ import ch.bailu.aat.gpx.MaxSpeed;
 import ch.bailu.aat.gpx.interfaces.GpxType;
 import ch.bailu.aat.gpx.linked_list.Node;
 import ch.bailu.aat.gpx.parser.GpxListReader;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.file.AbsAccess;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AbsAccess;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.FileHandle;
 import ch.bailu.aat.services.dem.Dem3Tile;
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/HillShadeCached.java b/app/src/main/java/ch/bailu/aat/services/cache/HillShadeCached.java
index c2a9bcc5..8ce4fea0 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/HillShadeCached.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/HillShadeCached.java
@@ -4,14 +4,15 @@ package ch.bailu.aat.services.cache;
 import android.content.Context;
 import android.graphics.Bitmap;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 
 import java.io.File;
 import java.io.IOException;
 import java.io.OutputStream;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.FileHandle;
 
@@ -26,7 +27,7 @@ public class HillShadeCached extends TileObject {
 
 
 
-    public HillShadeCached(String id, ServiceContext cs,  MapTile t) {
+    public HillShadeCached(String id, ServiceContext cs,  Tile t) {
         super(id);
 
 
@@ -49,7 +50,11 @@ public class HillShadeCached extends TileObject {
 
                 try {
                     out = FileAccess.openOutput(new File(bitmapID));
-                    tile.getBitmap().compress(Bitmap.CompressFormat.PNG, 0, out);
+
+                    Bitmap bitmap = tile.getBitmap();
+                    if (bitmap != null) {
+                        bitmap.compress(Bitmap.CompressFormat.PNG, 0, out);
+                    }
 
                 } catch (IOException e) {
                     e.printStackTrace();
@@ -154,10 +159,10 @@ public class HillShadeCached extends TileObject {
 
 
     public static class Factory extends ObjectHandle.Factory {
-        private final MapTile mapTile;
+        private final Tile mapTile;
 
 
-        public Factory(MapTile mt) {
+        public Factory(Tile mt) {
             mapTile=mt;
         }
 
@@ -177,9 +182,8 @@ public class HillShadeCached extends TileObject {
                 }
 
                 @Override
-                public String getID(MapTile t, Context x) {
-                    return HillShadeCached.class.getSimpleName() +
-                            "/" + t.getZoomLevel() + "/" + t.getX() + "/" + t.getY();
+                public String getID(Tile t, Context x) {
+                    return genID(t, HillShadeCached.class.getSimpleName());
                 }
 
                 @Override
@@ -193,7 +197,7 @@ public class HillShadeCached extends TileObject {
                 }
 
                 @Override
-                public ObjectHandle.Factory getFactory(MapTile mt) {
+                public ObjectHandle.Factory getFactory(Tile mt) {
                     return  new HillShadeCached.Factory(mt);
                 }
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/HillshadeColorTable.java b/app/src/main/java/ch/bailu/aat/services/cache/HillshadeColorTable.java
index a25b27f1..8eac0eb8 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/HillshadeColorTable.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/HillshadeColorTable.java
@@ -2,7 +2,7 @@ package ch.bailu.aat.services.cache;
 
 import android.content.Context;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.ProcessHandle;
 import ch.bailu.aat.services.dem.MultiCell;
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/ImageObject.java b/app/src/main/java/ch/bailu/aat/services/cache/ImageObject.java
index a0be5c13..b60b79c3 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/ImageObject.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/ImageObject.java
@@ -7,9 +7,10 @@ import android.graphics.drawable.Drawable;
 
 import java.io.File;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.FileHandle;
+import ch.bailu.aat.util.graphic.SynchronizedBitmap;
 
 public class ImageObject extends ObjectHandle {
     public final static ImageObject NULL=new ImageObject();
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/LockCache.java b/app/src/main/java/ch/bailu/aat/services/cache/LockCache.java
index 86135063..685e1fa0 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/LockCache.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/LockCache.java
@@ -2,6 +2,8 @@ package ch.bailu.aat.services.cache;
 
 import java.io.Closeable;
 
+import ch.bailu.aat.util.ui.AppLog;
+
 public class LockCache<E extends ObjectHandle>  implements Closeable {
     private E[] array;
     private int size;
@@ -46,6 +48,8 @@ public class LockCache<E extends ObjectHandle>  implements Closeable {
         }
 
         array[i] = handle;
+
+        AppLog.d(this, "Size is: " + size);
     }
 
 
@@ -96,5 +100,7 @@ public class LockCache<E extends ObjectHandle>  implements Closeable {
 
         array = newArray;
         size = Math.min(size, array.length);
+
+        AppLog.d(this, "size is: " + size + ", capacity is: " + array.length);
     }
 }
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/MapsForgeTileObject.java b/app/src/main/java/ch/bailu/aat/services/cache/MapsForgeTileObject.java
new file mode 100644
index 00000000..25afdba6
--- /dev/null
+++ b/app/src/main/java/ch/bailu/aat/services/cache/MapsForgeTileObject.java
@@ -0,0 +1,137 @@
+package ch.bailu.aat.services.cache;
+
+import android.content.Context;
+import android.graphics.Bitmap;
+
+import org.mapsforge.core.graphics.TileBitmap;
+import org.mapsforge.core.model.Tile;
+import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
+import org.mapsforge.map.model.common.Observer;
+
+import ch.bailu.aat.services.ServiceContext;
+import ch.bailu.aat.util.AppBroadcaster;
+
+public class MapsForgeTileObject extends TileObject implements Observer {
+    private final ServiceContext scontext;
+    private final Tile tile;
+
+    private TileBitmap bitmap = null;
+    public MapsForgeTileObject(String id, ServiceContext sc, Tile t) {
+        super(id);
+        scontext = sc;
+        tile = t;
+        sc.getRenderService().lockToCache(this);
+        retreiveBitmap();
+    }
+
+    private void retreiveBitmap() {
+        TileBitmap b = scontext.getRenderService().getTile(tile);
+
+        if (b != null) {
+            bitmap = b;
+            AppBroadcaster.broadcast(scontext.getContext(),
+                    AppBroadcaster.FILE_CHANGED_INCACHE,
+                    toString());
+        }
+    }
+
+    @Override
+    public Bitmap getBitmap() {
+        if (bitmap != null) {
+            return AndroidGraphicFactory.getBitmap(bitmap);
+        }
+        return null;
+    }
+
+    @Override
+    public void reDownload(ServiceContext sc) {
+
+    }
+
+    @Override
+    public boolean isLoaded() {
+        return getBitmap() != null;
+    }
+
+    @Override
+    public void onDownloaded(String id, String url, ServiceContext sc) {
+
+    }
+
+    @Override
+    public void onChanged(String id, ServiceContext sc) {
+
+    }
+
+    @Override
+    public void onChange() {
+        retreiveBitmap();
+    }
+
+
+    @Override
+    public void onRemove(ServiceContext sc) {
+        sc.getRenderService().freeFromCache(this);
+        super.onRemove(sc);
+    }
+
+
+    @Override
+    public long getSize() {
+        return getBytesHack(tile.tileSize);
+    }
+
+    public Tile getTile() {
+        return tile;
+    }
+
+
+    public static class Factory extends ObjectHandle.Factory {
+        private final Tile mapTile;
+
+        public Factory(Tile t) {
+            mapTile=t;
+        }
+
+        @Override
+        public ObjectHandle factory(String id, ServiceContext sc) {
+            return  new MapsForgeTileObject(id, sc, mapTile);
+        }
+
+    }
+
+
+    public final static Source MAPSFORGE =
+            new Source() {
+
+                @Override
+                public String getName() {
+                    return "MapsForge*";
+                }
+
+                @Override
+                public String getID(Tile t, Context x) {
+                    return genID(t, MapsForgeTileObject.class.getSimpleName());
+                }
+
+                @Override
+                public int getMinimumZoomLevel() {
+                    return 8;
+                }
+
+                @Override
+                public int getMaximumZoomLevel() {
+                    return 20;
+                }
+
+                @Override
+                public ObjectHandle.Factory getFactory(Tile mt) {
+                    return  new Factory(mt);
+                }
+
+                @Override
+                public TileBitmapFilter getBitmapFilter() {
+                    return TileBitmapFilter.COPY_FILTER;
+                }
+            };
+}
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/NewHillshade.java b/app/src/main/java/ch/bailu/aat/services/cache/NewHillshade.java
index ca2fb3cb..978b4742 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/NewHillshade.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/NewHillshade.java
@@ -2,6 +2,7 @@ package ch.bailu.aat.services.cache;
 
 import android.content.Context;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 
 import ch.bailu.aat.services.ServiceContext;
@@ -16,8 +17,8 @@ public class NewHillshade extends ElevationTile {
 
     private HillshadeColorTable table;
 
-    public NewHillshade(String id, ServiceContext sc, MapTile t) {
-        super(id, sc, t, splitFromZoom(t.getZoomLevel()));
+    public NewHillshade(String id, ServiceContext sc, Tile t) {
+        super(id, sc, t, splitFromZoom(t.zoomLevel));
     }
 
 
@@ -36,6 +37,11 @@ public class NewHillshade extends ElevationTile {
         table.free();
     }
 
+    @Override
+    public long getSize() {
+        return getBytesHack(TILE_SIZE);
+    }
+
     @Override
     public DemGeoToIndex factoryGeoToIndex(DemDimension dim) {
         return new DemGeoToIndex(dim, true);
@@ -118,9 +124,9 @@ public class NewHillshade extends ElevationTile {
     }
 
     public static class Factory extends ObjectHandle.Factory {
-        private final MapTile mapTile;
+        private final Tile mapTile;
 
-        public Factory(MapTile t) {
+        public Factory(Tile t) {
             mapTile=t;
         }
 
@@ -141,8 +147,8 @@ public class NewHillshade extends ElevationTile {
                 }
 
                 @Override
-                public String getID(MapTile t, Context x) {
-                    return NewHillshade.class.getSimpleName() + "/" + t.getZoomLevel() + "/" + t.getX() + "/" + t.getY();
+                public String getID(Tile t, Context x) {
+                    return genID(t, NewHillshade.class.getSimpleName());
                 }
 
                 @Override
@@ -156,7 +162,7 @@ public class NewHillshade extends ElevationTile {
                 }
 
                 @Override
-                public ObjectHandle.Factory getFactory(MapTile mt) {
+                public ObjectHandle.Factory getFactory(Tile mt) {
                     return  new NewHillshade.Factory(mt);
                 }
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/ObjectBroadcaster.java b/app/src/main/java/ch/bailu/aat/services/cache/ObjectBroadcaster.java
index 7e134ff8..05ec9af8 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/ObjectBroadcaster.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/ObjectBroadcaster.java
@@ -7,8 +7,8 @@ import android.util.SparseArray;
 
 import java.io.Closeable;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.services.ServiceContext;
 
 public class ObjectBroadcaster implements Closeable {
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/ObjectHandle.java b/app/src/main/java/ch/bailu/aat/services/cache/ObjectHandle.java
index 588afdde..ce0d3488 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/ObjectHandle.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/ObjectHandle.java
@@ -1,7 +1,5 @@
 package ch.bailu.aat.services.cache;
 
-import org.mapsforge.core.graphics.TileBitmap;
-
 import java.io.File;
 
 import ch.bailu.aat.services.ServiceContext;
@@ -11,7 +9,12 @@ public abstract class ObjectHandle implements ObjectBroadcastReceiver{
     public static final int MIN_SIZE=10;
 
     public static final ObjectHandle NULL = new ObjectHandle(""){
-        
+
+        @Override
+        public long getSize() {
+            return MIN_SIZE;
+        }
+
         @Override
         public void onDownloaded(String id, String url, ServiceContext cs) {}
 
@@ -59,10 +62,7 @@ public abstract class ObjectHandle implements ObjectBroadcastReceiver{
         return true;
     }
     
-    public long getSize() {
-        return MIN_SIZE;
-    }
-
+    public abstract long getSize();
     
     public synchronized void access() {
         accessTime=System.currentTimeMillis();
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/ObjectTable.java b/app/src/main/java/ch/bailu/aat/services/cache/ObjectTable.java
index b53436bf..485d344b 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/ObjectTable.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/ObjectTable.java
@@ -3,8 +3,8 @@ package ch.bailu.aat.services.cache;
 import android.content.Intent;
 import android.util.SparseArray;
 
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.cache.ObjectHandle.Factory;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/TileObject.java b/app/src/main/java/ch/bailu/aat/services/cache/TileObject.java
index 43a4375f..f9c97b1c 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/TileObject.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/TileObject.java
@@ -3,6 +3,9 @@ package ch.bailu.aat.services.cache;
 import android.content.Context;
 import android.graphics.Bitmap;
 
+import org.mapsforge.core.model.Tile;
+import org.mapsforge.map.layer.queue.JobQueue;
+import org.mapsforge.map.model.MapViewPosition;
 import org.osmdroid.tileprovider.MapTile;
 
 import ch.bailu.aat.services.ServiceContext;
@@ -25,14 +28,23 @@ public abstract class TileObject extends ObjectHandle{
     public static abstract class  Source {
         public abstract TileBitmapFilter getBitmapFilter();
         public abstract String getName();
-        public abstract String getID(MapTile aTile, Context context);
+        public abstract String getID(Tile aTile, Context context);
+
+
         public abstract int getMinimumZoomLevel();
         public abstract int getMaximumZoomLevel();
         
     
-        public abstract ObjectHandle.Factory getFactory(MapTile mt);
-        
-        
+        public abstract ObjectHandle.Factory getFactory(Tile tile);
+
+
+        public static String genID(Tile t, String name) {
+            return name + "/" + t.zoomLevel + "/" + t.tileX + "/" + t.tileY;
+
+        }
+    }
+
+    public static long getBytesHack(int size) {
+        return size * size * 4;
     }
-    
 }
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/TileStackObject.java b/app/src/main/java/ch/bailu/aat/services/cache/TileStackObject.java
index a9e5b34a..c0bcc81d 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/TileStackObject.java
+++ b/app/src/main/java/ch/bailu/aat/services/cache/TileStackObject.java
@@ -9,15 +9,17 @@ import android.graphics.Paint;
 import android.graphics.drawable.Drawable;
 
 import org.mapsforge.core.graphics.TileBitmap;
-import org.mapsforge.map.android.graphics.AndroidTileBitmap;
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 import org.osmdroid.views.overlay.LoadingTile;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.mapsforge.MapsForgeBitmap;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.ProcessHandle;
 import ch.bailu.aat.services.cache.TileObject.Source;
+import ch.bailu.aat.util.graphic.AppTileBitmap;
+import ch.bailu.aat.util.graphic.SynchronizedTileBitmap;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class TileStackObject extends ObjectHandle {
 
@@ -31,24 +33,22 @@ public class TileStackObject extends ObjectHandle {
     private ProcessHandle pendingUpdate=ProcessHandle.NULL;
 
 
-    private final MapTile mapTile;
-    private final int tileSize;
+    private final Tile mapTile;
+
 
     private boolean ready=false;
 
     private TileStackObject() {
         super(TileStackObject.class.getSimpleName());
         tiles = new TileContainer[]{};
-        mapTile = new MapTile(0, 0, 0);
-        tileSize=256;
+        mapTile = new Tile(0,0,(byte)0,TileObject.TILE_SIZE);
     }
 
 
-    public TileStackObject(String s,  TileContainer[] t, MapTile m, int size) {
+    public TileStackObject(String s,  TileContainer[] t, Tile m) {
         super(s);
         tiles = t;
         mapTile=m;
-        tileSize = size;
 
         paint.setColor(Color.WHITE);
         paint.setStyle(Paint.Style.FILL);
@@ -152,7 +152,7 @@ public class TileStackObject extends ObjectHandle {
 
         @Override
         public long bgOnProcess() {
-            MapsForgeBitmap b = bgReupdate();
+            AppTileBitmap b = bgReupdate();
 
             if (canContinue()) {
                 bitmap.set(b);
@@ -164,10 +164,10 @@ public class TileStackObject extends ObjectHandle {
 
 
 
-        private MapsForgeBitmap bgReupdate() {
+        private AppTileBitmap bgReupdate() {
 
 
-            MapsForgeBitmap destination=null;
+            AppTileBitmap destination=null;
             Canvas canvas=null;
             int alpha=NULL_ALPHA;
 
@@ -182,7 +182,8 @@ public class TileStackObject extends ObjectHandle {
 
                 if (source != null) {
                     if (canvas == null) {
-                        destination = new MapsForgeBitmap(tileSize);
+                        destination = new AppTileBitmap(mapTile.tileSize);
+                        destination.erase();
                         canvas = destination.getCanvas();
                     }
                     tile.filter.applayFilter(canvas, source, alpha);
@@ -219,7 +220,7 @@ public class TileStackObject extends ObjectHandle {
         }
     }
 
-    public MapTile getTile() {
+    public Tile getTile() {
         return mapTile;
     }
 
@@ -279,14 +280,14 @@ public class TileStackObject extends ObjectHandle {
 
     public static class Factory extends ObjectHandle.Factory {
         private final TileContainer[] tiles;
-        private final MapTile mapTile;
-        private final int size;
+        private final Tile mapTile;
+
 
 
-        public Factory(Context context, MapTile mt, int size, Source s[]) {
+        public Factory(Context context, Tile mt, Source s[]) {
             mapTile = mt;
             int count=0;
-            this.size = size;
+
 
             for (Source value1 : s) {
                 if (isZoomLevelSupported(value1)) {
@@ -312,12 +313,15 @@ public class TileStackObject extends ObjectHandle {
 
 
         boolean isZoomLevelSupported(Source s) {
-            final int z = mapTile.getZoomLevel();
+            final int z = mapTile.zoomLevel;
             return (s.getMaximumZoomLevel()>=z && s.getMinimumZoomLevel()<=z);
         }
         @Override
         public ObjectHandle factory(String id, ServiceContext cs) {
-            return new TileStackObject(id, tiles, mapTile, size);
+            return new TileStackObject(id, tiles, mapTile);
         }
     }
+
+
+
 }
diff --git a/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tile.java b/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tile.java
index 99ed4705..6a377fda 100644
--- a/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tile.java
+++ b/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tile.java
@@ -11,7 +11,7 @@ import java.util.zip.ZipEntry;
 import java.util.zip.ZipFile;
 
 import ch.bailu.aat.coordinates.SrtmCoordinates;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.FileHandle;
 import ch.bailu.aat.services.background.ProcessHandle;
diff --git a/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tiles.java b/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tiles.java
index c40f0e75..fce252b3 100644
--- a/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tiles.java
+++ b/app/src/main/java/ch/bailu/aat/services/dem/Dem3Tiles.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.services.dem;
 import java.io.File;
 
 import ch.bailu.aat.coordinates.SrtmCoordinates;
-import ch.bailu.aat.helpers.Timer;
+import ch.bailu.aat.util.Timer;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.DownloadHandle;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/dem/ElevationUpdater.java b/app/src/main/java/ch/bailu/aat/services/dem/ElevationUpdater.java
index 35b0cd88..987e2bc7 100644
--- a/app/src/main/java/ch/bailu/aat/services/dem/ElevationUpdater.java
+++ b/app/src/main/java/ch/bailu/aat/services/dem/ElevationUpdater.java
@@ -8,8 +8,8 @@ import android.util.SparseArray;
 import java.io.Closeable;
 
 import ch.bailu.aat.coordinates.SrtmCoordinates;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.services.ServiceContext;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/services/directory/DirectoryService.java b/app/src/main/java/ch/bailu/aat/services/directory/DirectoryService.java
index 63d0bade..e14ff5bb 100644
--- a/app/src/main/java/ch/bailu/aat/services/directory/DirectoryService.java
+++ b/app/src/main/java/ch/bailu/aat/services/directory/DirectoryService.java
@@ -8,8 +8,8 @@ import android.database.sqlite.SQLiteCantOpenDatabaseException;
 import java.io.File;
 import java.io.IOException;
 
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.preferences.SolidDirectoryQuery;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.VirtualService;
diff --git a/app/src/main/java/ch/bailu/aat/services/directory/DirectorySynchronizer.java b/app/src/main/java/ch/bailu/aat/services/directory/DirectorySynchronizer.java
index bc8bbe14..ef62ccd7 100644
--- a/app/src/main/java/ch/bailu/aat/services/directory/DirectorySynchronizer.java
+++ b/app/src/main/java/ch/bailu/aat/services/directory/DirectorySynchronizer.java
@@ -15,15 +15,15 @@ import java.util.ArrayList;
 
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.interfaces.GpxBigDeltaInterface;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.background.ProcessHandle;
 import ch.bailu.aat.services.cache.GpxObject;
 import ch.bailu.aat.services.cache.GpxObjectStatic;
 import ch.bailu.aat.services.cache.ObjectHandle;
-import ch.bailu.aat.views.map.OsmPreviewGenerator;
+import ch.bailu.aat.map.osm.OsmPreviewGenerator;
 
 public class DirectorySynchronizer  implements Closeable {
 
diff --git a/app/src/main/java/ch/bailu/aat/services/directory/IteratorAbstract.java b/app/src/main/java/ch/bailu/aat/services/directory/IteratorAbstract.java
index 06155efc..de43821c 100644
--- a/app/src/main/java/ch/bailu/aat/services/directory/IteratorAbstract.java
+++ b/app/src/main/java/ch/bailu/aat/services/directory/IteratorAbstract.java
@@ -10,7 +10,7 @@ import android.database.Cursor;
 import java.io.File;
 
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.preferences.SolidDirectoryQuery;
 import ch.bailu.aat.services.ServiceContext;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/directory/IteratorFollowFile.java b/app/src/main/java/ch/bailu/aat/services/directory/IteratorFollowFile.java
index fb6315c0..dab61ee2 100644
--- a/app/src/main/java/ch/bailu/aat/services/directory/IteratorFollowFile.java
+++ b/app/src/main/java/ch/bailu/aat/services/directory/IteratorFollowFile.java
@@ -7,7 +7,7 @@ import java.io.File;
 import java.io.IOException;
 
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.services.ServiceContext;
 
 public class IteratorFollowFile extends IteratorAbstract {
diff --git a/app/src/main/java/ch/bailu/aat/services/editor/EditorHelper.java b/app/src/main/java/ch/bailu/aat/services/editor/EditorHelper.java
index 2d8d5583..190d4453 100644
--- a/app/src/main/java/ch/bailu/aat/services/editor/EditorHelper.java
+++ b/app/src/main/java/ch/bailu/aat/services/editor/EditorHelper.java
@@ -4,7 +4,7 @@ import java.io.File;
 
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.InfoID;
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.cache.GpxObjectEditable;
 import ch.bailu.aat.services.cache.ObjectHandle;
diff --git a/app/src/main/java/ch/bailu/aat/services/icons/IconMapParser.java b/app/src/main/java/ch/bailu/aat/services/icons/IconMapParser.java
index c8664f39..8bd3bed2 100644
--- a/app/src/main/java/ch/bailu/aat/services/icons/IconMapParser.java
+++ b/app/src/main/java/ch/bailu/aat/services/icons/IconMapParser.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.services.icons;
 import java.io.IOException;
 
 import ch.bailu.aat.gpx.parser.SimpleStream;
-import ch.bailu.aat.helpers.file.AbsAccess;
+import ch.bailu.aat.util.fs.AbsAccess;
 
 public class IconMapParser {
     private final static int ICON=0, KEY=1, VALUE=2, END=3, MAX=4; 
diff --git a/app/src/main/java/ch/bailu/aat/services/icons/IconMapService.java b/app/src/main/java/ch/bailu/aat/services/icons/IconMapService.java
index 6c0f5085..c35569d7 100644
--- a/app/src/main/java/ch/bailu/aat/services/icons/IconMapService.java
+++ b/app/src/main/java/ch/bailu/aat/services/icons/IconMapService.java
@@ -4,9 +4,9 @@ import java.io.File;
 import java.io.IOException;
 
 import ch.bailu.aat.gpx.GpxAttributes;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.VirtualService;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/location/DirtyLocation.java b/app/src/main/java/ch/bailu/aat/services/location/DirtyLocation.java
index 8233bc99..a094305a 100644
--- a/app/src/main/java/ch/bailu/aat/services/location/DirtyLocation.java
+++ b/app/src/main/java/ch/bailu/aat/services/location/DirtyLocation.java
@@ -5,9 +5,9 @@ import android.content.Context;
 import ch.bailu.aat.R;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.StateID;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.preferences.Storage;
-import ch.bailu.aat.views.map.OsmInteractiveView;
+import ch.bailu.aat.map.osm.OsmInteractiveView;
 
 public class DirtyLocation extends LocationStackChainedItem {
     private final static String SOLID_KEY="DirtyLocation_";
diff --git a/app/src/main/java/ch/bailu/aat/services/location/MockLocation.java b/app/src/main/java/ch/bailu/aat/services/location/MockLocation.java
index 9706e1ff..532108ff 100644
--- a/app/src/main/java/ch/bailu/aat/services/location/MockLocation.java
+++ b/app/src/main/java/ch/bailu/aat/services/location/MockLocation.java
@@ -12,9 +12,9 @@ import ch.bailu.aat.gpx.MaxSpeed;
 import ch.bailu.aat.gpx.StateID;
 import ch.bailu.aat.gpx.interfaces.GpxType;
 import ch.bailu.aat.gpx.parser.SimpleGpxListReader;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.Timer;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.Timer;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.preferences.SolidMockLocationFile;
 
 public class MockLocation extends LocationStackChainedItem implements Runnable{
diff --git a/app/src/main/java/ch/bailu/aat/services/location/RealLocation.java b/app/src/main/java/ch/bailu/aat/services/location/RealLocation.java
index dd077426..88de55a2 100644
--- a/app/src/main/java/ch/bailu/aat/services/location/RealLocation.java
+++ b/app/src/main/java/ch/bailu/aat/services/location/RealLocation.java
@@ -11,9 +11,9 @@ import android.os.Bundle;
 import java.util.List;
 
 import ch.bailu.aat.gpx.StateID;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.AppPermission;
-import ch.bailu.aat.helpers.ContextWrapperInterface;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.AppPermission;
+import ch.bailu.aat.util.ContextWrapperInterface;
 
 
 @SuppressLint("MissingPermission")
diff --git a/app/src/main/java/ch/bailu/aat/services/render/RenderService.java b/app/src/main/java/ch/bailu/aat/services/render/RenderService.java
new file mode 100644
index 00000000..1d074ba3
--- /dev/null
+++ b/app/src/main/java/ch/bailu/aat/services/render/RenderService.java
@@ -0,0 +1,322 @@
+package ch.bailu.aat.services.render;
+
+import android.util.SparseArray;
+
+import org.mapsforge.core.graphics.Canvas;
+import org.mapsforge.core.graphics.GraphicFactory;
+import org.mapsforge.core.graphics.TileBitmap;
+import org.mapsforge.core.model.BoundingBox;
+import org.mapsforge.core.model.Point;
+import org.mapsforge.core.model.Tile;
+import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
+import org.mapsforge.map.datastore.MapDataStore;
+import org.mapsforge.map.layer.Layer;
+import org.mapsforge.map.layer.cache.TileCache;
+import org.mapsforge.map.layer.labels.TileBasedLabelStore;
+import org.mapsforge.map.layer.queue.Job;
+import org.mapsforge.map.layer.queue.JobQueue;
+import org.mapsforge.map.layer.renderer.DatabaseRenderer;
+import org.mapsforge.map.layer.renderer.MapWorkerPool;
+import org.mapsforge.map.layer.renderer.RendererJob;
+import org.mapsforge.map.model.Model;
+import org.mapsforge.map.model.common.Observer;
+import org.mapsforge.map.reader.MapFile;
+import org.mapsforge.map.rendertheme.InternalRenderTheme;
+import org.mapsforge.map.rendertheme.XmlRenderTheme;
+import org.mapsforge.map.rendertheme.rule.RenderThemeFuture;
+
+import java.io.File;
+import java.util.Set;
+
+import ch.bailu.aat.services.ServiceContext;
+import ch.bailu.aat.services.VirtualService;
+import ch.bailu.aat.services.cache.MapsForgeTileObject;
+import ch.bailu.aat.util.ui.AppLog;
+
+public class RenderService  extends VirtualService {
+    private final static boolean TRANSPARENT = false;
+    private final static boolean RENDER_LABELS = true;
+    private final static boolean CACHE_LABELS = false;
+    private final static boolean HAS_JOB_QUEUE = true;
+
+    private final GraphicFactory graphicFactory;
+    private final Model model = new Model();
+    private final Cache tileCache = new Cache();
+    private final MapDataStore mapDataStore =
+            new MapFile(new File("/storage/emulated/0/switzerland.map"));
+
+    private final RenderLayer renderer;
+
+    public RenderService(ServiceContext sc) {
+        super(sc);
+
+        graphicFactory = AndroidGraphicFactory.INSTANCE;
+
+        renderer = new RenderLayer();
+        renderer.setXmlRenderTheme(InternalRenderTheme.DEFAULT);
+    }
+
+
+
+    public TileBitmap getTile(Tile tile) {
+        return renderer.getTile(tile);
+    }
+
+
+    public void lockToCache(MapsForgeTileObject o) {
+        tileCache.lockToCache(o);
+    }
+    public void freeFromCache(MapsForgeTileObject o) {
+        tileCache.freeFromCache(o);
+    }
+
+
+    private abstract class BaseLayer<T extends Job> extends Layer{
+        protected final JobQueue<T> jobQueue;
+
+        public BaseLayer() {
+            displayModel=model.displayModel;
+            jobQueue = new JobQueue<>(model.mapViewPosition, model.displayModel);
+
+        }
+
+        public TileBitmap getTile(Tile tile) {
+            T job = createJob(tile);
+            TileBitmap bitmap = tileCache.getImmediately(job);
+
+            if (bitmap == null) {
+                if (HAS_JOB_QUEUE && !tileCache.containsKey(job)) {
+                    jobQueue.add(job);
+                }
+
+            } else {
+                if (isTileStale(tile, bitmap) && HAS_JOB_QUEUE && !tileCache.containsKey(job)) {
+                    jobQueue.add(job);
+                }
+                retrieveLabelsOnly(job);
+            }
+
+            if (HAS_JOB_QUEUE) {
+                jobQueue.notifyWorkers();
+            }
+            return bitmap;
+        }
+
+
+        protected abstract T createJob(Tile tile);
+
+
+        protected abstract boolean isTileStale(Tile tile, TileBitmap bitmap);
+
+        protected void retrieveLabelsOnly(T job) {
+        }
+
+    }
+
+    private class RenderLayer extends BaseLayer<RendererJob> {
+        private final DatabaseRenderer databaseRenderer;
+        private final MapWorkerPool mapWorkerPool;
+        private RenderThemeFuture renderThemeFuture;
+        private final static float TEXT_SCALE = 1f;
+        private XmlRenderTheme xmlRenderTheme;
+
+        public RenderLayer() {
+            databaseRenderer = new DatabaseRenderer(
+                    mapDataStore,
+                    graphicFactory,
+                    tileCache,
+                    null,
+                    RENDER_LABELS,
+                    CACHE_LABELS);
+
+
+
+
+            compileRenderTheme();
+
+            mapWorkerPool = new MapWorkerPool(
+                    tileCache,
+                    jobQueue,
+                    databaseRenderer,
+                    this);
+
+
+            mapWorkerPool.start();
+
+        }
+
+
+          public void destroy() {
+            mapWorkerPool.stop();
+            if (renderThemeFuture != null) {
+                renderThemeFuture.decrementRefCount();
+            }
+            mapDataStore.close();
+        }
+
+          public void setXmlRenderTheme(XmlRenderTheme xmlRenderTheme) {
+            this.xmlRenderTheme = xmlRenderTheme;
+            compileRenderTheme();
+        }
+
+        protected void compileRenderTheme() {
+            this.renderThemeFuture = new RenderThemeFuture(
+                    graphicFactory,
+                    xmlRenderTheme,
+                    model.displayModel);
+            new Thread(this.renderThemeFuture).start();
+        }
+
+
+        @Override
+        protected RendererJob createJob(Tile tile) {
+            return new RendererJob(tile, mapDataStore,
+                    renderThemeFuture,
+                    model.displayModel,
+                    TEXT_SCALE,
+                    TRANSPARENT, false);
+        }
+
+        @Override
+        protected boolean isTileStale(Tile tile, TileBitmap bitmap) {
+            return mapDataStore.getDataTimestamp(tile) > bitmap.getTimestamp();
+        }
+
+
+
+
+
+
+        @Override
+        public void draw(BoundingBox b, byte z, Canvas c, Point t) {
+
+        }
+    }
+
+
+    private static class Cache implements TileCache {
+        private static class Entry {
+            public final MapsForgeTileObject observer;
+            public TileBitmap bitmap = null;
+
+            public Entry(MapsForgeTileObject o) {
+                observer = o;
+            }
+        }
+
+        private final SparseArray<Entry> cache = new SparseArray(20);
+
+
+        @Override
+        public boolean containsKey(Job key) {
+            return get(key) != null;
+        }
+
+        @Override
+        public void destroy() {
+            purge();
+        }
+
+        @Override
+        public TileBitmap get(Job key) {
+            Entry e = cache.get(toKey(key));
+            if (e != null)
+                return e.bitmap;
+            return null;
+        }
+
+
+        @Override
+        public int getCapacity() {
+            return cache.size();
+        }
+
+        @Override
+        public int getCapacityFirstLevel() {
+            return getCapacity();
+        }
+
+        @Override
+        public TileBitmap getImmediately(Job key) {
+            return get(key);
+        }
+
+        @Override
+        public void purge() {
+            for (int i = 0; i< cache.size(); i++) {
+                Entry e = cache.valueAt(i);
+                if (e != null && e.bitmap != null) {
+                    e.bitmap.decrementRefCount();
+                }
+            }
+            cache.clear();
+        }
+
+        @Override
+        public void put(Job key, TileBitmap bitmap) {
+            if (bitmap != null) {
+                Entry e =  cache.get(toKey(key));
+
+                if (e != null) {
+                    bitmap.incrementRefCount();
+                    e.bitmap = bitmap;
+                    e.observer.onChange();
+                }
+            }
+        }
+
+
+
+        public void lockToCache(MapsForgeTileObject t) {
+            cache.put(toKey(t), new Entry(t));
+            AppLog.d(this, "Size: " + cache.size());
+        }
+
+
+        public void freeFromCache(MapsForgeTileObject t) {
+            Entry e = cache.get(toKey(t));
+
+            cache.remove(toKey(t));
+
+            if (e != null && e.bitmap != null) {
+                e.bitmap.decrementRefCount();
+            }
+        }
+
+
+        private int toKey(MapsForgeTileObject t) {
+            return t.getTile().hashCode();
+        }
+
+
+        private int toKey(Job j) {
+            return j.tile.hashCode();
+        }
+
+
+        @Override
+        public void setWorkingSet(Set<Job> workingSet) {}
+
+        @Override
+        public void addObserver(Observer observer) {
+            AppLog.d(this, "Use lockToCache()!");
+        }
+
+        @Override
+        public void removeObserver(Observer observer) {
+            AppLog.d(this, "Use freeFromCache()!");
+        }
+    }
+
+
+
+    @Override
+    public void appendStatusText(StringBuilder builder) {
+
+    }
+
+    @Override
+    public void close() {
+        renderer.destroy();
+    }
+}
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/MapSummary.java b/app/src/main/java/ch/bailu/aat/services/tileremover/MapSummary.java
index 4c7e5bfb..f4c762e7 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/MapSummary.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/MapSummary.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.services.tileremover;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.preferences.SolidTrimSize;
 
 public class MapSummary implements MapSummaryInterface {
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemove.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemove.java
index 8e3a23c3..67a0daf5 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemove.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemove.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.services.tileremover;
 import java.io.File;
 import java.util.Iterator;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public class StateRemove implements State, Runnable {
     private static final int BROADCAST_INTERVAL =5;
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemoved.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemoved.java
index c621b405..1f950211 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemoved.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateRemoved.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.services.tileremover;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public class StateRemoved implements State {
     private final StateMachine state;
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScan.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScan.java
index 3073b294..e7ee51c6 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScan.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScan.java
@@ -3,8 +3,8 @@ package ch.bailu.aat.services.tileremover;
 import java.io.File;
 import java.io.IOException;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.preferences.SolidTileCacheDirectory;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanForRemoval.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanForRemoval.java
index 331d4651..b0a60a92 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanForRemoval.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanForRemoval.java
@@ -2,7 +2,7 @@ package ch.bailu.aat.services.tileremover;
 
 import java.util.Iterator;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.preferences.SolidTrimDate;
 import ch.bailu.aat.preferences.SolidTrimIndex;
 import ch.bailu.aat.preferences.SolidTrimMode;
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanned.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanned.java
index f2120871..c30f09a0 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanned.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScanned.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.services.tileremover;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public class StateScanned implements State {
     private final StateMachine state;
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScannedPartial.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScannedPartial.java
index fd91076a..0ff3eea1 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateScannedPartial.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateScannedPartial.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.services.tileremover;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public class StateScannedPartial implements State {
 
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/StateUnscanned.java b/app/src/main/java/ch/bailu/aat/services/tileremover/StateUnscanned.java
index 49b87342..96ff81b2 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/StateUnscanned.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/StateUnscanned.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.services.tileremover;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public class StateUnscanned implements State {
 
diff --git a/app/src/main/java/ch/bailu/aat/services/tileremover/TileRemoverService.java b/app/src/main/java/ch/bailu/aat/services/tileremover/TileRemoverService.java
index db5797ab..54fd256e 100644
--- a/app/src/main/java/ch/bailu/aat/services/tileremover/TileRemoverService.java
+++ b/app/src/main/java/ch/bailu/aat/services/tileremover/TileRemoverService.java
@@ -4,7 +4,7 @@ import android.content.BroadcastReceiver;
 import android.content.Context;
 import android.content.Intent;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.VirtualService;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/OffState.java b/app/src/main/java/ch/bailu/aat/services/tracker/OffState.java
index f04145d4..09c741b6 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/OffState.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/OffState.java
@@ -4,7 +4,7 @@ import java.io.IOException;
 
 import ch.bailu.aat.R;
 import ch.bailu.aat.gpx.StateID;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 
 public class OffState extends State {
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/OnState.java b/app/src/main/java/ch/bailu/aat/services/tracker/OnState.java
index c3bd9f07..4b6d0cb7 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/OnState.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/OnState.java
@@ -4,7 +4,7 @@ import java.io.IOException;
 
 import ch.bailu.aat.R;
 import ch.bailu.aat.gpx.StateID;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.location.LocationService;
 
 public class OnState extends State {
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/State.java b/app/src/main/java/ch/bailu/aat/services/tracker/State.java
index d4082cad..2fa87445 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/State.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/State.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.services.tracker;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public abstract class State  {
     protected final TrackerInternals internal;
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/StatusIcon.java b/app/src/main/java/ch/bailu/aat/services/tracker/StatusIcon.java
index e62a9f4a..22d93c7a 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/StatusIcon.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/StatusIcon.java
@@ -12,8 +12,8 @@ import java.lang.reflect.Method;
 
 import ch.bailu.aat.R;
 import ch.bailu.aat.activities.TrackerActivity;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.ServiceContext;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/TrackCrashRestorer.java b/app/src/main/java/ch/bailu/aat/services/tracker/TrackCrashRestorer.java
index 21528f59..0a608515 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/TrackCrashRestorer.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/TrackCrashRestorer.java
@@ -9,10 +9,10 @@ import ch.bailu.aat.R;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.parser.SimpleGpxListReader;
 import ch.bailu.aat.gpx.writer.GpxListWriter;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.file.AbsAccess;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.fs.AbsAccess;
+import ch.bailu.aat.util.fs.FileAccess;
 
 
 public class TrackCrashRestorer{
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/TrackLogger.java b/app/src/main/java/ch/bailu/aat/services/tracker/TrackLogger.java
index 4e3068a3..c65bead5 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/TrackLogger.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/TrackLogger.java
@@ -13,8 +13,8 @@ import ch.bailu.aat.gpx.MaxSpeed;
 import ch.bailu.aat.gpx.interfaces.GpxPointInterface;
 import ch.bailu.aat.gpx.interfaces.GpxType;
 import ch.bailu.aat.gpx.writer.GpxListWriter;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class TrackLogger extends Logger {
     final public static int MIN_TRACKPOINTS=5;
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/TrackerInternals.java b/app/src/main/java/ch/bailu/aat/services/tracker/TrackerInternals.java
index 52dcf199..f4c1d1d6 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/TrackerInternals.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/TrackerInternals.java
@@ -6,7 +6,7 @@ import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
 import java.io.Closeable;
 import java.io.IOException;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.preferences.SolidAutopause;
 import ch.bailu.aat.preferences.SolidBacklight;
 import ch.bailu.aat.preferences.SolidPreset;
diff --git a/app/src/main/java/ch/bailu/aat/services/tracker/TrackerService.java b/app/src/main/java/ch/bailu/aat/services/tracker/TrackerService.java
index e9412e29..da964d82 100644
--- a/app/src/main/java/ch/bailu/aat/services/tracker/TrackerService.java
+++ b/app/src/main/java/ch/bailu/aat/services/tracker/TrackerService.java
@@ -5,7 +5,7 @@ import android.content.Context;
 import android.content.Intent;
 
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.VirtualService;
 
diff --git a/app/src/main/java/ch/bailu/aat/test/TestGpx.java b/app/src/main/java/ch/bailu/aat/test/TestGpx.java
index 448c00d3..3b7d4d78 100644
--- a/app/src/main/java/ch/bailu/aat/test/TestGpx.java
+++ b/app/src/main/java/ch/bailu/aat/test/TestGpx.java
@@ -8,7 +8,7 @@ import java.io.IOException;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.parser.SimpleGpxListReader;
 import ch.bailu.aat.gpx.writer.GpxListWriter;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.preferences.SolidMockLocationFile;
 import ch.bailu.aat.preferences.SolidString;
 
diff --git a/app/src/main/java/ch/bailu/aat/test/TestGpxLogRecovery.java b/app/src/main/java/ch/bailu/aat/test/TestGpxLogRecovery.java
index 2da84201..ad60e308 100644
--- a/app/src/main/java/ch/bailu/aat/test/TestGpxLogRecovery.java
+++ b/app/src/main/java/ch/bailu/aat/test/TestGpxLogRecovery.java
@@ -8,7 +8,7 @@ import java.io.FileOutputStream;
 import java.io.IOException;
 import java.nio.channels.FileChannel;
 
-import ch.bailu.aat.helpers.AppDirectory;
+import ch.bailu.aat.util.fs.AppDirectory;
 import ch.bailu.aat.preferences.SolidPreset;
 import ch.bailu.aat.services.tracker.TrackLogger;
 
diff --git a/app/src/main/java/ch/bailu/aat/test/UnitTest.java b/app/src/main/java/ch/bailu/aat/test/UnitTest.java
index 166abb1a..6106cf08 100644
--- a/app/src/main/java/ch/bailu/aat/test/UnitTest.java
+++ b/app/src/main/java/ch/bailu/aat/test/UnitTest.java
@@ -6,8 +6,8 @@ import junit.framework.Assert;
 
 import java.io.File;
 
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.ContextWrapperInterface;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.ContextWrapperInterface;
 
 public abstract class UnitTest extends Assert implements ContextWrapperInterface {
     private final Context context;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppBroadcaster.java b/app/src/main/java/ch/bailu/aat/util/AppBroadcaster.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/AppBroadcaster.java
rename to app/src/main/java/ch/bailu/aat/util/AppBroadcaster.java
index 5acc496a..22a94509 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppBroadcaster.java
+++ b/app/src/main/java/ch/bailu/aat/util/AppBroadcaster.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.content.BroadcastReceiver;
 import android.content.Context;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppHtml.java b/app/src/main/java/ch/bailu/aat/util/AppHtml.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/AppHtml.java
rename to app/src/main/java/ch/bailu/aat/util/AppHtml.java
index 0fd6dd0a..6b769782 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppHtml.java
+++ b/app/src/main/java/ch/bailu/aat/util/AppHtml.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.text.Html;
 import android.text.Spanned;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppIntent.java b/app/src/main/java/ch/bailu/aat/util/AppIntent.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/AppIntent.java
rename to app/src/main/java/ch/bailu/aat/util/AppIntent.java
index e945bab9..b41dd50b 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppIntent.java
+++ b/app/src/main/java/ch/bailu/aat/util/AppIntent.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.content.Intent;
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppPermission.java b/app/src/main/java/ch/bailu/aat/util/AppPermission.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/AppPermission.java
rename to app/src/main/java/ch/bailu/aat/util/AppPermission.java
index 9cf5f60d..8a2035ab 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppPermission.java
+++ b/app/src/main/java/ch/bailu/aat/util/AppPermission.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.Manifest;
 import android.annotation.TargetApi;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/Clipboard.java b/app/src/main/java/ch/bailu/aat/util/Clipboard.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/Clipboard.java
rename to app/src/main/java/ch/bailu/aat/util/Clipboard.java
index 9e32bd64..c1554af3 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/Clipboard.java
+++ b/app/src/main/java/ch/bailu/aat/util/Clipboard.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.annotation.TargetApi;
 import android.content.ClipData;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/ContextWrapperInterface.java b/app/src/main/java/ch/bailu/aat/util/ContextWrapperInterface.java
similarity index 77%
rename from app/src/main/java/ch/bailu/aat/helpers/ContextWrapperInterface.java
rename to app/src/main/java/ch/bailu/aat/util/ContextWrapperInterface.java
index 137a8ad4..2ba8ab4c 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/ContextWrapperInterface.java
+++ b/app/src/main/java/ch/bailu/aat/util/ContextWrapperInterface.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/HtmlBuilder.java b/app/src/main/java/ch/bailu/aat/util/HtmlBuilder.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/HtmlBuilder.java
rename to app/src/main/java/ch/bailu/aat/util/HtmlBuilder.java
index 950b2b8d..31a3ce9e 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/HtmlBuilder.java
+++ b/app/src/main/java/ch/bailu/aat/util/HtmlBuilder.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 public class HtmlBuilder {
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/HtmlBuilderGpx.java b/app/src/main/java/ch/bailu/aat/util/HtmlBuilderGpx.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/HtmlBuilderGpx.java
rename to app/src/main/java/ch/bailu/aat/util/HtmlBuilderGpx.java
index 93a0129d..cb0c99d0 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/HtmlBuilderGpx.java
+++ b/app/src/main/java/ch/bailu/aat/util/HtmlBuilderGpx.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 
 import android.content.Context;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/NominatimApi.java b/app/src/main/java/ch/bailu/aat/util/NominatimApi.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/NominatimApi.java
rename to app/src/main/java/ch/bailu/aat/util/NominatimApi.java
index cc5d44d7..7f5c2d93 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/NominatimApi.java
+++ b/app/src/main/java/ch/bailu/aat/util/NominatimApi.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.content.Context;
 
@@ -8,6 +8,8 @@ import java.io.File;
 import java.io.UnsupportedEncodingException;
 import java.net.URLEncoder;
 
+import ch.bailu.aat.util.fs.AppDirectory;
+
 public class NominatimApi extends OsmApiHelper {
     public final static String NAME="Nominatim";
     public final static String URL="http://nominatim.openstreetmap.org/search/";
diff --git a/app/src/main/java/ch/bailu/aat/helpers/OsmApiHelper.java b/app/src/main/java/ch/bailu/aat/util/OsmApiHelper.java
similarity index 95%
rename from app/src/main/java/ch/bailu/aat/helpers/OsmApiHelper.java
rename to app/src/main/java/ch/bailu/aat/util/OsmApiHelper.java
index dc4a6d0c..39834704 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/OsmApiHelper.java
+++ b/app/src/main/java/ch/bailu/aat/util/OsmApiHelper.java
@@ -1,8 +1,10 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import java.io.File;
 import java.io.UnsupportedEncodingException;
 
+import ch.bailu.aat.util.fs.AppDirectory;
+
 
 public abstract class OsmApiHelper {
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/OverpassApi.java b/app/src/main/java/ch/bailu/aat/util/OverpassApi.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/helpers/OverpassApi.java
rename to app/src/main/java/ch/bailu/aat/util/OverpassApi.java
index 4d2f73e2..c3080f2b 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/OverpassApi.java
+++ b/app/src/main/java/ch/bailu/aat/util/OverpassApi.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.content.Context;
 
@@ -11,6 +11,7 @@ import java.net.URLEncoder;
 import java.util.Locale;
 
 import ch.bailu.aat.R;
+import ch.bailu.aat.util.fs.AppDirectory;
 
 public class OverpassApi extends OsmApiHelper {
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AbsTextBackup.java b/app/src/main/java/ch/bailu/aat/util/TextBackup.java
similarity index 84%
rename from app/src/main/java/ch/bailu/aat/helpers/AbsTextBackup.java
rename to app/src/main/java/ch/bailu/aat/util/TextBackup.java
index 54b778d9..e45acf69 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AbsTextBackup.java
+++ b/app/src/main/java/ch/bailu/aat/util/TextBackup.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import java.io.File;
 import java.io.FileOutputStream;
@@ -6,15 +6,15 @@ import java.io.IOException;
 import java.io.OutputStreamWriter;
 
 import ch.bailu.aat.gpx.parser.SimpleStream;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.fs.FileAccess;
 
-public abstract class AbsTextBackup  {
+public abstract class TextBackup {
 
     public abstract void write(String t) throws IOException;
     public abstract String read() throws IOException;
 
 /*
-    public static final AbsTextBackup NULL= new AbsTextBackup() {
+    public static final TextBackup NULL= new TextBackup() {
 
         @Override
         public void write(String t) throws IOException {}
@@ -26,22 +26,22 @@ public abstract class AbsTextBackup  {
         
     };
   */
-    
+
     public static void write(File file, String text) throws IOException{
-        AbsTextBackup b = new TextEditFileBackup(file);
+        TextBackup b = new TextEditFileBackup(file);
         b.write(text);
     }
     
     
     
     public static String read(File file) throws IOException {
-        AbsTextBackup b = new TextEditFileBackup(file);
+        TextBackup b = new TextEditFileBackup(file);
         return b.read();
     }
     
     
     
-    public static class TextEditFileBackup extends AbsTextBackup {  
+    public static class TextEditFileBackup extends TextBackup {
         public static final int MAX_FILE_SIZE=200;
 
         private final File file;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/Timer.java b/app/src/main/java/ch/bailu/aat/util/Timer.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/Timer.java
rename to app/src/main/java/ch/bailu/aat/util/Timer.java
index 64086351..0a0dae11 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/Timer.java
+++ b/app/src/main/java/ch/bailu/aat/util/Timer.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util;
 
 import android.os.Handler;
 import android.os.Looper;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/file/AbsAccess.java b/app/src/main/java/ch/bailu/aat/util/fs/AbsAccess.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/file/AbsAccess.java
rename to app/src/main/java/ch/bailu/aat/util/fs/AbsAccess.java
index aa53d9e6..501dad61 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/file/AbsAccess.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/AbsAccess.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers.file;
+package ch.bailu.aat.util.fs;
 
 import android.content.Context;
 import android.net.Uri;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppDirectory.java b/app/src/main/java/ch/bailu/aat/util/fs/AppDirectory.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/AppDirectory.java
rename to app/src/main/java/ch/bailu/aat/util/fs/AppDirectory.java
index 86e7028b..fa986c10 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppDirectory.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/AppDirectory.java
@@ -1,7 +1,8 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.fs;
 
 import android.content.Context;
 
+import org.mapsforge.core.model.Tile;
 import org.osmdroid.tileprovider.MapTile;
 import org.osmdroid.tileprovider.tilesource.OnlineTileSourceBase;
 
@@ -97,8 +98,8 @@ public class AppDirectory  {
 
     
     /////////////////////////////////////////////////////////////////////////////////////////////////
-    public static File getTileFile(MapTile tile, OnlineTileSourceBase source, Context context) {
-        String tileName = source.getTileRelativeFilenameString(tile);
+    public static File getTileFile(Tile tile, OnlineTileSourceBase source, Context context) {
+        String tileName = source.getTileRelativeFilenameString(new MapTile(tile.zoomLevel, tile.tileX, tile.tileY));
         return new File(getTileCacheDirectory(context), tileName);
     }
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/file/FileAccess.java b/app/src/main/java/ch/bailu/aat/util/fs/FileAccess.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/file/FileAccess.java
rename to app/src/main/java/ch/bailu/aat/util/fs/FileAccess.java
index 39b68dc4..82a4c148 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/file/FileAccess.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/FileAccess.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers.file;
+package ch.bailu.aat.util.fs;
 
 import java.io.Closeable;
 import java.io.File;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/file/FileAction.java b/app/src/main/java/ch/bailu/aat/util/fs/FileAction.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/file/FileAction.java
rename to app/src/main/java/ch/bailu/aat/util/fs/FileAction.java
index 52eaf7e0..1b8642a3 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/file/FileAction.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/FileAction.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers.file;
+package ch.bailu.aat.util.fs;
 
 import android.app.Activity;
 import android.content.Context;
@@ -9,10 +9,10 @@ import android.widget.EditText;
 import java.io.File;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppDialog;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.AppSelectDirectoryDialog;
-import ch.bailu.aat.helpers.Clipboard;
+import ch.bailu.aat.util.ui.AppDialog;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.ui.AppSelectDirectoryDialog;
+import ch.bailu.aat.util.Clipboard;
 import ch.bailu.aat.preferences.SolidDirectoryQuery;
 import ch.bailu.aat.preferences.SolidMockLocationFile;
 import ch.bailu.aat.services.ServiceContext;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/file/FileIntent.java b/app/src/main/java/ch/bailu/aat/util/fs/FileIntent.java
similarity index 99%
rename from app/src/main/java/ch/bailu/aat/helpers/file/FileIntent.java
rename to app/src/main/java/ch/bailu/aat/util/fs/FileIntent.java
index ae000b4f..a074a7d3 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/file/FileIntent.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/FileIntent.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers.file;
+package ch.bailu.aat.util.fs;
 
 import android.content.Context;
 import android.content.Intent;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/file/FileUI.java b/app/src/main/java/ch/bailu/aat/util/fs/FileUI.java
similarity index 91%
rename from app/src/main/java/ch/bailu/aat/helpers/file/FileUI.java
rename to app/src/main/java/ch/bailu/aat/util/fs/FileUI.java
index 44e11cbf..957ce65a 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/file/FileUI.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/FileUI.java
@@ -1,11 +1,11 @@
-package ch.bailu.aat.helpers.file;
+package ch.bailu.aat.util.fs;
 
 import android.content.Context;
 
 import java.io.File;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class FileUI {
     public static void logExists(Context c, File f) {
diff --git a/app/src/main/java/ch/bailu/aat/helpers/file/UriAccess.java b/app/src/main/java/ch/bailu/aat/util/fs/UriAccess.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/file/UriAccess.java
rename to app/src/main/java/ch/bailu/aat/util/fs/UriAccess.java
index 811738b4..e5eb0fd2 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/file/UriAccess.java
+++ b/app/src/main/java/ch/bailu/aat/util/fs/UriAccess.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers.file;
+package ch.bailu.aat.util.fs;
 
 import android.content.Context;
 import android.net.Uri;
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeBitmap.java b/app/src/main/java/ch/bailu/aat/util/graphic/AppTileBitmap.java
similarity index 63%
rename from app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeBitmap.java
rename to app/src/main/java/ch/bailu/aat/util/graphic/AppTileBitmap.java
index 594720f3..1d030b14 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/MapsForgeBitmap.java
+++ b/app/src/main/java/ch/bailu/aat/util/graphic/AppTileBitmap.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge;
+package ch.bailu.aat.util.graphic;
 
 import android.graphics.Bitmap;
 import android.graphics.Canvas;
@@ -7,27 +7,26 @@ import android.graphics.Color;
 import org.mapsforge.core.graphics.TileBitmap;
 import org.mapsforge.map.android.graphics.AndroidGraphicFactory;
 
-public class MapsForgeBitmap {
-
+public class AppTileBitmap {
     private final TileBitmap bitmap;
 
+    public AppTileBitmap(int size) {
+        this(size, false);
+    }
 
-    public MapsForgeBitmap(int size) {
-        bitmap = AndroidGraphicFactory.INSTANCE.createTileBitmap(size, false);
 
-        getBitmap().eraseColor(Color.WHITE);
+    public AppTileBitmap(int size, boolean isTransparent) {
+        bitmap = AndroidGraphicFactory.INSTANCE.createTileBitmap(size, isTransparent);
     }
 
 
     public Bitmap getBitmap() {
         return AndroidGraphicFactory.getBitmap(bitmap);
     }
-
     public Canvas getCanvas() {
         return new Canvas(getBitmap());
     }
 
-
     public TileBitmap getTileBitmap() {
         return bitmap;
     }
@@ -35,4 +34,11 @@ public class MapsForgeBitmap {
     public void free() {
         bitmap.decrementRefCount();
     }
+
+    public void erase() {
+        Bitmap bitmap = getBitmap();
+        if (bitmap != null) {
+            bitmap.eraseColor(Color.WHITE);
+        }
+    }
 }
diff --git a/app/src/main/java/ch/bailu/aat/mapsforge/util/Pixel.java b/app/src/main/java/ch/bailu/aat/util/graphic/Pixel.java
similarity index 82%
rename from app/src/main/java/ch/bailu/aat/mapsforge/util/Pixel.java
rename to app/src/main/java/ch/bailu/aat/util/graphic/Pixel.java
index 4dd427c7..a6186ea6 100644
--- a/app/src/main/java/ch/bailu/aat/mapsforge/util/Pixel.java
+++ b/app/src/main/java/ch/bailu/aat/util/graphic/Pixel.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.mapsforge.util;
+package ch.bailu.aat.util.graphic;
 
 import android.graphics.Point;
 
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/SynchronizedBitmap.java b/app/src/main/java/ch/bailu/aat/util/graphic/SynchronizedBitmap.java
similarity index 92%
rename from app/src/main/java/ch/bailu/aat/services/cache/SynchronizedBitmap.java
rename to app/src/main/java/ch/bailu/aat/util/graphic/SynchronizedBitmap.java
index 063e374f..f8f66ec6 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/SynchronizedBitmap.java
+++ b/app/src/main/java/ch/bailu/aat/util/graphic/SynchronizedBitmap.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.services.cache;
+package ch.bailu.aat.util.graphic;
 
 import android.content.res.Resources;
 import android.graphics.Bitmap;
@@ -9,12 +9,14 @@ import android.graphics.drawable.Drawable;
 
 import org.mapsforge.map.android.graphics.AndroidTileBitmap;
 
+import ch.bailu.aat.services.cache.ObjectHandle;
+
 public class SynchronizedBitmap {
 
         private Bitmap bitmap=null;
         private Drawable drawable = null;
         
-        private long size=ObjectHandle.MIN_SIZE;
+        private long size= ObjectHandle.MIN_SIZE;
         
         
         public synchronized Bitmap get() {
diff --git a/app/src/main/java/ch/bailu/aat/services/cache/SynchronizedTileBitmap.java b/app/src/main/java/ch/bailu/aat/util/graphic/SynchronizedTileBitmap.java
similarity index 83%
rename from app/src/main/java/ch/bailu/aat/services/cache/SynchronizedTileBitmap.java
rename to app/src/main/java/ch/bailu/aat/util/graphic/SynchronizedTileBitmap.java
index eb443d68..3ecbabce 100644
--- a/app/src/main/java/ch/bailu/aat/services/cache/SynchronizedTileBitmap.java
+++ b/app/src/main/java/ch/bailu/aat/util/graphic/SynchronizedTileBitmap.java
@@ -1,19 +1,20 @@
-package ch.bailu.aat.services.cache;
+package ch.bailu.aat.util.graphic;
 
 import android.content.res.Resources;
 import android.graphics.Bitmap;
+import android.graphics.Canvas;
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
 
 import org.mapsforge.core.graphics.TileBitmap;
 
-import ch.bailu.aat.mapsforge.MapsForgeBitmap;
+import ch.bailu.aat.services.cache.ObjectHandle;
 
 public class SynchronizedTileBitmap {
-    private MapsForgeBitmap bitmap = null;
+    private AppTileBitmap bitmap = null;
     private Drawable drawable = null;
 
-    private long size=ObjectHandle.MIN_SIZE;
+    private long size= ObjectHandle.MIN_SIZE;
 
     public synchronized Bitmap getBitmap() {
         if (bitmap != null)
@@ -21,12 +22,15 @@ public class SynchronizedTileBitmap {
         return null;
     }
 
+
+
     public synchronized TileBitmap getTileBitmap() {
         if (bitmap != null) return bitmap.getTileBitmap();
         return null;
     }
 
 
+
     public synchronized Drawable getDrawable(Resources r) {
 
         if (drawable == null && bitmap != null) {
@@ -36,6 +40,7 @@ public class SynchronizedTileBitmap {
     }
 
 
+
     public synchronized void setSize() {
         Bitmap b = getBitmap();
 
@@ -52,7 +57,7 @@ public class SynchronizedTileBitmap {
     }
 
 
-    public synchronized void set(MapsForgeBitmap b) {
+    public synchronized void set(AppTileBitmap b) {
         free();
         bitmap = b;
         setSize();
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppDensity.java b/app/src/main/java/ch/bailu/aat/util/ui/AppDensity.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/helpers/AppDensity.java
rename to app/src/main/java/ch/bailu/aat/util/ui/AppDensity.java
index 8ecc7202..b7f8728f 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppDensity.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/AppDensity.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.content.Context;
 import android.util.DisplayMetrics;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppDialog.java b/app/src/main/java/ch/bailu/aat/util/ui/AppDialog.java
similarity index 99%
rename from app/src/main/java/ch/bailu/aat/helpers/AppDialog.java
rename to app/src/main/java/ch/bailu/aat/util/ui/AppDialog.java
index 5878b812..f087d08f 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppDialog.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/AppDialog.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.app.Activity;
 import android.app.AlertDialog;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppLayout.java b/app/src/main/java/ch/bailu/aat/util/ui/AppLayout.java
similarity index 98%
rename from app/src/main/java/ch/bailu/aat/helpers/AppLayout.java
rename to app/src/main/java/ch/bailu/aat/util/ui/AppLayout.java
index 0908523a..ad57475f 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppLayout.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/AppLayout.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.annotation.TargetApi;
 import android.content.Context;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppLog.java b/app/src/main/java/ch/bailu/aat/util/ui/AppLog.java
similarity index 97%
rename from app/src/main/java/ch/bailu/aat/helpers/AppLog.java
rename to app/src/main/java/ch/bailu/aat/util/ui/AppLog.java
index ba1f65d1..25bcdf46 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppLog.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/AppLog.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.annotation.SuppressLint;
 import android.app.AlertDialog;
@@ -12,12 +12,13 @@ import android.widget.Toast;
 import java.io.Closeable;
 
 import ch.bailu.aat.BuildConfig;
+import ch.bailu.aat.util.AppBroadcaster;
 
 
 public class AppLog implements Closeable {
     private final static String UNKNOWN = "";
     
-    private final static String NAME_SPACE=AppBroadcaster.NAME_SPACE;
+    private final static String NAME_SPACE= AppBroadcaster.NAME_SPACE;
     private final static String EXTRA_MESSAGE = "MESSAGE";
     private final static String EXTRA_SOURCE = "TITLE";
     
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppSelectDirectoryDialog.java b/app/src/main/java/ch/bailu/aat/util/ui/AppSelectDirectoryDialog.java
similarity index 88%
rename from app/src/main/java/ch/bailu/aat/helpers/AppSelectDirectoryDialog.java
rename to app/src/main/java/ch/bailu/aat/util/ui/AppSelectDirectoryDialog.java
index 712266bc..4aa3795c 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppSelectDirectoryDialog.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/AppSelectDirectoryDialog.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.app.AlertDialog;
 import android.content.Context;
@@ -8,7 +8,9 @@ import android.net.Uri;
 import java.io.File;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.file.FileAction;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.fs.FileAction;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class AppSelectDirectoryDialog  implements  DialogInterface.OnClickListener {
     private final Uri uri;
@@ -20,7 +22,7 @@ public class AppSelectDirectoryDialog  implements  DialogInterface.OnClickListen
         context=c;
         uri = u;
         directories = new File[] {
-                AppDirectory.getTrackListDirectory(context, 0), 
+                AppDirectory.getTrackListDirectory(context, 0),
                 AppDirectory.getTrackListDirectory(context, 1),
                 AppDirectory.getTrackListDirectory(context, 2),
                 AppDirectory.getTrackListDirectory(context, 3),
diff --git a/app/src/main/java/ch/bailu/aat/helpers/AppTheme.java b/app/src/main/java/ch/bailu/aat/util/ui/AppTheme.java
similarity index 99%
rename from app/src/main/java/ch/bailu/aat/helpers/AppTheme.java
rename to app/src/main/java/ch/bailu/aat/util/ui/AppTheme.java
index 8c75190f..89109b35 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/AppTheme.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/AppTheme.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.content.Context;
 import android.content.res.Configuration;
diff --git a/app/src/main/java/ch/bailu/aat/helpers/Logger.java b/app/src/main/java/ch/bailu/aat/util/ui/Logger.java
similarity index 91%
rename from app/src/main/java/ch/bailu/aat/helpers/Logger.java
rename to app/src/main/java/ch/bailu/aat/util/ui/Logger.java
index 58be4f88..98f81ecb 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/Logger.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/Logger.java
@@ -1,7 +1,9 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import java.io.IOException;
 
+import ch.bailu.aat.util.ui.AppLog;
+
 public class Logger {
     /** Osmdroid compability **/
 
diff --git a/app/src/main/java/ch/bailu/aat/helpers/LoggerFactory.java b/app/src/main/java/ch/bailu/aat/util/ui/LoggerFactory.java
similarity index 63%
rename from app/src/main/java/ch/bailu/aat/helpers/LoggerFactory.java
rename to app/src/main/java/ch/bailu/aat/util/ui/LoggerFactory.java
index 2d836134..70a1f47e 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/LoggerFactory.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/LoggerFactory.java
@@ -1,6 +1,8 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 
+import ch.bailu.aat.util.ui.Logger;
+
 public class LoggerFactory {
 
 	public static Logger getLogger(Class<?> class1) {
diff --git a/app/src/main/java/ch/bailu/aat/helpers/ToolTip.java b/app/src/main/java/ch/bailu/aat/util/ui/ToolTip.java
similarity index 96%
rename from app/src/main/java/ch/bailu/aat/helpers/ToolTip.java
rename to app/src/main/java/ch/bailu/aat/util/ui/ToolTip.java
index f8644306..183a37cf 100644
--- a/app/src/main/java/ch/bailu/aat/helpers/ToolTip.java
+++ b/app/src/main/java/ch/bailu/aat/util/ui/ToolTip.java
@@ -1,4 +1,4 @@
-package ch.bailu.aat.helpers;
+package ch.bailu.aat.util.ui;
 
 import android.view.View;
 import android.view.View.OnLongClickListener;
diff --git a/app/src/main/java/ch/bailu/aat/views/AbsLabelTextView.java b/app/src/main/java/ch/bailu/aat/views/AbsLabelTextView.java
index 88a3870a..6d02f21b 100644
--- a/app/src/main/java/ch/bailu/aat/views/AbsLabelTextView.java
+++ b/app/src/main/java/ch/bailu/aat/views/AbsLabelTextView.java
@@ -5,7 +5,7 @@ import android.graphics.Color;
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 public abstract class AbsLabelTextView extends LinearLayout{
 
diff --git a/app/src/main/java/ch/bailu/aat/views/BusyButton.java b/app/src/main/java/ch/bailu/aat/views/BusyButton.java
index 2413c9b6..e4a93515 100644
--- a/app/src/main/java/ch/bailu/aat/views/BusyButton.java
+++ b/app/src/main/java/ch/bailu/aat/views/BusyButton.java
@@ -7,7 +7,7 @@ import android.widget.ImageButton;
 import ch.bailu.aat.R;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 public class BusyButton extends ViewGroup   {
     public final int SPACE=16;
diff --git a/app/src/main/java/ch/bailu/aat/views/ContentView.java b/app/src/main/java/ch/bailu/aat/views/ContentView.java
index cf2121bc..f0d62237 100644
--- a/app/src/main/java/ch/bailu/aat/views/ContentView.java
+++ b/app/src/main/java/ch/bailu/aat/views/ContentView.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.views;
 import android.content.Context;
 import android.widget.LinearLayout;
 
-import ch.bailu.aat.helpers.AppLayout;
+import ch.bailu.aat.util.ui.AppLayout;
 
 public class ContentView extends LinearLayout {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/ControlBar.java b/app/src/main/java/ch/bailu/aat/views/ControlBar.java
index 94e00650..7ca833ad 100644
--- a/app/src/main/java/ch/bailu/aat/views/ControlBar.java
+++ b/app/src/main/java/ch/bailu/aat/views/ControlBar.java
@@ -8,7 +8,7 @@ import android.widget.ImageButton;
 import android.widget.LinearLayout;
 import android.widget.ScrollView;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.preferences.SolidIndexList;
 import ch.bailu.aat.views.preferences.SolidImageButton;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/DbSynchronizerBusyIndicator.java b/app/src/main/java/ch/bailu/aat/views/DbSynchronizerBusyIndicator.java
index 55c1dede..4f609cd3 100644
--- a/app/src/main/java/ch/bailu/aat/views/DbSynchronizerBusyIndicator.java
+++ b/app/src/main/java/ch/bailu/aat/views/DbSynchronizerBusyIndicator.java
@@ -6,7 +6,7 @@ import android.content.Intent;
 
 import java.io.Closeable;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 
 public class DbSynchronizerBusyIndicator implements Closeable {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/FeaturesList.java b/app/src/main/java/ch/bailu/aat/views/FeaturesList.java
index 3fe698bc..23f33a3b 100644
--- a/app/src/main/java/ch/bailu/aat/views/FeaturesList.java
+++ b/app/src/main/java/ch/bailu/aat/views/FeaturesList.java
@@ -24,12 +24,12 @@ import java.util.Comparator;
 import ch.bailu.aat.activities.ActivitySwitcher;
 import ch.bailu.aat.activities.HtmlViewActivity;
 import ch.bailu.aat.activities.MapFeatureListActivity;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppHtml;
-import ch.bailu.aat.helpers.AppLog;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.helpers.file.FileAccess;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.AppHtml;
+import ch.bailu.aat.util.ui.AppLog;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.util.fs.FileAccess;
 import ch.bailu.aat.osm_features.MapFeaturesParser;
 import ch.bailu.aat.osm_features.MapFeaturesParser.OnHaveFeature;
 import ch.bailu.aat.services.icons.IconMapService;
diff --git a/app/src/main/java/ch/bailu/aat/views/GpxListEntryView.java b/app/src/main/java/ch/bailu/aat/views/GpxListEntryView.java
index 9861d062..44cca424 100644
--- a/app/src/main/java/ch/bailu/aat/views/GpxListEntryView.java
+++ b/app/src/main/java/ch/bailu/aat/views/GpxListEntryView.java
@@ -10,7 +10,7 @@ import android.widget.TextView;
 import ch.bailu.aat.description.ContentDescription;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.ServiceContext;
 
 public class GpxListEntryView extends LinearLayout implements OnContentUpdatedInterface {
diff --git a/app/src/main/java/ch/bailu/aat/views/GpxListView.java b/app/src/main/java/ch/bailu/aat/views/GpxListView.java
index 235e57ca..195ac82c 100644
--- a/app/src/main/java/ch/bailu/aat/views/GpxListView.java
+++ b/app/src/main/java/ch/bailu/aat/views/GpxListView.java
@@ -8,7 +8,7 @@ import android.widget.ListAdapter;
 import android.widget.ListView;
 
 import ch.bailu.aat.description.ContentDescription;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.directory.Iterator;
 import ch.bailu.aat.services.directory.Iterator.OnCursorChangedListener;
diff --git a/app/src/main/java/ch/bailu/aat/views/HtmlTextView.java b/app/src/main/java/ch/bailu/aat/views/HtmlTextView.java
index e0c5698d..c4b5dff0 100644
--- a/app/src/main/java/ch/bailu/aat/views/HtmlTextView.java
+++ b/app/src/main/java/ch/bailu/aat/views/HtmlTextView.java
@@ -5,8 +5,8 @@ import android.graphics.Color;
 import android.text.method.LinkMovementMethod;
 import android.widget.TextView;
 
-import ch.bailu.aat.helpers.AppHtml;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.AppHtml;
+import ch.bailu.aat.util.ui.AppTheme;
 
 
 public class HtmlTextView extends TextView {
diff --git a/app/src/main/java/ch/bailu/aat/views/ImageButtonView.java b/app/src/main/java/ch/bailu/aat/views/ImageButtonView.java
index 7de989c0..baef7900 100644
--- a/app/src/main/java/ch/bailu/aat/views/ImageButtonView.java
+++ b/app/src/main/java/ch/bailu/aat/views/ImageButtonView.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.views;
 import android.content.Context;
 import android.widget.ImageButton;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 
 public class ImageButtonView extends ImageButton {
diff --git a/app/src/main/java/ch/bailu/aat/views/MainControlBar.java b/app/src/main/java/ch/bailu/aat/views/MainControlBar.java
index 7fb50d27..497ff18a 100644
--- a/app/src/main/java/ch/bailu/aat/views/MainControlBar.java
+++ b/app/src/main/java/ch/bailu/aat/views/MainControlBar.java
@@ -2,7 +2,7 @@ package ch.bailu.aat.views;
 
 import android.view.View;
 
-import ch.bailu.aat.helpers.AppLayout;
+import ch.bailu.aat.util.ui.AppLayout;
 import ch.bailu.aat.menus.OptionsMenu;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.views.description.MultiView;
diff --git a/app/src/main/java/ch/bailu/aat/views/NodeEntryView.java b/app/src/main/java/ch/bailu/aat/views/NodeEntryView.java
index 5c3f1479..7a662ca1 100644
--- a/app/src/main/java/ch/bailu/aat/views/NodeEntryView.java
+++ b/app/src/main/java/ch/bailu/aat/views/NodeEntryView.java
@@ -8,14 +8,14 @@ import android.widget.TextView;
 import ch.bailu.aat.coordinates.BoundingBoxE6;
 import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxPointNode;
-import ch.bailu.aat.helpers.AppHtml;
-import ch.bailu.aat.helpers.AppTheme;
-import ch.bailu.aat.helpers.HtmlBuilderGpx;
+import ch.bailu.aat.util.AppHtml;
+import ch.bailu.aat.util.ui.AppTheme;
+import ch.bailu.aat.util.HtmlBuilderGpx;
 import ch.bailu.aat.services.ServiceContext;
-import ch.bailu.aat.views.map.CachedTileProvider;
-import ch.bailu.aat.views.map.MapDensity;
-import ch.bailu.aat.views.map.OsmViewStatic;
-import ch.bailu.aat.views.map.overlay.gpx.GpxDynOverlay;
+import ch.bailu.aat.map.osm.CachedTileProvider;
+import ch.bailu.aat.map.osm.MapDensity;
+import ch.bailu.aat.map.osm.OsmViewStatic;
+import ch.bailu.aat.map.osm.overlay.gpx.GpxDynOverlay;
 
 public class NodeEntryView extends LinearLayout {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/NodeListView.java b/app/src/main/java/ch/bailu/aat/views/NodeListView.java
index 47133972..c245fef9 100644
--- a/app/src/main/java/ch/bailu/aat/views/NodeListView.java
+++ b/app/src/main/java/ch/bailu/aat/views/NodeListView.java
@@ -16,7 +16,7 @@ import ch.bailu.aat.gpx.GpxInformation;
 import ch.bailu.aat.gpx.GpxInformationCache;
 import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListArray;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.services.ServiceContext;
 
 public class NodeListView extends ListView implements
diff --git a/app/src/main/java/ch/bailu/aat/views/PreviewView.java b/app/src/main/java/ch/bailu/aat/views/PreviewView.java
index fa818749..c7426d9b 100644
--- a/app/src/main/java/ch/bailu/aat/views/PreviewView.java
+++ b/app/src/main/java/ch/bailu/aat/views/PreviewView.java
@@ -7,9 +7,9 @@ import android.widget.ImageView;
 
 import java.io.File;
 
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppDirectory;
-import ch.bailu.aat.helpers.AppIntent;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.fs.AppDirectory;
+import ch.bailu.aat.util.AppIntent;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.cache.ImageObject;
 import ch.bailu.aat.services.cache.ObjectHandle;
diff --git a/app/src/main/java/ch/bailu/aat/views/TagEditor.java b/app/src/main/java/ch/bailu/aat/views/TagEditor.java
index 21bc101d..8a2c4791 100644
--- a/app/src/main/java/ch/bailu/aat/views/TagEditor.java
+++ b/app/src/main/java/ch/bailu/aat/views/TagEditor.java
@@ -12,11 +12,11 @@ import android.widget.LinearLayout;
 import java.io.File;
 import java.io.IOException;
 
-import ch.bailu.aat.helpers.AbsTextBackup;
-import ch.bailu.aat.helpers.AppBroadcaster;
-import ch.bailu.aat.helpers.AppIntent;
-import ch.bailu.aat.helpers.AppLayout;
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.TextBackup;
+import ch.bailu.aat.util.AppBroadcaster;
+import ch.bailu.aat.util.AppIntent;
+import ch.bailu.aat.util.ui.AppLayout;
+import ch.bailu.aat.util.ui.AppLog;
 
 
 public class TagEditor extends LinearLayout {
@@ -97,7 +97,7 @@ public class TagEditor extends LinearLayout {
     private void showFile() {
         String text;
         try {
-            text = AbsTextBackup.read(backup);
+            text = TextBackup.read(backup);
             
         } catch (IOException e) {
             text = "";
@@ -109,7 +109,7 @@ public class TagEditor extends LinearLayout {
     
     private void saveFile() {
         try {
-            AbsTextBackup.write(backup, getText());
+            TextBackup.write(backup, getText());
         } catch (IOException e) {
             AppLog.e(getContext(), TagEditor.this, e);
             
diff --git a/app/src/main/java/ch/bailu/aat/views/description/NumberView.java b/app/src/main/java/ch/bailu/aat/views/description/NumberView.java
index 5cb2ffc3..77eac0b0 100644
--- a/app/src/main/java/ch/bailu/aat/views/description/NumberView.java
+++ b/app/src/main/java/ch/bailu/aat/views/description/NumberView.java
@@ -9,7 +9,7 @@ import android.widget.TextView;
 import ch.bailu.aat.description.ContentDescription;
 import ch.bailu.aat.dispatcher.OnContentUpdatedInterface;
 import ch.bailu.aat.gpx.GpxInformation;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 public class NumberView extends ViewGroup implements OnContentUpdatedInterface {
 
diff --git a/app/src/main/java/ch/bailu/aat/views/graph/ColorTable.java b/app/src/main/java/ch/bailu/aat/views/graph/ColorTable.java
index a137f4a8..62fd9a3c 100644
--- a/app/src/main/java/ch/bailu/aat/views/graph/ColorTable.java
+++ b/app/src/main/java/ch/bailu/aat/views/graph/ColorTable.java
@@ -1,6 +1,6 @@
 package ch.bailu.aat.views.graph;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 public class ColorTable {
     public final static int GRADIENT_SIZE=256;
diff --git a/app/src/main/java/ch/bailu/aat/views/graph/DistanceAltitudeGraphView.java b/app/src/main/java/ch/bailu/aat/views/graph/DistanceAltitudeGraphView.java
index e57285f4..43831789 100644
--- a/app/src/main/java/ch/bailu/aat/views/graph/DistanceAltitudeGraphView.java
+++ b/app/src/main/java/ch/bailu/aat/views/graph/DistanceAltitudeGraphView.java
@@ -9,7 +9,7 @@ import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.GpxSegmentNode;
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 import ch.bailu.aat.preferences.SolidUnit;
 
 public class DistanceAltitudeGraphView extends AbsGraphView {
diff --git a/app/src/main/java/ch/bailu/aat/views/graph/DistanceSpeedGraphView.java b/app/src/main/java/ch/bailu/aat/views/graph/DistanceSpeedGraphView.java
index 58e18bf1..549f0e7b 100644
--- a/app/src/main/java/ch/bailu/aat/views/graph/DistanceSpeedGraphView.java
+++ b/app/src/main/java/ch/bailu/aat/views/graph/DistanceSpeedGraphView.java
@@ -9,8 +9,8 @@ import ch.bailu.aat.gpx.GpxList;
 import ch.bailu.aat.gpx.GpxListWalker;
 import ch.bailu.aat.gpx.GpxPointNode;
 import ch.bailu.aat.gpx.GpxSegmentNode;
-import ch.bailu.aat.helpers.AppDensity;
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppDensity;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.preferences.SolidUnit;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/views/graph/GraphPlotter.java b/app/src/main/java/ch/bailu/aat/views/graph/GraphPlotter.java
index c954d432..ac8f6818 100644
--- a/app/src/main/java/ch/bailu/aat/views/graph/GraphPlotter.java
+++ b/app/src/main/java/ch/bailu/aat/views/graph/GraphPlotter.java
@@ -5,7 +5,7 @@ import android.graphics.Color;
 import android.graphics.Paint;
 import android.graphics.Point;
 
-import ch.bailu.aat.helpers.AppDensity;
+import ch.bailu.aat.util.ui.AppDensity;
 
 public class GraphPlotter {
     private static final int TEXT_SIZE=15;
diff --git a/app/src/main/java/ch/bailu/aat/views/preferences/SolidCheckBox.java b/app/src/main/java/ch/bailu/aat/views/preferences/SolidCheckBox.java
index 59871150..eff7968c 100644
--- a/app/src/main/java/ch/bailu/aat/views/preferences/SolidCheckBox.java
+++ b/app/src/main/java/ch/bailu/aat/views/preferences/SolidCheckBox.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.views.preferences;
 import android.widget.CheckBox;
 import android.widget.CompoundButton;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.preferences.SolidBoolean;
 
 
diff --git a/app/src/main/java/ch/bailu/aat/views/preferences/SolidImageButton.java b/app/src/main/java/ch/bailu/aat/views/preferences/SolidImageButton.java
index a3b521ce..61f7773e 100644
--- a/app/src/main/java/ch/bailu/aat/views/preferences/SolidImageButton.java
+++ b/app/src/main/java/ch/bailu/aat/views/preferences/SolidImageButton.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.views.preferences;
 import android.content.SharedPreferences;
 import android.view.View;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 import ch.bailu.aat.preferences.SolidIndexList;
 import ch.bailu.aat.views.ImageButtonView;
 
diff --git a/app/src/main/java/ch/bailu/aat/views/preferences/TitleView.java b/app/src/main/java/ch/bailu/aat/views/preferences/TitleView.java
index b2ebeb65..c69205b7 100644
--- a/app/src/main/java/ch/bailu/aat/views/preferences/TitleView.java
+++ b/app/src/main/java/ch/bailu/aat/views/preferences/TitleView.java
@@ -3,7 +3,7 @@ package ch.bailu.aat.views.preferences;
 import android.content.Context;
 import android.widget.TextView;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 
 public class TitleView extends TextView {
     public TitleView(Context context, int res) {
diff --git a/app/src/main/java/ch/bailu/aat/views/tileremover/TileRemoverView.java b/app/src/main/java/ch/bailu/aat/views/tileremover/TileRemoverView.java
index d3404505..5eb83d2f 100644
--- a/app/src/main/java/ch/bailu/aat/views/tileremover/TileRemoverView.java
+++ b/app/src/main/java/ch/bailu/aat/views/tileremover/TileRemoverView.java
@@ -8,7 +8,7 @@ import android.view.View;
 import android.widget.LinearLayout;
 
 import ch.bailu.aat.R;
-import ch.bailu.aat.helpers.AppBroadcaster;
+import ch.bailu.aat.util.AppBroadcaster;
 import ch.bailu.aat.preferences.SolidTileCacheDirectory;
 import ch.bailu.aat.services.ServiceContext;
 import ch.bailu.aat.services.tileremover.TileRemoverService;
diff --git a/app/src/main/java/ch/bailu/aat/views/tileremover/TilesSummaryView.java b/app/src/main/java/ch/bailu/aat/views/tileremover/TilesSummaryView.java
index fae185f2..a0a867bc 100644
--- a/app/src/main/java/ch/bailu/aat/views/tileremover/TilesSummaryView.java
+++ b/app/src/main/java/ch/bailu/aat/views/tileremover/TilesSummaryView.java
@@ -6,7 +6,7 @@ import android.widget.RadioButton;
 import android.widget.RadioGroup;
 import android.widget.TextView;
 
-import ch.bailu.aat.helpers.AppTheme;
+import ch.bailu.aat.util.ui.AppTheme;
 import ch.bailu.aat.preferences.SolidTrimIndex;
 import ch.bailu.aat.services.tileremover.MapSummaries;
 import ch.bailu.aat.services.tileremover.MapSummaryInterface;
diff --git a/app/src/main/java/org/osmdroid/tileprovider/util/StreamUtils.java b/app/src/main/java/org/osmdroid/tileprovider/util/StreamUtils.java
index 1ba355fa..b2a75184 100644
--- a/app/src/main/java/org/osmdroid/tileprovider/util/StreamUtils.java
+++ b/app/src/main/java/org/osmdroid/tileprovider/util/StreamUtils.java
@@ -6,8 +6,8 @@ import java.io.IOException;
 import java.io.InputStream;
 import java.io.OutputStream;
 
-import ch.bailu.aat.helpers.Logger;
-import ch.bailu.aat.helpers.LoggerFactory;
+import ch.bailu.aat.util.ui.Logger;
+import ch.bailu.aat.util.ui.LoggerFactory;
 
 public class StreamUtils {
 
diff --git a/app/src/main/java/org/osmdroid/views/MapView.java b/app/src/main/java/org/osmdroid/views/MapView.java
index c57ee50b..51e4fdc0 100644
--- a/app/src/main/java/org/osmdroid/views/MapView.java
+++ b/app/src/main/java/org/osmdroid/views/MapView.java
@@ -35,7 +35,7 @@ import java.util.List;
 import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.concurrent.atomic.AtomicInteger;
 
-import ch.bailu.aat.views.map.AbsTileProvider;
+import ch.bailu.aat.map.osm.AbsTileProvider;
 import microsoft.mappoint.TileSystem;
 
 public class MapView extends ViewGroup implements IMapView, MapViewConstants {
diff --git a/app/src/main/java/org/osmdroid/views/overlay/LoadingTile.java b/app/src/main/java/org/osmdroid/views/overlay/LoadingTile.java
index 0d46c252..a1015d79 100644
--- a/app/src/main/java/org/osmdroid/views/overlay/LoadingTile.java
+++ b/app/src/main/java/org/osmdroid/views/overlay/LoadingTile.java
@@ -8,7 +8,7 @@ import android.graphics.Paint;
 import android.graphics.drawable.BitmapDrawable;
 import android.graphics.drawable.Drawable;
 
-import ch.bailu.aat.helpers.AppLog;
+import ch.bailu.aat.util.ui.AppLog;
 
 public class LoadingTile {
     private static Drawable tile;
diff --git a/app/src/main/java/org/osmdroid/views/overlay/TilesOverlay.java b/app/src/main/java/org/osmdroid/views/overlay/TilesOverlay.java
index 7bcfb1b0..cc77dd29 100644
--- a/app/src/main/java/org/osmdroid/views/overlay/TilesOverlay.java
+++ b/app/src/main/java/org/osmdroid/views/overlay/TilesOverlay.java
@@ -10,7 +10,7 @@ import org.osmdroid.tileprovider.MapTile;
 import org.osmdroid.util.MyMath;
 import org.osmdroid.views.MapView;
 
-import ch.bailu.aat.views.map.AbsTileProvider;
+import ch.bailu.aat.map.osm.AbsTileProvider;
 import microsoft.mappoint.TileSystem;
 
 
