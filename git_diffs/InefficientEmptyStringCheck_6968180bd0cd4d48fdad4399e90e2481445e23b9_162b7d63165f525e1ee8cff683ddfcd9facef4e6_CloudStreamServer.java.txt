diff --git a/app/src/androidTest/java/com/amaze/filemanager/utils/files/CryptUtilTest.java b/app/src/androidTest/java/com/amaze/filemanager/filesystem/files/CryptUtilTest.java
similarity index 97%
rename from app/src/androidTest/java/com/amaze/filemanager/utils/files/CryptUtilTest.java
rename to app/src/androidTest/java/com/amaze/filemanager/filesystem/files/CryptUtilTest.java
index ab1f88e15..25398b3fa 100644
--- a/app/src/androidTest/java/com/amaze/filemanager/utils/files/CryptUtilTest.java
+++ b/app/src/androidTest/java/com/amaze/filemanager/filesystem/files/CryptUtilTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import static org.junit.Assert.assertEquals;
 
diff --git a/app/src/androidTest/java/com/amaze/filemanager/utils/files/GenericCopyUtilEspressoTest.java b/app/src/androidTest/java/com/amaze/filemanager/filesystem/files/GenericCopyUtilEspressoTest.java
similarity index 97%
rename from app/src/androidTest/java/com/amaze/filemanager/utils/files/GenericCopyUtilEspressoTest.java
rename to app/src/androidTest/java/com/amaze/filemanager/filesystem/files/GenericCopyUtilEspressoTest.java
index ec5e103e5..8e5cb8019 100644
--- a/app/src/androidTest/java/com/amaze/filemanager/utils/files/GenericCopyUtilEspressoTest.java
+++ b/app/src/androidTest/java/com/amaze/filemanager/filesystem/files/GenericCopyUtilEspressoTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import static org.junit.Assert.assertArrayEquals;
 import static org.junit.Assert.assertEquals;
@@ -38,8 +38,8 @@ import org.junit.Before;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
+import com.amaze.filemanager.test.DummyFileGenerator;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.test.DummyFileGenerator;
 
 import androidx.test.ext.junit.runners.AndroidJUnit4;
 import androidx.test.platform.app.InstrumentationRegistry;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/test/DummyFileGenerator.java b/app/src/androidTest/java/com/amaze/filemanager/test/DummyFileGenerator.java
similarity index 95%
rename from app/src/main/java/com/amaze/filemanager/utils/test/DummyFileGenerator.java
rename to app/src/androidTest/java/com/amaze/filemanager/test/DummyFileGenerator.java
index 53d5ef235..df1fb6060 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/test/DummyFileGenerator.java
+++ b/app/src/androidTest/java/com/amaze/filemanager/test/DummyFileGenerator.java
@@ -18,9 +18,9 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.test;
+package com.amaze.filemanager.test;
 
-import static com.amaze.filemanager.utils.files.GenericCopyUtil.DEFAULT_BUFFER_SIZE;
+import static com.amaze.filemanager.filesystem.files.GenericCopyUtil.DEFAULT_BUFFER_SIZE;
 
 import java.io.File;
 import java.io.FileOutputStream;
diff --git a/app/src/androidTest/java/com/amaze/filemanager/activities/TextEditorActivityEspressoTest.java b/app/src/androidTest/java/com/amaze/filemanager/ui/activities/TextEditorActivityEspressoTest.java
similarity index 98%
rename from app/src/androidTest/java/com/amaze/filemanager/activities/TextEditorActivityEspressoTest.java
rename to app/src/androidTest/java/com/amaze/filemanager/ui/activities/TextEditorActivityEspressoTest.java
index c68a0e064..d6ab809de 100644
--- a/app/src/androidTest/java/com/amaze/filemanager/activities/TextEditorActivityEspressoTest.java
+++ b/app/src/androidTest/java/com/amaze/filemanager/ui/activities/TextEditorActivityEspressoTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import static org.junit.Assert.assertNotEquals;
 
diff --git a/app/src/fdroid/java/com/amaze/filemanager/activities/AboutActivity.java b/app/src/fdroid/java/com/amaze/filemanager/ui/activities/AboutActivity.java
similarity index 98%
rename from app/src/fdroid/java/com/amaze/filemanager/activities/AboutActivity.java
rename to app/src/fdroid/java/com/amaze/filemanager/ui/activities/AboutActivity.java
index fc36a7903..972e0b9af 100644
--- a/app/src/fdroid/java/com/amaze/filemanager/activities/AboutActivity.java
+++ b/app/src/fdroid/java/com/amaze/filemanager/ui/activities/AboutActivity.java
@@ -18,12 +18,12 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.google.android.material.appbar.AppBarLayout;
 import com.google.android.material.appbar.CollapsingToolbarLayout;
 import com.google.android.material.snackbar.Snackbar;
diff --git a/app/src/main/java/com/amaze/filemanager/AmazeFileManagerModule.java b/app/src/main/java/com/amaze/filemanager/AmazeFileManagerModule.java
index 30a81ee43..a7c45d330 100644
--- a/app/src/main/java/com/amaze/filemanager/AmazeFileManagerModule.java
+++ b/app/src/main/java/com/amaze/filemanager/AmazeFileManagerModule.java
@@ -21,7 +21,7 @@
 package com.amaze.filemanager;
 
 import com.amaze.filemanager.adapters.glide.apkimage.ApkImageModelLoaderFactory;
-import com.amaze.filemanager.utils.glide.CloudIconModelFactory;
+import com.amaze.filemanager.filesystem.glide.CloudIconModelFactory;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.Registry;
 import com.bumptech.glide.annotation.GlideModule;
diff --git a/app/src/main/java/com/amaze/filemanager/adapters/AppsAdapter.java b/app/src/main/java/com/amaze/filemanager/adapters/AppsAdapter.java
index e072c0500..2228b2221 100644
--- a/app/src/main/java/com/amaze/filemanager/adapters/AppsAdapter.java
+++ b/app/src/main/java/com/amaze/filemanager/adapters/AppsAdapter.java
@@ -26,7 +26,6 @@ import java.util.List;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.adapters.data.AppDataParcelable;
 import com.amaze.filemanager.adapters.glide.AppsAdapterPreloadModel;
 import com.amaze.filemanager.adapters.holders.AppHolder;
@@ -35,14 +34,15 @@ import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.asynchronous.services.CopyService;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.RootHelper;
-import com.amaze.filemanager.fragments.AppsListFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.fragments.AppsListFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.AnimUtils;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.bumptech.glide.util.ViewPreloadSizeProvider;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/adapters/CompressedExplorerAdapter.java b/app/src/main/java/com/amaze/filemanager/adapters/CompressedExplorerAdapter.java
index abec67f2d..a0547508f 100644
--- a/app/src/main/java/com/amaze/filemanager/adapters/CompressedExplorerAdapter.java
+++ b/app/src/main/java/com/amaze/filemanager/adapters/CompressedExplorerAdapter.java
@@ -29,15 +29,15 @@ import com.amaze.filemanager.adapters.holders.CompressedItemViewHolder;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.showcontents.Decompressor;
-import com.amaze.filemanager.fragments.CompressedExplorerFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.colors.ColorUtils;
+import com.amaze.filemanager.ui.fragments.CompressedExplorerFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.CircleGradientDrawable;
 import com.amaze.filemanager.utils.AnimUtils;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.bumptech.glide.Glide;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/adapters/HiddenAdapter.java b/app/src/main/java/com/amaze/filemanager/adapters/HiddenAdapter.java
index 6904b2f63..bb4cc52ab 100644
--- a/app/src/main/java/com/amaze/filemanager/adapters/HiddenAdapter.java
+++ b/app/src/main/java/com/amaze/filemanager/adapters/HiddenAdapter.java
@@ -25,15 +25,15 @@ import java.util.ArrayList;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.adapters.holders.HiddenViewHolder;
 import com.amaze.filemanager.asynchronous.asynctasks.DeleteTask;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.fragments.MainFragment;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.MainFragment;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.files.FileUtils;
 
 import android.app.Activity;
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/adapters/RecyclerAdapter.java b/app/src/main/java/com/amaze/filemanager/adapters/RecyclerAdapter.java
index bfee651df..78955d9c0 100644
--- a/app/src/main/java/com/amaze/filemanager/adapters/RecyclerAdapter.java
+++ b/app/src/main/java/com/amaze/filemanager/adapters/RecyclerAdapter.java
@@ -21,20 +21,19 @@
 package com.amaze.filemanager.adapters;
 
 import static com.amaze.filemanager.filesystem.compressed.CompressedHelper.*;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORIZE_ICONS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_FILE_SIZE;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_GOBACK_BUTTON;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HEADERS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_LAST_MODIFIED;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_PERMISSIONS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_THUMB;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_USE_CIRCULAR_IMAGES;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORIZE_ICONS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_FILE_SIZE;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_GOBACK_BUTTON;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HEADERS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_LAST_MODIFIED;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_PERMISSIONS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_THUMB;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_USE_CIRCULAR_IMAGES;
 
 import java.util.ArrayList;
 import java.util.List;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.PreferenceActivity;
 import com.amaze.filemanager.adapters.data.IconDataParcelable;
 import com.amaze.filemanager.adapters.data.LayoutElementParcelable;
 import com.amaze.filemanager.adapters.glide.RecyclerPreloadModelProvider;
@@ -42,20 +41,21 @@ import com.amaze.filemanager.adapters.glide.RecyclerPreloadSizeProvider;
 import com.amaze.filemanager.adapters.holders.EmptyViewHolder;
 import com.amaze.filemanager.adapters.holders.ItemViewHolder;
 import com.amaze.filemanager.adapters.holders.SpecialViewHolder;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 import com.amaze.filemanager.ui.ItemPopupMenu;
+import com.amaze.filemanager.ui.activities.superclasses.PreferenceActivity;
 import com.amaze.filemanager.ui.colors.ColorUtils;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.icons.Icons;
 import com.amaze.filemanager.ui.icons.MimeTypes;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.CircleGradientDrawable;
 import com.amaze.filemanager.ui.views.RoundedImageView;
 import com.amaze.filemanager.utils.AnimUtils;
 import com.amaze.filemanager.utils.GlideConstants;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.integration.recyclerview.RecyclerViewPreloader;
 import com.bumptech.glide.load.DataSource;
diff --git a/app/src/main/java/com/amaze/filemanager/adapters/holders/SpecialViewHolder.java b/app/src/main/java/com/amaze/filemanager/adapters/holders/SpecialViewHolder.java
index 676e2be97..b141181f0 100644
--- a/app/src/main/java/com/amaze/filemanager/adapters/holders/SpecialViewHolder.java
+++ b/app/src/main/java/com/amaze/filemanager/adapters/holders/SpecialViewHolder.java
@@ -21,9 +21,9 @@
 package com.amaze.filemanager.adapters.holders;
 
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.content.Context;
 import android.view.View;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/application/AppConfig.java b/app/src/main/java/com/amaze/filemanager/application/AppConfig.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/application/AppConfig.java
rename to app/src/main/java/com/amaze/filemanager/application/AppConfig.java
index 38bf8cecb..da79e231e 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/application/AppConfig.java
+++ b/app/src/main/java/com/amaze/filemanager/application/AppConfig.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.application;
+package com.amaze.filemanager.application;
 
 import java.lang.ref.WeakReference;
 
@@ -26,9 +26,9 @@ import com.amaze.filemanager.database.ExplorerDatabase;
 import com.amaze.filemanager.database.UtilitiesDatabase;
 import com.amaze.filemanager.database.UtilsHandler;
 import com.amaze.filemanager.filesystem.ssh.CustomSshJConfig;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
 import com.amaze.filemanager.utils.LruBitmapCache;
 import com.amaze.filemanager.utils.ScreenUtils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
 import com.android.volley.RequestQueue;
 import com.android.volley.toolbox.ImageLoader;
 import com.android.volley.toolbox.Volley;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/application/GlideApplication.java b/app/src/main/java/com/amaze/filemanager/application/GlideApplication.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/utils/application/GlideApplication.java
rename to app/src/main/java/com/amaze/filemanager/application/GlideApplication.java
index 3369b4f77..6c1b0b022 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/application/GlideApplication.java
+++ b/app/src/main/java/com/amaze/filemanager/application/GlideApplication.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.application;
+package com.amaze.filemanager.application;
 
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.MemoryCategory;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/application/LeakCanaryApplication.java b/app/src/main/java/com/amaze/filemanager/application/LeakCanaryApplication.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/utils/application/LeakCanaryApplication.java
rename to app/src/main/java/com/amaze/filemanager/application/LeakCanaryApplication.java
index a5a1fbadc..4824411ca 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/application/LeakCanaryApplication.java
+++ b/app/src/main/java/com/amaze/filemanager/application/LeakCanaryApplication.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.application;
+package com.amaze.filemanager.application;
 
 import androidx.multidex.MultiDexApplication;
 
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CloudLoaderAsyncTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CloudLoaderAsyncTask.java
index 9d0ef7b74..3aa2d4527 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CloudLoaderAsyncTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CloudLoaderAsyncTask.java
@@ -23,13 +23,13 @@ package com.amaze.filemanager.asynchronous.asynctasks;
 import java.lang.ref.WeakReference;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.CloudHandler;
 import com.amaze.filemanager.database.models.explorer.CloudEntry;
 import com.amaze.filemanager.exceptions.CloudPluginException;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.application.AppConfig;
 import com.cloudrail.si.CloudRail;
 import com.cloudrail.si.exceptions.AuthenticationException;
 import com.cloudrail.si.exceptions.ParseException;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CountItemsOrAndSizeTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CountItemsOrAndSizeTask.java
index 55ddb3a0b..21b8f2e4c 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CountItemsOrAndSizeTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/CountItemsOrAndSizeTask.java
@@ -24,7 +24,7 @@ import java.util.concurrent.atomic.AtomicInteger;
 
 import com.amaze.filemanager.R;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.utils.files.FileUtils;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 
 import android.content.Context;
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DbViewerTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DbViewerTask.java
index 8dafbae45..943d125d5 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DbViewerTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DbViewerTask.java
@@ -22,8 +22,8 @@ package com.amaze.filemanager.asynchronous.asynctasks;
 
 import java.util.ArrayList;
 
-import com.amaze.filemanager.fragments.DbViewerFragment;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.fragments.DbViewerFragment;
+import com.amaze.filemanager.ui.theme.AppTheme;
 
 import android.database.Cursor;
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DeleteTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DeleteTask.java
index 58197aa68..a5276299f 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DeleteTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/DeleteTask.java
@@ -23,20 +23,20 @@ package com.amaze.filemanager.asynchronous.asynctasks;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.database.CryptHandler;
 import com.amaze.filemanager.exceptions.ShellNotRunningException;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.fragments.CompressedExplorerFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.CompressedExplorerFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.files.FileUtils;
 import com.cloudrail.si.interfaces.CloudStorage;
 
 import android.app.NotificationManager;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/GenerateHashesTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/GenerateHashesTask.java
index 5fd328360..fef783b82 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/GenerateHashesTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/GenerateHashesTask.java
@@ -27,10 +27,10 @@ import java.security.NoSuchAlgorithmException;
 
 import com.amaze.filemanager.R;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 import com.amaze.filemanager.filesystem.ssh.SshClientSessionTemplate;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
 
 import android.content.Context;
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFilesListTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFilesListTask.java
index 00c40b2c1..60193fbcf 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFilesListTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFilesListTask.java
@@ -29,24 +29,24 @@ import java.util.Date;
 import java.util.LinkedList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.BaseAsyncTask;
 import com.amaze.filemanager.adapters.data.LayoutElementParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.SortHandler;
 import com.amaze.filemanager.database.UtilsHandler;
 import com.amaze.filemanager.exceptions.CloudPluginException;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.RootHelper;
-import com.amaze.filemanager.fragments.CloudSheetFragment;
-import com.amaze.filemanager.fragments.MainFragment;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.FileListSorter;
+import com.amaze.filemanager.ui.activities.superclasses.BaseAsyncTask;
+import com.amaze.filemanager.ui.fragments.CloudSheetFragment;
+import com.amaze.filemanager.ui.fragments.MainFragment;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OnAsyncTaskFinished;
 import com.amaze.filemanager.utils.OnFileFound;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.FileListSorter;
 import com.cloudrail.si.interfaces.CloudStorage;
 
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFolderSpaceDataTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFolderSpaceDataTask.java
index 10c09ce24..69460518a 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFolderSpaceDataTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/LoadFolderSpaceDataTask.java
@@ -28,9 +28,9 @@ import java.util.List;
 import com.afollestad.materialdialogs.Theme;
 import com.amaze.filemanager.R;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.github.mikephil.charting.charts.PieChart;
 import com.github.mikephil.charting.data.PieData;
 import com.github.mikephil.charting.data.PieDataSet;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/MoveFiles.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/MoveFiles.java
index 97e2cd79f..1647b3987 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/MoveFiles.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/MoveFiles.java
@@ -27,7 +27,7 @@ import java.util.HashSet;
 import java.util.List;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.asynchronous.services.CopyService;
 import com.amaze.filemanager.database.CryptHandler;
@@ -36,14 +36,14 @@ import com.amaze.filemanager.exceptions.ShellNotRunningException;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.Operations;
-import com.amaze.filemanager.fragments.MainFragment;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.MainFragment;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.RootUtils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.files.FileUtils;
 import com.cloudrail.si.interfaces.CloudStorage;
 
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/PrepareCopyTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/PrepareCopyTask.java
index ffcd39d22..fbab9b63c 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/PrepareCopyTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/PrepareCopyTask.java
@@ -29,17 +29,17 @@ import java.util.Set;
 import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.asynchronous.services.CopyService;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.fragments.MainFragment;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.MainFragment;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.MainActivityHelper;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.FileUtils;
 
 import android.app.ProgressDialog;
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchAsyncTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchAsyncTask.java
index 24a17679e..29f77b017 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchAsyncTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchAsyncTask.java
@@ -25,7 +25,7 @@ import java.util.regex.Pattern;
 
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.fragments.SearchWorkerFragment;
+import com.amaze.filemanager.ui.fragments.SearchWorkerFragment;
 import com.amaze.filemanager.utils.OpenMode;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchTextTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchTextTask.java
index f2365fc79..eb8da45dc 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchTextTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/SearchTextTask.java
@@ -26,10 +26,10 @@ import java.io.StringReader;
 import java.util.ArrayList;
 import java.util.Map;
 
-import com.amaze.filemanager.activities.TextEditorActivity;
+import com.amaze.filemanager.ui.activities.TextEditorActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.ImmutableEntry;
 import com.amaze.filemanager.utils.MapEntry;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.graphics.Color;
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/GzipHelperTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/GzipHelperTask.java
index 99d2d1626..c4a93983b 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/GzipHelperTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/GzipHelperTask.java
@@ -34,10 +34,10 @@ import org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;
 
 import com.amaze.filemanager.R;
 import com.amaze.filemanager.adapters.data.CompressedObjectParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.utils.OnAsyncTaskFinished;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/SevenZipHelperTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/SevenZipHelperTask.java
index 29c823dcb..5bd617391 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/SevenZipHelperTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/SevenZipHelperTask.java
@@ -31,15 +31,15 @@ import org.apache.commons.compress.archivers.ArchiveException;
 import org.tukaani.xz.CorruptedInputException;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.adapters.data.CompressedObjectParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.filesystem.compressed.ArchivePasswordCache;
 import com.amaze.filemanager.filesystem.compressed.sevenz.SevenZArchiveEntry;
 import com.amaze.filemanager.filesystem.compressed.sevenz.SevenZFile;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
 import com.amaze.filemanager.utils.OnAsyncTaskFinished;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.widget.EditText;
 
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/ZipHelperTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/ZipHelperTask.java
index 08f9057cb..b3fecc6e6 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/ZipHelperTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/compress/ZipHelperTask.java
@@ -29,10 +29,10 @@ import org.apache.commons.compress.archivers.ArchiveException;
 
 import com.amaze.filemanager.R;
 import com.amaze.filemanager.adapters.data.CompressedObjectParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.utils.OnAsyncTaskFinished;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.content.Context;
 import android.net.Uri;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/GetSshHostFingerprintTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/GetSshHostFingerprintTask.java
index 8bf7c564c..c41a59fe8 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/GetSshHostFingerprintTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/GetSshHostFingerprintTask.java
@@ -30,10 +30,10 @@ import java.util.concurrent.CountDownLatch;
 import java.util.concurrent.atomic.AtomicReference;
 
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.filesystem.ssh.CustomSshJConfig;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.app.ProgressDialog;
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/PemToKeyPairTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/PemToKeyPairTask.java
index ad2d14f42..29c50939a 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/PemToKeyPairTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/PemToKeyPairTask.java
@@ -32,10 +32,10 @@ import org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;
 import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.ui.views.WarnableTextInputLayout;
 import com.amaze.filemanager.ui.views.WarnableTextInputValidator;
-import com.amaze.filemanager.utils.application.AppConfig;
 import com.hierynomus.sshj.userauth.keyprovider.OpenSSHKeyV1KeyFile;
 
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/SshAuthenticationTask.java b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/SshAuthenticationTask.java
index 58ec3ff12..9f7c2a253 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/SshAuthenticationTask.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/asynctasks/ssh/SshAuthenticationTask.java
@@ -30,9 +30,9 @@ import java.security.PrivateKey;
 import java.security.PublicKey;
 
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.filesystem.ssh.CustomSshJConfig;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.app.AlertDialog;
 import android.os.AsyncTask;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/broadcast_receiver/PackageReceiver.java b/app/src/main/java/com/amaze/filemanager/asynchronous/broadcast_receivers/PackageReceiver.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/utils/broadcast_receiver/PackageReceiver.java
rename to app/src/main/java/com/amaze/filemanager/asynchronous/broadcast_receivers/PackageReceiver.java
index 992025f5b..c8cf9bf61 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/broadcast_receiver/PackageReceiver.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/broadcast_receivers/PackageReceiver.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.broadcast_receiver;
+package com.amaze.filemanager.asynchronous.broadcast_receivers;
 
 import com.amaze.filemanager.asynchronous.loaders.AppListLoader;
 
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/handlers/FileHandler.java b/app/src/main/java/com/amaze/filemanager/asynchronous/handlers/FileHandler.java
index 92681001c..1dedb1497 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/handlers/FileHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/handlers/FileHandler.java
@@ -26,7 +26,7 @@ import java.lang.ref.WeakReference;
 import com.amaze.filemanager.adapters.RecyclerAdapter;
 import com.amaze.filemanager.filesystem.CustomFileObserver;
 import com.amaze.filemanager.filesystem.HybridFile;
-import com.amaze.filemanager.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.MainFragment;
 
 import android.os.Handler;
 import android.os.Looper;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/loaders/AppListLoader.java b/app/src/main/java/com/amaze/filemanager/asynchronous/loaders/AppListLoader.java
index df6aa3dd2..f8d5f7d02 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/loaders/AppListLoader.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/loaders/AppListLoader.java
@@ -26,8 +26,8 @@ import java.util.Collections;
 import java.util.List;
 
 import com.amaze.filemanager.adapters.data.AppDataParcelable;
+import com.amaze.filemanager.asynchronous.broadcast_receivers.PackageReceiver;
 import com.amaze.filemanager.utils.InterestingConfigChange;
-import com.amaze.filemanager.utils.broadcast_receiver.PackageReceiver;
 
 import android.content.Context;
 import android.content.pm.ApplicationInfo;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/AbstractProgressiveService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/AbstractProgressiveService.java
index 8b3050f74..3013784dd 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/AbstractProgressiveService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/AbstractProgressiveService.java
@@ -23,10 +23,10 @@ package com.amaze.filemanager.asynchronous.services;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
-import com.amaze.filemanager.fragments.ProcessViewerFragment;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.ProcessViewerFragment;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ProgressHandler;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/CopyService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/CopyService.java
index 83228c7b8..0db9a5975 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/CopyService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/CopyService.java
@@ -24,7 +24,7 @@ import java.io.IOException;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.DeleteTask;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.database.CryptHandler;
@@ -35,16 +35,16 @@ import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.Operations;
 import com.amaze.filemanager.filesystem.RootHelper;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ObtainableServiceBinder;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.ProgressHandler;
 import com.amaze.filemanager.utils.RootUtils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
 
 import android.app.NotificationManager;
 import android.app.PendingIntent;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/DecryptService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/DecryptService.java
index de97305bc..7900f81e0 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/DecryptService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/DecryptService.java
@@ -23,19 +23,19 @@ package com.amaze.filemanager.asynchronous.services;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.EncryptDecryptUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ObtainableServiceBinder;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.files.EncryptDecryptUtils;
 
 import android.app.NotificationManager;
 import android.app.PendingIntent;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/EncryptService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/EncryptService.java
index 79c028fca..eeb894d83 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/EncryptService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/EncryptService.java
@@ -23,18 +23,18 @@ package com.amaze.filemanager.asynchronous.services;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ObtainableServiceBinder;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.CryptUtil;
 
 import android.app.NotificationManager;
 import android.app.PendingIntent;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/ExtractService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/ExtractService.java
index ad86f083a..58cf1d574 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/ExtractService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/ExtractService.java
@@ -29,17 +29,17 @@ import org.apache.commons.compress.PasswordRequiredException;
 import org.tukaani.xz.CorruptedInputException;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.compressed.ArchivePasswordCache;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ObtainableServiceBinder;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.app.NotificationManager;
 import android.app.PendingIntent;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/ZipService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/ZipService.java
index 6bbe2e795..5fa33f464 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/ZipService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/ZipService.java
@@ -32,17 +32,17 @@ import java.util.zip.ZipException;
 import java.util.zip.ZipOutputStream;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ObtainableServiceBinder;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
 
 import android.annotation.SuppressLint;
 import android.app.NotificationManager;
diff --git a/app/src/main/java/com/amaze/filemanager/asynchronous/services/ftp/FtpService.java b/app/src/main/java/com/amaze/filemanager/asynchronous/services/ftp/FtpService.java
index 302e4e03b..56443fa30 100644
--- a/app/src/main/java/com/amaze/filemanager/asynchronous/services/ftp/FtpService.java
+++ b/app/src/main/java/com/amaze/filemanager/asynchronous/services/ftp/FtpService.java
@@ -55,9 +55,9 @@ import org.apache.ftpserver.usermanager.impl.WritePermission;
 import org.greenrobot.eventbus.EventBus;
 
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 import com.amaze.filemanager.ui.notifications.FtpNotification;
 import com.amaze.filemanager.ui.notifications.NotificationConstants;
-import com.amaze.filemanager.utils.files.CryptUtil;
 
 import android.app.AlarmManager;
 import android.app.Notification;
diff --git a/app/src/main/java/com/amaze/filemanager/database/CloudHandler.java b/app/src/main/java/com/amaze/filemanager/database/CloudHandler.java
index 1347327ca..3c5d6e40e 100644
--- a/app/src/main/java/com/amaze/filemanager/database/CloudHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/database/CloudHandler.java
@@ -25,7 +25,7 @@ import java.util.List;
 
 import com.amaze.filemanager.database.models.explorer.CloudEntry;
 import com.amaze.filemanager.exceptions.CloudPluginException;
-import com.amaze.filemanager.fragments.CloudSheetFragment;
+import com.amaze.filemanager.ui.fragments.CloudSheetFragment;
 import com.amaze.filemanager.utils.OpenMode;
 
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/database/CryptHandler.java b/app/src/main/java/com/amaze/filemanager/database/CryptHandler.java
index 9fadf0469..060ce7007 100644
--- a/app/src/main/java/com/amaze/filemanager/database/CryptHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/database/CryptHandler.java
@@ -20,8 +20,8 @@
 
 package com.amaze.filemanager.database;
 
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.models.explorer.EncryptedEntry;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import androidx.annotation.NonNull;
 
diff --git a/app/src/main/java/com/amaze/filemanager/database/SortHandler.java b/app/src/main/java/com/amaze/filemanager/database/SortHandler.java
index def25b9c4..0d690a202 100644
--- a/app/src/main/java/com/amaze/filemanager/database/SortHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/database/SortHandler.java
@@ -20,13 +20,13 @@
 
 package com.amaze.filemanager.database;
 
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SORTBY_ONLY_THIS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SORTBY_ONLY_THIS;
 
 import java.util.HashSet;
 import java.util.Set;
 
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.models.explorer.Sort;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.content.Context;
 import android.content.SharedPreferences;
diff --git a/app/src/main/java/com/amaze/filemanager/database/TabHandler.java b/app/src/main/java/com/amaze/filemanager/database/TabHandler.java
index 4ae1ea47d..93eef767f 100644
--- a/app/src/main/java/com/amaze/filemanager/database/TabHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/database/TabHandler.java
@@ -20,8 +20,8 @@
 
 package com.amaze.filemanager.database;
 
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.models.explorer.Tab;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
diff --git a/app/src/main/java/com/amaze/filemanager/database/UtilsHandler.java b/app/src/main/java/com/amaze/filemanager/database/UtilsHandler.java
index 9cabe69d9..b4785fd8d 100644
--- a/app/src/main/java/com/amaze/filemanager/database/UtilsHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/database/UtilsHandler.java
@@ -29,6 +29,7 @@ import java.util.LinkedList;
 import java.util.List;
 
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.models.OperationData;
 import com.amaze.filemanager.database.models.utilities.Bookmark;
 import com.amaze.filemanager.database.models.utilities.Grid;
@@ -38,7 +39,6 @@ import com.amaze.filemanager.database.models.utilities.SftpEntry;
 import com.amaze.filemanager.database.models.utilities.SmbEntry;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
 import com.amaze.filemanager.utils.SmbUtil;
-import com.amaze.filemanager.utils.application.AppConfig;
 import com.googlecode.concurrenttrees.radix.ConcurrentRadixTree;
 import com.googlecode.concurrenttrees.radix.node.concrete.DefaultCharArrayNodeFactory;
 import com.googlecode.concurrenttrees.radix.node.concrete.voidvalue.VoidValue;
diff --git a/app/src/main/java/com/amaze/filemanager/database/models/explorer/Tab.java b/app/src/main/java/com/amaze/filemanager/database/models/explorer/Tab.java
index a717932d5..436e998a4 100644
--- a/app/src/main/java/com/amaze/filemanager/database/models/explorer/Tab.java
+++ b/app/src/main/java/com/amaze/filemanager/database/models/explorer/Tab.java
@@ -21,7 +21,7 @@
 package com.amaze.filemanager.database.models.explorer;
 
 import com.amaze.filemanager.database.ExplorerDatabase;
-import com.amaze.filemanager.utils.files.FileUtils;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 
 import android.content.SharedPreferences;
 
diff --git a/app/src/main/java/com/amaze/filemanager/database/typeconverters/EncryptedStringTypeConverter.java b/app/src/main/java/com/amaze/filemanager/database/typeconverters/EncryptedStringTypeConverter.java
index 61183c049..955e5ed9d 100644
--- a/app/src/main/java/com/amaze/filemanager/database/typeconverters/EncryptedStringTypeConverter.java
+++ b/app/src/main/java/com/amaze/filemanager/database/typeconverters/EncryptedStringTypeConverter.java
@@ -20,9 +20,9 @@
 
 package com.amaze.filemanager.database.typeconverters;
 
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.models.StringWrapper;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/FileUtil.java b/app/src/main/java/com/amaze/filemanager/filesystem/FileUtil.java
index de2411c2b..7428f8eaa 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/FileUtil.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/FileUtil.java
@@ -38,18 +38,18 @@ import java.util.List;
 import java.util.regex.Pattern;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.CloudHandler;
 import com.amaze.filemanager.exceptions.ShellNotRunningException;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.icons.MimeTypes;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.RootUtils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
 import com.cloudrail.si.interfaces.CloudStorage;
 
 import android.annotation.TargetApi;
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java b/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java
index cba1c8af1..9f9ca9018 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java
@@ -31,22 +31,22 @@ import java.util.ArrayList;
 import java.util.EnumSet;
 
 import com.amaze.filemanager.adapters.data.LayoutElementParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.CloudHandler;
 import com.amaze.filemanager.exceptions.CloudPluginException;
 import com.amaze.filemanager.exceptions.ShellNotRunningException;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 import com.amaze.filemanager.filesystem.ssh.SFtpClientTemplate;
 import com.amaze.filemanager.filesystem.ssh.SshClientTemplate;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
 import com.amaze.filemanager.filesystem.ssh.Statvfs;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OnFileFound;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.RootUtils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.FileUtils;
 import com.cloudrail.si.interfaces.CloudStorage;
 import com.cloudrail.si.types.SpaceAllocation;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/Operations.java b/app/src/main/java/com/amaze/filemanager/filesystem/Operations.java
index 63c58a642..225b754b9 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/Operations.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/Operations.java
@@ -27,14 +27,14 @@ import java.io.OutputStream;
 import java.net.MalformedURLException;
 
 import com.amaze.filemanager.exceptions.ShellNotRunningException;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 import com.amaze.filemanager.filesystem.ssh.SFtpClientTemplate;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.RootUtils;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.FileUtils;
 import com.cloudrail.si.interfaces.CloudStorage;
 
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/PasteHelper.java b/app/src/main/java/com/amaze/filemanager/filesystem/PasteHelper.java
index 754b3aa84..5b25001d4 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/PasteHelper.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/PasteHelper.java
@@ -24,8 +24,8 @@ import java.util.ArrayList;
 import java.util.Arrays;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.asynctasks.PrepareCopyTask;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.utils.Utils;
 import com.google.android.material.snackbar.BaseTransientBottomBar;
 import com.google.android.material.snackbar.Snackbar;
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/RootHelper.java b/app/src/main/java/com/amaze/filemanager/filesystem/RootHelper.java
index e549f7b65..474aeb03f 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/RootHelper.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/RootHelper.java
@@ -24,11 +24,11 @@ import java.io.File;
 import java.util.ArrayList;
 import java.util.List;
 
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.exceptions.ShellNotRunningException;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.utils.OnFileFound;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.files.FileUtils;
 
 import androidx.documentfile.provider.DocumentFile;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamServer.java b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamServer.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamServer.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamServer.java
index 4062b05af..c27f5e4d4 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamServer.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamServer.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.cloud;
+package com.amaze.filemanager.filesystem.cloud;
 
 import java.io.BufferedReader;
 import java.io.ByteArrayInputStream;
@@ -42,7 +42,7 @@ import java.util.StringTokenizer;
 import java.util.TimeZone;
 import java.util.Vector;
 
-import com.amaze.filemanager.utils.SmbStreamer.Streamer;
+import com.amaze.filemanager.filesystem.smbstreamer.Streamer;
 
 import android.net.Uri;
 import android.util.Log;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamSource.java b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamSource.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamSource.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamSource.java
index c2d2e6135..b2281350f 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamSource.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamSource.java
@@ -18,12 +18,12 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.cloud;
+package com.amaze.filemanager.filesystem.cloud;
 
 import java.io.IOException;
 import java.io.InputStream;
 
-import com.amaze.filemanager.utils.streams.RandomAccessStream;
+import com.amaze.filemanager.filesystem.streams.RandomAccessStream;
 
 /** Created by Vishal on 30-04-2017. */
 public class CloudStreamSource extends RandomAccessStream {
diff --git a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamer.java b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamer.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamer.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamer.java
index 3ec03f033..5afbe2c65 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudStreamer.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudStreamer.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.cloud;
+package com.amaze.filemanager.filesystem.cloud;
 
 import java.io.File;
 import java.io.IOException;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudUtil.java b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudUtil.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/utils/cloud/CloudUtil.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudUtil.java
index 855ceebf8..b6d76106b 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/cloud/CloudUtil.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/cloud/CloudUtil.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.cloud;
+package com.amaze.filemanager.filesystem.cloud;
 
 import java.io.File;
 import java.io.FileInputStream;
@@ -29,7 +29,6 @@ import java.util.ArrayList;
 import java.util.List;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.adapters.data.IconDataParcelable;
 import com.amaze.filemanager.database.CloudHandler;
 import com.amaze.filemanager.exceptions.CloudPluginException;
@@ -37,6 +36,7 @@ import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.ssh.SFtpClientTemplate;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.icons.MimeTypes;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/Bzip2Extractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/Bzip2Extractor.java
index 57ba5a849..ff9750278 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/Bzip2Extractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/Bzip2Extractor.java
@@ -33,7 +33,7 @@ import org.apache.commons.compress.compressors.bzip2.BZip2CompressorInputStream;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/GzipExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/GzipExtractor.java
index be662241a..f89a65478 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/GzipExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/GzipExtractor.java
@@ -34,7 +34,7 @@ import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/LzmaExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/LzmaExtractor.java
index 2e8f3b9a8..1738ede28 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/LzmaExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/LzmaExtractor.java
@@ -33,7 +33,7 @@ import org.apache.commons.compress.compressors.lzma.LZMACompressorInputStream;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/RarExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/RarExtractor.java
index 8a5eea426..666339436 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/RarExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/RarExtractor.java
@@ -30,7 +30,7 @@ import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 import com.github.junrar.Archive;
 import com.github.junrar.exception.RarException;
 import com.github.junrar.rarfile.FileHeader;
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/SevenZipExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/SevenZipExtractor.java
index 4c01ebbeb..52a1f7166 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/SevenZipExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/SevenZipExtractor.java
@@ -31,7 +31,7 @@ import com.amaze.filemanager.filesystem.compressed.ArchivePasswordCache;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
 import com.amaze.filemanager.filesystem.compressed.sevenz.SevenZArchiveEntry;
 import com.amaze.filemanager.filesystem.compressed.sevenz.SevenZFile;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/TarExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/TarExtractor.java
index 91c2a55af..f816d18c9 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/TarExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/TarExtractor.java
@@ -34,7 +34,7 @@ import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/XzExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/XzExtractor.java
index 8a3b62d9e..2439e8d46 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/XzExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/XzExtractor.java
@@ -33,7 +33,7 @@ import org.apache.commons.compress.compressors.xz.XZCompressorInputStream;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/ZipExtractor.java b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/ZipExtractor.java
index 304ff38ae..846aace23 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/ZipExtractor.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/compressed/extractcontents/helpers/ZipExtractor.java
@@ -32,7 +32,7 @@ import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.compressed.ArchivePasswordCache;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.extractcontents.Extractor;
-import com.amaze.filemanager.utils.files.GenericCopyUtil;
+import com.amaze.filemanager.filesystem.files.GenericCopyUtil;
 
 import android.content.Context;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/files/CryptUtil.java b/app/src/main/java/com/amaze/filemanager/filesystem/files/CryptUtil.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/utils/files/CryptUtil.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/files/CryptUtil.java
index 1d6294be8..12600cae4 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/files/CryptUtil.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/files/CryptUtil.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import java.io.BufferedInputStream;
 import java.io.BufferedOutputStream;
@@ -47,7 +47,7 @@ import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.fragments.preference_fragments.PrefFrag;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PrefFrag;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.ProgressHandler;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/files/EncryptDecryptUtils.java b/app/src/main/java/com/amaze/filemanager/filesystem/files/EncryptDecryptUtils.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/utils/files/EncryptDecryptUtils.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/files/EncryptDecryptUtils.java
index 7359a5c16..a3025bd3a 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/files/EncryptDecryptUtils.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/files/EncryptDecryptUtils.java
@@ -18,24 +18,24 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import java.io.IOException;
 import java.security.GeneralSecurityException;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.asynchronous.services.DecryptService;
 import com.amaze.filemanager.asynchronous.services.EncryptService;
 import com.amaze.filemanager.database.CryptHandler;
 import com.amaze.filemanager.database.models.explorer.EncryptedEntry;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
 
 import android.content.Context;
 import android.content.Intent;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/files/FileListSorter.java b/app/src/main/java/com/amaze/filemanager/filesystem/files/FileListSorter.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/files/FileListSorter.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/files/FileListSorter.java
index 48dd963ae..e97e83b59 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/files/FileListSorter.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/files/FileListSorter.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import java.util.Comparator;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/files/FileUtils.java b/app/src/main/java/com/amaze/filemanager/filesystem/files/FileUtils.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/files/FileUtils.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/files/FileUtils.java
index a0d689e9e..cd13cf495 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/files/FileUtils.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/files/FileUtils.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import java.io.File;
 import java.text.ParsePosition;
@@ -31,27 +31,27 @@ import java.util.concurrent.atomic.AtomicLong;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.DatabaseViewerActivity;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.PermissionsActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.Operations;
 import com.amaze.filemanager.filesystem.RootHelper;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.activities.DatabaseViewerActivity;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.PermissionsActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.dialogs.share.ShareTask;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.icons.Icons;
 import com.amaze.filemanager.ui.icons.MimeTypes;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OnProgressUpdate;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.share.ShareTask;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.cloudrail.si.interfaces.CloudStorage;
 import com.cloudrail.si.types.CloudMetaData;
 import com.googlecode.concurrenttrees.radix.ConcurrentRadixTree;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/files/GenericCopyUtil.java b/app/src/main/java/com/amaze/filemanager/filesystem/files/GenericCopyUtil.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/utils/files/GenericCopyUtil.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/files/GenericCopyUtil.java
index b50e55d37..1e077c4d9 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/files/GenericCopyUtil.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/files/GenericCopyUtil.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import java.io.BufferedInputStream;
 import java.io.BufferedOutputStream;
@@ -36,17 +36,17 @@ import java.nio.channels.ReadableByteChannel;
 import java.nio.channels.WritableByteChannel;
 
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.MediaStoreHack;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
 import com.cloudrail.si.interfaces.CloudStorage;
 
 import android.content.ContentResolver;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconDataFetcher.java b/app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconDataFetcher.java
similarity index 95%
rename from app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconDataFetcher.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconDataFetcher.java
index 9f06d2259..262aa9ff1 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconDataFetcher.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconDataFetcher.java
@@ -18,12 +18,12 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.glide;
+package com.amaze.filemanager.filesystem.glide;
 
 import java.io.IOException;
 import java.io.InputStream;
 
-import com.amaze.filemanager.utils.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
 import com.bumptech.glide.Priority;
 import com.bumptech.glide.load.DataSource;
 import com.bumptech.glide.load.data.DataFetcher;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconModelFactory.java b/app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconModelFactory.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconModelFactory.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconModelFactory.java
index 54bff6b84..7ed5602a7 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconModelFactory.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconModelFactory.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.glide;
+package com.amaze.filemanager.filesystem.glide;
 
 import com.bumptech.glide.load.model.ModelLoader;
 import com.bumptech.glide.load.model.ModelLoaderFactory;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconModelLoader.java b/app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconModelLoader.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconModelLoader.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconModelLoader.java
index a4932ba5a..4a9aa9822 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/glide/CloudIconModelLoader.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/glide/CloudIconModelLoader.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.glide;
+package com.amaze.filemanager.filesystem.glide;
 
 import com.amaze.filemanager.database.CloudHandler;
 import com.bumptech.glide.load.Options;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/StreamServer.java b/app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/StreamServer.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/StreamServer.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/StreamServer.java
index 38447885e..88e2ce522 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/StreamServer.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/StreamServer.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.SmbStreamer;
+package com.amaze.filemanager.filesystem.smbstreamer;
 
 /** Created by Arpit on 06-07-2015. */
 import java.io.BufferedReader;
@@ -42,8 +42,8 @@ import java.util.StringTokenizer;
 import java.util.TimeZone;
 import java.util.Vector;
 
-import com.amaze.filemanager.utils.cloud.CloudStreamer;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.cloud.CloudStreamer;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
 
 import android.net.Uri;
 import android.util.Log;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/StreamSource.java b/app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/StreamSource.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/StreamSource.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/StreamSource.java
index b68e1d4e4..dd5b1b5e1 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/StreamSource.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/StreamSource.java
@@ -18,13 +18,13 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.SmbStreamer;
+package com.amaze.filemanager.filesystem.smbstreamer;
 
 /** Created by Arpit on 06-07-2015. */
 import java.io.IOException;
 import java.io.InputStream;
 
-import com.amaze.filemanager.utils.streams.RandomAccessStream;
+import com.amaze.filemanager.filesystem.streams.RandomAccessStream;
 
 import android.webkit.MimeTypeMap;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/Streamer.java b/app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/Streamer.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/Streamer.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/Streamer.java
index 7ab168d0f..7e5b84c49 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/SmbStreamer/Streamer.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/smbstreamer/Streamer.java
@@ -18,14 +18,14 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.SmbStreamer;
+package com.amaze.filemanager.filesystem.smbstreamer;
 
 import java.io.File;
 import java.io.IOException;
 import java.util.Properties;
 import java.util.regex.Pattern;
 
-import com.amaze.filemanager.utils.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
 
 import android.util.Log;
 
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshClientUtils.java b/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshClientUtils.java
index 5fae9878e..55291b489 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshClientUtils.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshClientUtils.java
@@ -29,12 +29,12 @@ import java.security.KeyPair;
 import java.util.List;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
+import com.amaze.filemanager.filesystem.cloud.CloudStreamer;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.icons.MimeTypes;
 import com.amaze.filemanager.utils.SmbUtil;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudStreamer;
 
 import android.content.ActivityNotFoundException;
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshConnectionPool.java b/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshConnectionPool.java
index 8dd65cc2e..2c598a163 100644
--- a/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshConnectionPool.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/ssh/SshConnectionPool.java
@@ -28,12 +28,12 @@ import java.util.concurrent.CountDownLatch;
 import java.util.concurrent.ExecutionException;
 import java.util.concurrent.atomic.AtomicReference;
 
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.AsyncTaskResult;
 import com.amaze.filemanager.asynchronous.asynctasks.ssh.PemToKeyPairTask;
 import com.amaze.filemanager.asynchronous.asynctasks.ssh.SshAuthenticationTask;
 import com.amaze.filemanager.database.UtilsHandler;
-import com.amaze.filemanager.utils.application.AppConfig;
+import com.amaze.filemanager.ui.activities.MainActivity;
 
 import android.os.AsyncTask;
 import android.util.Log;
@@ -167,7 +167,7 @@ public class SshConnectionPool {
 
   /**
    * Kill any connection that is still in place. Used by {@link
-   * com.amaze.filemanager.activities.MainActivity}.
+   * com.amaze.filemanager.ui.activities.MainActivity}.
    *
    * @see MainActivity#onDestroy()
    * @see MainActivity#exit()
diff --git a/app/src/main/java/com/amaze/filemanager/utils/streams/RandomAccessStream.java b/app/src/main/java/com/amaze/filemanager/filesystem/streams/RandomAccessStream.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/utils/streams/RandomAccessStream.java
rename to app/src/main/java/com/amaze/filemanager/filesystem/streams/RandomAccessStream.java
index d0578a5b6..30a8617a9 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/streams/RandomAccessStream.java
+++ b/app/src/main/java/com/amaze/filemanager/filesystem/streams/RandomAccessStream.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.streams;
+package com.amaze.filemanager.filesystem.streams;
 
 import java.io.IOException;
 import java.io.InputStream;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/ItemPopupMenu.java b/app/src/main/java/com/amaze/filemanager/ui/ItemPopupMenu.java
index 28f470c10..b688a9c14 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/ItemPopupMenu.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/ItemPopupMenu.java
@@ -26,19 +26,19 @@ import java.security.GeneralSecurityException;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.adapters.data.LayoutElementParcelable;
 import com.amaze.filemanager.asynchronous.services.EncryptService;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.PasteHelper;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.files.EncryptDecryptUtils;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
 import com.amaze.filemanager.utils.DataUtils;
-import com.amaze.filemanager.utils.files.EncryptDecryptUtils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
 
 import android.content.Context;
 import android.content.Intent;
diff --git a/app/src/main/java/com/amaze/filemanager/activities/DatabaseViewerActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/DatabaseViewerActivity.java
similarity index 95%
rename from app/src/main/java/com/amaze/filemanager/activities/DatabaseViewerActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/DatabaseViewerActivity.java
index a5b3d6c3f..266f5514b 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/DatabaseViewerActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/DatabaseViewerActivity.java
@@ -18,24 +18,24 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import static android.os.Build.VERSION.SDK_INT;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
 
 import java.io.File;
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.exceptions.ShellNotRunningException;
-import com.amaze.filemanager.fragments.DbViewerFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
+import com.amaze.filemanager.ui.fragments.DbViewerFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.PreferenceUtils;
 import com.amaze.filemanager.utils.RootUtils;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.readystatesoftware.systembartint.SystemBarTintManager;
 
 import android.app.ActivityManager;
diff --git a/app/src/main/java/com/amaze/filemanager/activities/MainActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/MainActivity.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/activities/MainActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/MainActivity.java
index 46ef70b11..fc209a119 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/MainActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/MainActivity.java
@@ -18,13 +18,13 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import static android.os.Build.VERSION.SDK_INT;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_BOOKMARKS_ADDED;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_NEED_TO_SET_HOME;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_VIEW;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_BOOKMARKS_ADDED;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_NEED_TO_SET_HOME;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_VIEW;
 
 import java.io.File;
 import java.util.ArrayList;
@@ -36,8 +36,8 @@ import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.afollestad.materialdialogs.folderselector.FolderChooserDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.PermissionsActivity;
 import com.amaze.filemanager.adapters.data.StorageDirectoryParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.CloudLoaderAsyncTask;
 import com.amaze.filemanager.asynchronous.asynctasks.DeleteTask;
 import com.amaze.filemanager.asynchronous.asynctasks.MoveFiles;
@@ -57,19 +57,11 @@ import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.PasteHelper;
 import com.amaze.filemanager.filesystem.RootHelper;
 import com.amaze.filemanager.filesystem.StorageNaming;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 import com.amaze.filemanager.filesystem.ssh.SshConnectionPool;
 import com.amaze.filemanager.filesystem.usb.SingletonUsbOtg;
 import com.amaze.filemanager.filesystem.usb.UsbOtgRepresentation;
-import com.amaze.filemanager.fragments.AppsListFragment;
-import com.amaze.filemanager.fragments.CloudSheetFragment;
-import com.amaze.filemanager.fragments.CloudSheetFragment.CloudConnectionCallbacks;
-import com.amaze.filemanager.fragments.CompressedExplorerFragment;
-import com.amaze.filemanager.fragments.FtpServerFragment;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.ProcessViewerFragment;
-import com.amaze.filemanager.fragments.SearchWorkerFragment;
-import com.amaze.filemanager.fragments.TabFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.activities.superclasses.PermissionsActivity;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
 import com.amaze.filemanager.ui.dialogs.RenameBookmark;
@@ -77,6 +69,17 @@ import com.amaze.filemanager.ui.dialogs.RenameBookmark.BookmarkCallback;
 import com.amaze.filemanager.ui.dialogs.SftpConnectDialog;
 import com.amaze.filemanager.ui.dialogs.SmbConnectDialog;
 import com.amaze.filemanager.ui.dialogs.SmbConnectDialog.SmbConnectionListener;
+import com.amaze.filemanager.ui.fragments.AppsListFragment;
+import com.amaze.filemanager.ui.fragments.CloudSheetFragment;
+import com.amaze.filemanager.ui.fragments.CloudSheetFragment.CloudConnectionCallbacks;
+import com.amaze.filemanager.ui.fragments.CompressedExplorerFragment;
+import com.amaze.filemanager.ui.fragments.FtpServerFragment;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.ProcessViewerFragment;
+import com.amaze.filemanager.ui.fragments.SearchWorkerFragment;
+import com.amaze.filemanager.ui.fragments.TabFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.appbar.AppBar;
 import com.amaze.filemanager.ui.views.drawer.Drawer;
 import com.amaze.filemanager.utils.BookSorter;
@@ -87,9 +90,6 @@ import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.PreferenceUtils;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.cloudrail.si.CloudRail;
 import com.google.android.material.appbar.AppBarLayout;
 import com.google.android.material.bottomsheet.BottomSheetDialogFragment;
diff --git a/app/src/main/java/com/amaze/filemanager/activities/PreferencesActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/PreferencesActivity.java
similarity index 94%
rename from app/src/main/java/com/amaze/filemanager/activities/PreferencesActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/PreferencesActivity.java
index 2a6bcc62a..4b185aff6 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/PreferencesActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/PreferencesActivity.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import static android.os.Build.VERSION.SDK_INT;
 
@@ -26,17 +26,17 @@ import java.io.File;
 
 import com.afollestad.materialdialogs.folderselector.FolderChooserDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
-import com.amaze.filemanager.fragments.preference_fragments.AdvancedSearchPref;
-import com.amaze.filemanager.fragments.preference_fragments.ColorPref;
-import com.amaze.filemanager.fragments.preference_fragments.FoldersPref;
-import com.amaze.filemanager.fragments.preference_fragments.PrefFrag;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
-import com.amaze.filemanager.fragments.preference_fragments.QuickAccessPref;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
+import com.amaze.filemanager.ui.fragments.preference_fragments.AdvancedSearchPref;
+import com.amaze.filemanager.ui.fragments.preference_fragments.ColorPref;
+import com.amaze.filemanager.ui.fragments.preference_fragments.FoldersPref;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PrefFrag;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.fragments.preference_fragments.QuickAccessPref;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.PreferenceUtils;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.readystatesoftware.systembartint.SystemBarTintManager;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/activities/TextEditorActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/TextEditorActivity.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/activities/TextEditorActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/TextEditorActivity.java
index 563d61c14..e41f68f6c 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/TextEditorActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/TextEditorActivity.java
@@ -18,10 +18,10 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_TEXTEDITOR_NEWSTACK;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_TEXTEDITOR_NEWSTACK;
 
 import java.io.File;
 import java.util.ArrayList;
@@ -31,18 +31,18 @@ import java.util.TimerTask;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.asynchronous.asynctasks.ReadFileTask;
 import com.amaze.filemanager.asynchronous.asynctasks.SearchTextTask;
 import com.amaze.filemanager.asynchronous.asynctasks.WriteFileAbstraction;
 import com.amaze.filemanager.filesystem.EditableFileAbstraction;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.MapEntry;
 import com.amaze.filemanager.utils.PreferenceUtils;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.google.android.material.snackbar.Snackbar;
 import com.readystatesoftware.systembartint.SystemBarTintManager;
 
diff --git a/app/src/main/java/com/amaze/filemanager/activities/superclasses/BaseAsyncTask.java b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/BaseAsyncTask.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/activities/superclasses/BaseAsyncTask.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/BaseAsyncTask.java
index 126a48c21..1f4d6414a 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/superclasses/BaseAsyncTask.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/BaseAsyncTask.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities.superclasses;
+package com.amaze.filemanager.ui.activities.superclasses;
 
 import android.os.AsyncTask;
 
diff --git a/app/src/main/java/com/amaze/filemanager/activities/superclasses/BasicActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/BasicActivity.java
similarity index 87%
rename from app/src/main/java/com/amaze/filemanager/activities/superclasses/BasicActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/BasicActivity.java
index 5911f0b26..21de42aa0 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/superclasses/BasicActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/BasicActivity.java
@@ -18,12 +18,12 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities.superclasses;
+package com.amaze.filemanager.ui.activities.superclasses;
 
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 
 import androidx.appcompat.app.AppCompatActivity;
 
diff --git a/app/src/main/java/com/amaze/filemanager/activities/superclasses/PermissionsActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/PermissionsActivity.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/activities/superclasses/PermissionsActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/PermissionsActivity.java
index a1f3e3a11..81b63720e 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/superclasses/PermissionsActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/PermissionsActivity.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities.superclasses;
+package com.amaze.filemanager.ui.activities.superclasses;
 
 import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
diff --git a/app/src/main/java/com/amaze/filemanager/activities/superclasses/PreferenceActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/PreferenceActivity.java
similarity index 52%
rename from app/src/main/java/com/amaze/filemanager/activities/superclasses/PreferenceActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/PreferenceActivity.java
index 9887db6be..65cb758fd 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/superclasses/PreferenceActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/PreferenceActivity.java
@@ -18,27 +18,27 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities.superclasses;
+package com.amaze.filemanager.ui.activities.superclasses;
 
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_BOOKMARKS_ADDED;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_CHANGEPATHS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORIZE_ICONS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_NEED_TO_SET_HOME;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_ROOTMODE;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_DIVIDERS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_FILE_SIZE;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_GOBACK_BUTTON;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HEADERS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HIDDENFILES;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_LAST_MODIFIED;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_PERMISSIONS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_FOLDERS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_QUICKACCESSES;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_THUMB;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_TEXTEDITOR_NEWSTACK;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_USE_CIRCULAR_IMAGES;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_VIEW;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_BOOKMARKS_ADDED;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_CHANGEPATHS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORIZE_ICONS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_NEED_TO_SET_HOME;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_ROOTMODE;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_DIVIDERS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_FILE_SIZE;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_GOBACK_BUTTON;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HEADERS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HIDDENFILES;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_LAST_MODIFIED;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_PERMISSIONS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_FOLDERS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_QUICKACCESSES;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_THUMB;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_TEXTEDITOR_NEWSTACK;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_USE_CIRCULAR_IMAGES;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_VIEW;
 
 import android.content.SharedPreferences;
 import android.os.Bundle;
diff --git a/app/src/main/java/com/amaze/filemanager/activities/superclasses/ThemedActivity.java b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/ThemedActivity.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/activities/superclasses/ThemedActivity.java
rename to app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/ThemedActivity.java
index 9de6ac690..b6d649f3d 100644
--- a/app/src/main/java/com/amaze/filemanager/activities/superclasses/ThemedActivity.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/activities/superclasses/ThemedActivity.java
@@ -18,14 +18,14 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities.superclasses;
+package com.amaze.filemanager.ui.activities.superclasses;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
 import com.amaze.filemanager.ui.colors.UserColorPreferences;
 import com.amaze.filemanager.ui.dialogs.ColorPickerDialog;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.theme.AppTheme;
 
 import android.os.Build;
 import android.os.Bundle;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/colors/ColorPreferenceHelper.java b/app/src/main/java/com/amaze/filemanager/ui/colors/ColorPreferenceHelper.java
index 64d1f3b01..6c56ffb96 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/colors/ColorPreferenceHelper.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/colors/ColorPreferenceHelper.java
@@ -25,7 +25,7 @@ import java.util.List;
 import java.util.Random;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.utils.Utils;
 
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/dialogs/ColorPickerDialog.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/ColorPickerDialog.java
index 4c58c3c73..2c369771b 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/dialogs/ColorPickerDialog.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/ColorPickerDialog.java
@@ -22,13 +22,13 @@ package com.amaze.filemanager.ui.dialogs;
 
 import com.afollestad.materialdialogs.Theme;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
 import com.amaze.filemanager.ui.colors.UserColorPreferences;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.CircularColorsView;
 import com.amaze.filemanager.ui.views.preference.SelectedColorsPreference;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.content.Context;
 import android.content.SharedPreferences;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/dialogs/GeneralDialogCreation.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/GeneralDialogCreation.java
index 8d2520ed6..4f6d9334c 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/dialogs/GeneralDialogCreation.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/GeneralDialogCreation.java
@@ -21,8 +21,8 @@
 package com.amaze.filemanager.ui.dialogs;
 
 import static android.os.Build.VERSION_CODES.M;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SORTBY_ONLY_THIS;
-import static com.amaze.filemanager.utils.files.FileUtils.toHybridFileArrayList;
+import static com.amaze.filemanager.filesystem.files.FileUtils.toHybridFileArrayList;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SORTBY_ONLY_THIS;
 
 import java.io.File;
 import java.io.IOException;
@@ -40,10 +40,9 @@ import com.afollestad.materialdialogs.MaterialDialog;
 import com.afollestad.materialdialogs.Theme;
 import com.afollestad.materialdialogs.internal.MDButton;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.adapters.HiddenAdapter;
 import com.amaze.filemanager.adapters.data.LayoutElementParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.CountItemsOrAndSizeTask;
 import com.amaze.filemanager.asynchronous.asynctasks.GenerateHashesTask;
 import com.amaze.filemanager.asynchronous.asynctasks.LoadFolderSpaceDataTask;
@@ -55,9 +54,15 @@ import com.amaze.filemanager.filesystem.FileUtil;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
-import com.amaze.filemanager.fragments.AppsListFragment;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.EncryptDecryptUtils;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.fragments.AppsListFragment;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.WarnableTextInputLayout;
 import com.amaze.filemanager.ui.views.WarnableTextInputValidator;
 import com.amaze.filemanager.utils.DataUtils;
@@ -66,11 +71,6 @@ import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.RootUtils;
 import com.amaze.filemanager.utils.SimpleTextWatcher;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.files.EncryptDecryptUtils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.github.mikephil.charting.charts.PieChart;
 import com.github.mikephil.charting.components.Legend;
 import com.github.mikephil.charting.data.Entry;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/dialogs/RenameBookmark.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/RenameBookmark.java
index a1139a28d..5dd4631c6 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/dialogs/RenameBookmark.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/RenameBookmark.java
@@ -27,7 +27,7 @@ import java.net.URLEncoder;
 import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.SimpleTextWatcher;
 import com.google.android.material.textfield.TextInputLayout;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/dialogs/SftpConnectDialog.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/SftpConnectDialog.java
index 6ea3eadd9..026fc4141 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/dialogs/SftpConnectDialog.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/SftpConnectDialog.java
@@ -36,21 +36,21 @@ import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.afollestad.materialdialogs.internal.MDButton;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.asynchronous.asynctasks.ssh.GetSshHostFingerprintTask;
 import com.amaze.filemanager.asynchronous.asynctasks.ssh.PemToKeyPairTask;
 import com.amaze.filemanager.database.UtilsHandler;
 import com.amaze.filemanager.database.models.OperationData;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
 import com.amaze.filemanager.filesystem.ssh.SshConnectionPool;
-import com.amaze.filemanager.fragments.MainFragment;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
 import com.amaze.filemanager.utils.BookSorter;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.SimpleTextWatcher;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
 import com.google.android.material.snackbar.Snackbar;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbConnectDialog.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbConnectDialog.java
index 3f10c595d..94196cb28 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbConnectDialog.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbConnectDialog.java
@@ -30,13 +30,13 @@ import java.security.GeneralSecurityException;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
 import com.amaze.filemanager.utils.EditTextColorStateUtil;
 import com.amaze.filemanager.utils.SimpleTextWatcher;
 import com.amaze.filemanager.utils.SmbUtil;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
 import com.google.android.material.textfield.TextInputLayout;
 
 import android.app.Dialog;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbSearchDialog.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbSearchDialog.java
index 2b9bec8b0..0f46982fa 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbSearchDialog.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/SmbSearchDialog.java
@@ -25,13 +25,13 @@ import java.util.List;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.ComputerParcelable;
 import com.amaze.filemanager.utils.SubnetScanner;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.app.Activity;
 import android.app.Dialog;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/share/ShareAdapter.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/share/ShareAdapter.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/share/ShareAdapter.java
rename to app/src/main/java/com/amaze/filemanager/ui/dialogs/share/ShareAdapter.java
index e287783d3..860865a9e 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/share/ShareAdapter.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/share/ShareAdapter.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.share;
+package com.amaze.filemanager.ui.dialogs.share;
 
 import java.util.ArrayList;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/share/ShareTask.java b/app/src/main/java/com/amaze/filemanager/ui/dialogs/share/ShareTask.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/share/ShareTask.java
rename to app/src/main/java/com/amaze/filemanager/ui/dialogs/share/ShareTask.java
index 7b7a46eab..053872057 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/share/ShareTask.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/dialogs/share/ShareTask.java
@@ -18,14 +18,14 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.share;
+package com.amaze.filemanager.ui.dialogs.share;
 
 import java.util.ArrayList;
 import java.util.List;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.theme.AppTheme;
 
 import android.app.Activity;
 import android.content.ComponentName;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/AppsListFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/AppsListFragment.java
similarity index 94%
rename from app/src/main/java/com/amaze/filemanager/fragments/AppsListFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/AppsListFragment.java
index 473992cc3..db6bb620b 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/AppsListFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/AppsListFragment.java
@@ -18,19 +18,19 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.adapters.AppsAdapter;
 import com.amaze.filemanager.adapters.glide.AppsAdapterPreloadModel;
 import com.amaze.filemanager.asynchronous.loaders.AppListLoader;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.GlideConstants;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.bumptech.glide.Glide;
 import com.bumptech.glide.ListPreloader;
 import com.bumptech.glide.util.ViewPreloadSizeProvider;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/CloudSheetFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/CloudSheetFragment.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/fragments/CloudSheetFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/CloudSheetFragment.java
index 2eaa4c66b..32f4dd047 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/CloudSheetFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/CloudSheetFragment.java
@@ -18,16 +18,16 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.database.CloudContract;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.dialogs.SftpConnectDialog;
 import com.amaze.filemanager.ui.dialogs.SmbSearchDialog;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.google.android.material.bottomsheet.BottomSheetDialogFragment;
 
 import android.app.Dialog;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/CompressedExplorerFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/CompressedExplorerFragment.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/fragments/CompressedExplorerFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/CompressedExplorerFragment.java
index 1141fcbdd..99de1c136 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/CompressedExplorerFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/CompressedExplorerFragment.java
@@ -18,10 +18,10 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import static com.amaze.filemanager.filesystem.compressed.CompressedHelper.SEPARATOR;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_COLORED_NAVIGATION;
 
 import java.io.File;
 import java.util.ArrayList;
@@ -29,8 +29,6 @@ import java.util.Calendar;
 import java.util.List;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
 import com.amaze.filemanager.adapters.CompressedExplorerAdapter;
 import com.amaze.filemanager.adapters.data.CompressedObjectParcelable;
 import com.amaze.filemanager.asynchronous.asynctasks.DeleteTask;
@@ -38,16 +36,18 @@ import com.amaze.filemanager.asynchronous.services.ExtractService;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.showcontents.Decompressor;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.DividerItemDecoration;
 import com.amaze.filemanager.ui.views.FastScroller;
 import com.amaze.filemanager.utils.BottomBarButtonPath;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.github.junrar.Archive;
 import com.google.android.material.appbar.AppBarLayout;
 
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/DbViewerFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/DbViewerFragment.java
similarity index 95%
rename from app/src/main/java/com/amaze/filemanager/fragments/DbViewerFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/DbViewerFragment.java
index 80385c21a..db0dee4f6 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/DbViewerFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/DbViewerFragment.java
@@ -18,13 +18,13 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.DatabaseViewerActivity;
 import com.amaze.filemanager.asynchronous.asynctasks.DbViewerTask;
+import com.amaze.filemanager.ui.activities.DatabaseViewerActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.database.Cursor;
 import android.graphics.Color;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/FtpServerFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/FtpServerFragment.java
similarity index 99%
rename from app/src/main/java/com/amaze/filemanager/fragments/FtpServerFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/FtpServerFragment.java
index bac84f4ee..e5bac92e7 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/FtpServerFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/FtpServerFragment.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import static android.provider.Settings.ACTION_WIFI_SETTINGS;
 import static com.amaze.filemanager.asynchronous.services.ftp.FtpService.FtpReceiverActions.STARTED_FROM_TILE;
@@ -34,12 +34,12 @@ import org.greenrobot.eventbus.ThreadMode;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.afollestad.materialdialogs.folderselector.FolderChooserDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.services.ftp.FtpService;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.notifications.FtpNotification;
 import com.amaze.filemanager.utils.OneCharacterCharSequence;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.CryptUtil;
 import com.google.android.material.snackbar.BaseTransientBottomBar;
 import com.google.android.material.snackbar.Snackbar;
 import com.google.android.material.textfield.TextInputLayout;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/MainFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/MainFragment.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/fragments/MainFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/MainFragment.java
index 2442b2c49..18b5aac62 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/MainFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/MainFragment.java
@@ -18,11 +18,14 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.*;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_DIVIDERS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_GOBACK_BUTTON;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_DIRECTORY_SORT_MODE;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_GRID_COLUMNS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_DIVIDERS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_GOBACK_BUTTON;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_HIDDENFILES;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_THUMB;
 
 import java.io.File;
 import java.net.MalformedURLException;
@@ -33,8 +36,6 @@ import java.util.List;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.adapters.RecyclerAdapter;
 import com.amaze.filemanager.adapters.data.LayoutElementParcelable;
 import com.amaze.filemanager.asynchronous.asynctasks.DeleteTask;
@@ -49,9 +50,19 @@ import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.MediaStoreHack;
 import com.amaze.filemanager.filesystem.PasteHelper;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.EncryptDecryptUtils;
+import com.amaze.filemanager.filesystem.files.FileListSorter;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.filesystem.smbstreamer.Streamer;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
 import com.amaze.filemanager.ui.icons.MimeTypes;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.DividerItemDecoration;
 import com.amaze.filemanager.ui.views.FastScroller;
 import com.amaze.filemanager.ui.views.RoundedImageView;
@@ -61,15 +72,7 @@ import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.MainActivityHelper;
 import com.amaze.filemanager.utils.OTGUtil;
 import com.amaze.filemanager.utils.OpenMode;
-import com.amaze.filemanager.utils.SmbStreamer.Streamer;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.files.EncryptDecryptUtils;
-import com.amaze.filemanager.utils.files.FileListSorter;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.google.android.material.appbar.AppBarLayout;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/ProcessViewerFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/ProcessViewerFragment.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/fragments/ProcessViewerFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/ProcessViewerFragment.java
index 8cef7cc08..96d31c009 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/ProcessViewerFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/ProcessViewerFragment.java
@@ -18,23 +18,23 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.services.AbstractProgressiveService;
 import com.amaze.filemanager.asynchronous.services.CopyService;
 import com.amaze.filemanager.asynchronous.services.DecryptService;
 import com.amaze.filemanager.asynchronous.services.EncryptService;
 import com.amaze.filemanager.asynchronous.services.ExtractService;
 import com.amaze.filemanager.asynchronous.services.ZipService;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.DatapointParcelable;
 import com.amaze.filemanager.utils.ObtainableServiceBinder;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.github.mikephil.charting.charts.LineChart;
 import com.github.mikephil.charting.components.XAxis;
 import com.github.mikephil.charting.components.YAxis;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/SearchWorkerFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/SearchWorkerFragment.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/fragments/SearchWorkerFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/SearchWorkerFragment.java
index 36618df09..174cd4859 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/SearchWorkerFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/SearchWorkerFragment.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import com.amaze.filemanager.asynchronous.asynctasks.SearchAsyncTask;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/TabFragment.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/TabFragment.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/fragments/TabFragment.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/TabFragment.java
index 11451f454..0de50682d 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/TabFragment.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/TabFragment.java
@@ -18,18 +18,18 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments;
+package com.amaze.filemanager.ui.fragments;
 
 import java.util.ArrayList;
 import java.util.List;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.database.TabHandler;
 import com.amaze.filemanager.database.models.explorer.Tab;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.ColorCircleDrawable;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.colors.UserColorPreferences;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.views.DisablableViewPager;
 import com.amaze.filemanager.ui.views.Indicator;
 import com.amaze.filemanager.utils.MainActivityHelper;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/AdvancedSearchPref.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/AdvancedSearchPref.java
similarity index 95%
rename from app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/AdvancedSearchPref.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/AdvancedSearchPref.java
index a147a51ae..f9f2cab3e 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/AdvancedSearchPref.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/AdvancedSearchPref.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments.preference_fragments;
+package com.amaze.filemanager.ui.fragments.preference_fragments;
 
 import com.amaze.filemanager.R;
 
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/ColorPref.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/ColorPref.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/ColorPref.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/ColorPref.java
index 0c6a11f2c..28195584f 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/ColorPref.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/ColorPref.java
@@ -18,13 +18,13 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments.preference_fragments;
+package com.amaze.filemanager.ui.fragments.preference_fragments;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.afollestad.materialdialogs.Theme;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.PreferencesActivity;
 import com.amaze.filemanager.adapters.ColorAdapter;
+import com.amaze.filemanager.ui.activities.PreferencesActivity;
 import com.amaze.filemanager.ui.colors.ColorPreference;
 import com.amaze.filemanager.ui.colors.UserColorPreferences;
 import com.amaze.filemanager.ui.dialogs.ColorPickerDialog;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/FoldersPref.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/FoldersPref.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/FoldersPref.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/FoldersPref.java
index b8c1dd06d..40bd05778 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/FoldersPref.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/FoldersPref.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments.preference_fragments;
+package com.amaze.filemanager.ui.fragments.preference_fragments;
 
 import java.util.HashMap;
 import java.util.Map;
@@ -26,14 +26,14 @@ import java.util.Map;
 import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.PreferencesActivity;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.UtilsHandler;
 import com.amaze.filemanager.database.models.OperationData;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.PreferencesActivity;
 import com.amaze.filemanager.ui.views.preference.PathSwitchPreference;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.SimpleTextWatcher;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.files.FileUtils;
 import com.google.android.material.textfield.TextInputLayout;
 
 import android.content.SharedPreferences;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/PrefFrag.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/PrefFrag.java
similarity index 96%
rename from app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/PrefFrag.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/PrefFrag.java
index 13c11136d..018c72c34 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/PrefFrag.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/PrefFrag.java
@@ -18,10 +18,10 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments.preference_fragments;
+package com.amaze.filemanager.ui.fragments.preference_fragments;
 
 import static com.amaze.filemanager.R.string.feedback;
-import static com.amaze.filemanager.activities.PreferencesActivity.START_PREFERENCE;
+import static com.amaze.filemanager.ui.activities.PreferencesActivity.START_PREFERENCE;
 
 import java.io.IOException;
 import java.security.GeneralSecurityException;
@@ -30,14 +30,14 @@ import java.util.List;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.afollestad.materialdialogs.folderselector.FolderChooserDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.AboutActivity;
-import com.amaze.filemanager.activities.PreferencesActivity;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
-import com.amaze.filemanager.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.ui.activities.AboutActivity;
+import com.amaze.filemanager.ui.activities.PreferencesActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.ThemedActivity;
+import com.amaze.filemanager.ui.provider.UtilitiesProvider;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.ui.views.preference.CheckBox;
-import com.amaze.filemanager.utils.files.CryptUtil;
-import com.amaze.filemanager.utils.provider.UtilitiesProvider;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.Manifest;
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/PreferencesConstants.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/PreferencesConstants.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/PreferencesConstants.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/PreferencesConstants.java
index 32f694224..42b1e053e 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/PreferencesConstants.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/PreferencesConstants.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments.preference_fragments;
+package com.amaze.filemanager.ui.fragments.preference_fragments;
 
 /** @author Emmanuel Messulam <emmanuelbendavid@gmail.com> on 1/1/2018, at 21:16. */
 public class PreferencesConstants {
diff --git a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/QuickAccessPref.java b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/QuickAccessPref.java
similarity index 97%
rename from app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/QuickAccessPref.java
rename to app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/QuickAccessPref.java
index f75d982bc..8611c7c05 100644
--- a/app/src/main/java/com/amaze/filemanager/fragments/preference_fragments/QuickAccessPref.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/fragments/preference_fragments/QuickAccessPref.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.fragments.preference_fragments;
+package com.amaze.filemanager.ui.fragments.preference_fragments;
 
 import static java.lang.Boolean.TRUE;
 
diff --git a/app/src/main/java/com/amaze/filemanager/ui/icons/MimeTypes.java b/app/src/main/java/com/amaze/filemanager/ui/icons/MimeTypes.java
index 89c92d097..cbcee1a2c 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/icons/MimeTypes.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/icons/MimeTypes.java
@@ -24,7 +24,7 @@ import java.util.HashMap;
 import java.util.Locale;
 import java.util.regex.Pattern;
 
-import com.amaze.filemanager.utils.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 
 import android.webkit.MimeTypeMap;
 
diff --git a/app/src/main/java/com/amaze/filemanager/ui/notifications/FtpNotification.java b/app/src/main/java/com/amaze/filemanager/ui/notifications/FtpNotification.java
index 79050e85f..ce6ac47b6 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/notifications/FtpNotification.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/notifications/FtpNotification.java
@@ -23,8 +23,8 @@ package com.amaze.filemanager.ui.notifications;
 import java.net.InetAddress;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.services.ftp.FtpService;
+import com.amaze.filemanager.ui.activities.MainActivity;
 
 import android.app.Notification;
 import android.app.NotificationManager;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/provider/UtilitiesProvider.java b/app/src/main/java/com/amaze/filemanager/ui/provider/UtilitiesProvider.java
similarity index 92%
rename from app/src/main/java/com/amaze/filemanager/utils/provider/UtilitiesProvider.java
rename to app/src/main/java/com/amaze/filemanager/ui/provider/UtilitiesProvider.java
index 1bba93958..5a4053763 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/provider/UtilitiesProvider.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/provider/UtilitiesProvider.java
@@ -18,11 +18,11 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.provider;
+package com.amaze.filemanager.ui.provider;
 
 import com.amaze.filemanager.ui.colors.ColorPreferenceHelper;
-import com.amaze.filemanager.utils.theme.AppTheme;
-import com.amaze.filemanager.utils.theme.AppThemeManager;
+import com.amaze.filemanager.ui.theme.AppTheme;
+import com.amaze.filemanager.ui.theme.AppThemeManager;
 
 import android.content.Context;
 import android.content.SharedPreferences;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/theme/AppTheme.java b/app/src/main/java/com/amaze/filemanager/ui/theme/AppTheme.java
similarity index 98%
rename from app/src/main/java/com/amaze/filemanager/utils/theme/AppTheme.java
rename to app/src/main/java/com/amaze/filemanager/ui/theme/AppTheme.java
index a7d471089..8551881de 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/theme/AppTheme.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/theme/AppTheme.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.theme;
+package com.amaze.filemanager.ui.theme;
 
 import java.util.Calendar;
 
diff --git a/app/src/main/java/com/amaze/filemanager/utils/theme/AppThemeManager.java b/app/src/main/java/com/amaze/filemanager/ui/theme/AppThemeManager.java
similarity index 93%
rename from app/src/main/java/com/amaze/filemanager/utils/theme/AppThemeManager.java
rename to app/src/main/java/com/amaze/filemanager/ui/theme/AppThemeManager.java
index 20907a4e9..fb9b7e052 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/theme/AppThemeManager.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/theme/AppThemeManager.java
@@ -18,9 +18,9 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.theme;
+package com.amaze.filemanager.ui.theme;
 
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 
 import android.content.SharedPreferences;
 
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/CircleGradientDrawable.java b/app/src/main/java/com/amaze/filemanager/ui/views/CircleGradientDrawable.java
index e22969bb8..b02b73bd2 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/CircleGradientDrawable.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/CircleGradientDrawable.java
@@ -20,7 +20,7 @@
 
 package com.amaze.filemanager.ui.views;
 
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.theme.AppTheme;
 
 import android.graphics.Color;
 import android.graphics.drawable.GradientDrawable;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/ThemedImageView.java b/app/src/main/java/com/amaze/filemanager/ui/views/ThemedImageView.java
index 1d0ad016e..2e5da7f75 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/ThemedImageView.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/ThemedImageView.java
@@ -20,8 +20,8 @@
 
 package com.amaze.filemanager.ui.views;
 
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 
 import android.app.Activity;
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/ThemedTextView.java b/app/src/main/java/com/amaze/filemanager/ui/views/ThemedTextView.java
index 35240f505..d7ea60054 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/ThemedTextView.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/ThemedTextView.java
@@ -20,9 +20,9 @@
 
 package com.amaze.filemanager.ui.views;
 
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 
 import android.content.Context;
 import android.util.AttributeSet;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/appbar/AppBar.java b/app/src/main/java/com/amaze/filemanager/ui/views/appbar/AppBar.java
index 9dff48352..b39588f2d 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/appbar/AppBar.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/appbar/AppBar.java
@@ -23,8 +23,8 @@ package com.amaze.filemanager.ui.views.appbar;
 import static android.os.Build.VERSION.SDK_INT;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.google.android.material.appbar.AppBarLayout;
 
 import android.content.SharedPreferences;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/appbar/BottomBar.java b/app/src/main/java/com/amaze/filemanager/ui/views/appbar/BottomBar.java
index f2afcddac..ecde62511 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/appbar/BottomBar.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/appbar/BottomBar.java
@@ -20,21 +20,21 @@
 
 package com.amaze.filemanager.ui.views.appbar;
 
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_CHANGEPATHS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_CHANGEPATHS;
 
 import java.util.ArrayList;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.fragments.CompressedExplorerFragment;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.TabFragment;
+import com.amaze.filemanager.filesystem.files.FileUtils;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.fragments.CompressedExplorerFragment;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.TabFragment;
 import com.amaze.filemanager.utils.BottomBarButtonPath;
 import com.amaze.filemanager.utils.MainActivityHelper;
 import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.files.FileUtils;
 
 import android.animation.Animator;
 import android.animation.AnimatorListenerAdapter;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/appbar/SearchView.java b/app/src/main/java/com/amaze/filemanager/ui/views/appbar/SearchView.java
index 50507a28b..0579aa1e5 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/appbar/SearchView.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/appbar/SearchView.java
@@ -24,7 +24,7 @@ import static android.content.Context.INPUT_METHOD_SERVICE;
 import static android.os.Build.VERSION.SDK_INT;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.MainActivity;
 
 import android.animation.Animator;
 import android.animation.ObjectAnimator;
diff --git a/app/src/main/java/com/amaze/filemanager/ui/views/drawer/Drawer.java b/app/src/main/java/com/amaze/filemanager/ui/views/drawer/Drawer.java
index 3a6bdc6c6..e7dc335ab 100644
--- a/app/src/main/java/com/amaze/filemanager/ui/views/drawer/Drawer.java
+++ b/app/src/main/java/com/amaze/filemanager/ui/views/drawer/Drawer.java
@@ -21,8 +21,8 @@
 package com.amaze.filemanager.ui.views.drawer;
 
 import static android.os.Build.VERSION.SDK_INT;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_FOLDERS;
-import static com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_QUICKACCESSES;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_FOLDERS;
+import static com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants.PREFERENCE_SHOW_SIDEBAR_QUICKACCESSES;
 
 import java.io.File;
 import java.util.ArrayList;
@@ -32,20 +32,24 @@ import com.afollestad.materialdialogs.DialogAction;
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.BuildConfig;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
-import com.amaze.filemanager.activities.PreferencesActivity;
 import com.amaze.filemanager.adapters.data.StorageDirectoryParcelable;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.database.CloudHandler;
 import com.amaze.filemanager.filesystem.HybridFile;
 import com.amaze.filemanager.filesystem.RootHelper;
+import com.amaze.filemanager.filesystem.cloud.CloudUtil;
+import com.amaze.filemanager.filesystem.files.FileUtils;
 import com.amaze.filemanager.filesystem.usb.SingletonUsbOtg;
-import com.amaze.filemanager.fragments.AppsListFragment;
-import com.amaze.filemanager.fragments.CloudSheetFragment;
-import com.amaze.filemanager.fragments.FtpServerFragment;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
-import com.amaze.filemanager.fragments.preference_fragments.QuickAccessPref;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.activities.PreferencesActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.fragments.AppsListFragment;
+import com.amaze.filemanager.ui.fragments.CloudSheetFragment;
+import com.amaze.filemanager.ui.fragments.FtpServerFragment;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.ui.fragments.preference_fragments.QuickAccessPref;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.BookSorter;
 import com.amaze.filemanager.utils.DataUtils;
 import com.amaze.filemanager.utils.OTGUtil;
@@ -53,10 +57,6 @@ import com.amaze.filemanager.utils.OpenMode;
 import com.amaze.filemanager.utils.ScreenUtils;
 import com.amaze.filemanager.utils.TinyDB;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.application.AppConfig;
-import com.amaze.filemanager.utils.cloud.CloudUtil;
-import com.amaze.filemanager.utils.files.FileUtils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.android.volley.VolleyError;
 import com.android.volley.toolbox.ImageLoader;
 import com.cloudrail.si.interfaces.CloudStorage;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/DataUtils.java b/app/src/main/java/com/amaze/filemanager/utils/DataUtils.java
index 53946f0f8..33dc11d1b 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/DataUtils.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/DataUtils.java
@@ -26,8 +26,8 @@ import java.util.HashMap;
 import java.util.LinkedList;
 import java.util.List;
 
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.ui.views.drawer.MenuMetadata;
-import com.amaze.filemanager.utils.application.AppConfig;
 import com.cloudrail.si.interfaces.CloudStorage;
 import com.cloudrail.si.services.Box;
 import com.cloudrail.si.services.Dropbox;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/DatapointParcelable.java b/app/src/main/java/com/amaze/filemanager/utils/DatapointParcelable.java
index 277e1996d..bb6df5fcf 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/DatapointParcelable.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/DatapointParcelable.java
@@ -21,7 +21,7 @@
 package com.amaze.filemanager.utils;
 
 import com.amaze.filemanager.asynchronous.services.AbstractProgressiveService;
-import com.amaze.filemanager.fragments.ProcessViewerFragment;
+import com.amaze.filemanager.ui.fragments.ProcessViewerFragment;
 
 import android.os.Parcel;
 import android.os.Parcelable;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/FingerprintHandler.java b/app/src/main/java/com/amaze/filemanager/utils/FingerprintHandler.java
index 79d431e2e..824a94562 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/FingerprintHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/FingerprintHandler.java
@@ -21,7 +21,7 @@
 package com.amaze.filemanager.utils;
 
 import com.afollestad.materialdialogs.MaterialDialog;
-import com.amaze.filemanager.utils.files.EncryptDecryptUtils;
+import com.amaze.filemanager.filesystem.files.EncryptDecryptUtils;
 
 import android.Manifest;
 import android.content.Context;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/MainActivityHelper.java b/app/src/main/java/com/amaze/filemanager/utils/MainActivityHelper.java
index ee7500aa8..072deae52 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/MainActivityHelper.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/MainActivityHelper.java
@@ -25,7 +25,6 @@ import java.util.ArrayList;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.asynchronous.asynctasks.DeleteTask;
 import com.amaze.filemanager.asynchronous.management.ServiceWatcherUtil;
 import com.amaze.filemanager.asynchronous.services.ZipService;
@@ -38,13 +37,14 @@ import com.amaze.filemanager.filesystem.HybridFileParcelable;
 import com.amaze.filemanager.filesystem.Operations;
 import com.amaze.filemanager.filesystem.compressed.CompressedHelper;
 import com.amaze.filemanager.filesystem.compressed.showcontents.Decompressor;
-import com.amaze.filemanager.fragments.MainFragment;
-import com.amaze.filemanager.fragments.SearchWorkerFragment;
-import com.amaze.filemanager.fragments.TabFragment;
-import com.amaze.filemanager.fragments.preference_fragments.PreferencesConstants;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.ui.dialogs.GeneralDialogCreation;
+import com.amaze.filemanager.ui.fragments.MainFragment;
+import com.amaze.filemanager.ui.fragments.SearchWorkerFragment;
+import com.amaze.filemanager.ui.fragments.TabFragment;
+import com.amaze.filemanager.ui.fragments.preference_fragments.PreferencesConstants;
 import com.amaze.filemanager.ui.views.WarnableTextInputValidator;
-import com.amaze.filemanager.utils.files.CryptUtil;
 import com.leinardi.android.speeddial.SpeedDialView;
 
 import android.app.Activity;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/ProgressHandler.java b/app/src/main/java/com/amaze/filemanager/utils/ProgressHandler.java
index cb2e4ba42..80261f2a6 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/ProgressHandler.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/ProgressHandler.java
@@ -20,7 +20,7 @@
 
 package com.amaze.filemanager.utils;
 
-import com.amaze.filemanager.fragments.ProcessViewerFragment;
+import com.amaze.filemanager.ui.fragments.ProcessViewerFragment;
 
 /**
  * Created by arpitkh96 on 18/8/16.
diff --git a/app/src/main/java/com/amaze/filemanager/utils/SmbUtil.java b/app/src/main/java/com/amaze/filemanager/utils/SmbUtil.java
index db56cc698..f78183872 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/SmbUtil.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/SmbUtil.java
@@ -23,7 +23,7 @@ package com.amaze.filemanager.utils;
 import java.io.IOException;
 import java.security.GeneralSecurityException;
 
-import com.amaze.filemanager.utils.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 
 import android.content.Context;
 import android.text.TextUtils;
diff --git a/app/src/main/java/com/amaze/filemanager/utils/Utils.java b/app/src/main/java/com/amaze/filemanager/utils/Utils.java
index 4ec4cb5aa..d2266bd3c 100644
--- a/app/src/main/java/com/amaze/filemanager/utils/Utils.java
+++ b/app/src/main/java/com/amaze/filemanager/utils/Utils.java
@@ -26,9 +26,9 @@ import java.util.Collection;
 import java.util.concurrent.TimeUnit;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.filesystem.HybridFileParcelable;
-import com.amaze.filemanager.utils.theme.AppTheme;
+import com.amaze.filemanager.ui.activities.MainActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.google.android.material.snackbar.Snackbar;
 import com.leinardi.android.speeddial.SpeedDialView;
 import com.leinardi.android.speeddial.UiUtils;
diff --git a/app/src/play/java/com/amaze/filemanager/activities/AboutActivity.java b/app/src/play/java/com/amaze/filemanager/activities/AboutActivity.java
index 5d61a210e..58cdee33a 100644
--- a/app/src/play/java/com/amaze/filemanager/activities/AboutActivity.java
+++ b/app/src/play/java/com/amaze/filemanager/activities/AboutActivity.java
@@ -18,13 +18,13 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
+import com.amaze.filemanager.ui.theme.AppTheme;
 import com.amaze.filemanager.utils.Billing;
 import com.amaze.filemanager.utils.Utils;
-import com.amaze.filemanager.utils.theme.AppTheme;
 import com.google.android.material.appbar.AppBarLayout;
 import com.google.android.material.appbar.CollapsingToolbarLayout;
 import com.google.android.material.snackbar.Snackbar;
diff --git a/app/src/play/java/com/amaze/filemanager/utils/Billing.java b/app/src/play/java/com/amaze/filemanager/utils/Billing.java
index 6e7bf8cd3..d7e910a02 100644
--- a/app/src/play/java/com/amaze/filemanager/utils/Billing.java
+++ b/app/src/play/java/com/amaze/filemanager/utils/Billing.java
@@ -25,8 +25,8 @@ import java.util.List;
 
 import com.afollestad.materialdialogs.MaterialDialog;
 import com.amaze.filemanager.R;
-import com.amaze.filemanager.activities.superclasses.BasicActivity;
 import com.amaze.filemanager.adapters.holders.DonationViewHolder;
+import com.amaze.filemanager.ui.activities.superclasses.BasicActivity;
 import com.android.billingclient.api.BillingClient;
 import com.android.billingclient.api.BillingClientStateListener;
 import com.android.billingclient.api.BillingFlowParams;
diff --git a/app/src/test/java/com/amaze/filemanager/filesystem/RootHelperTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/RootHelperTest.java
index da579c5f5..7a2f1a172 100644
--- a/app/src/test/java/com/amaze/filemanager/filesystem/RootHelperTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/RootHelperTest.java
@@ -39,9 +39,9 @@ import org.robolectric.RobolectricTestRunner;
 import org.robolectric.annotation.Config;
 
 import com.amaze.filemanager.BuildConfig;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.shadows.ShadowMultiDex;
 import com.amaze.filemanager.test.ShadowShellInteractive;
+import com.amaze.filemanager.ui.activities.MainActivity;
 
 import android.os.Environment;
 
diff --git a/app/src/test/java/com/amaze/filemanager/utils/cloud/CloudStreamSourceTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/cloud/CloudStreamSourceTest.java
similarity index 99%
rename from app/src/test/java/com/amaze/filemanager/utils/cloud/CloudStreamSourceTest.java
rename to app/src/test/java/com/amaze/filemanager/filesystem/cloud/CloudStreamSourceTest.java
index 0e758b8fa..c5a10ee96 100644
--- a/app/src/test/java/com/amaze/filemanager/utils/cloud/CloudStreamSourceTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/cloud/CloudStreamSourceTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.cloud;
+package com.amaze.filemanager.filesystem.cloud;
 
 import static org.junit.Assert.assertArrayEquals;
 import static org.junit.Assert.assertEquals;
diff --git a/app/src/test/java/com/amaze/filemanager/utils/files/FileListSorterTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/files/FileListSorterTest.java
similarity index 99%
rename from app/src/test/java/com/amaze/filemanager/utils/files/FileListSorterTest.java
rename to app/src/test/java/com/amaze/filemanager/filesystem/files/FileListSorterTest.java
index b37b2d095..8cf0efa21 100644
--- a/app/src/test/java/com/amaze/filemanager/utils/files/FileListSorterTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/files/FileListSorterTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import static org.hamcrest.Matchers.greaterThan;
 import static org.hamcrest.Matchers.lessThan;
diff --git a/app/src/test/java/com/amaze/filemanager/utils/files/GenericCopyUtilTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/files/GenericCopyUtilTest.java
similarity index 97%
rename from app/src/test/java/com/amaze/filemanager/utils/files/GenericCopyUtilTest.java
rename to app/src/test/java/com/amaze/filemanager/filesystem/files/GenericCopyUtilTest.java
index 8a9d19236..36983ccae 100644
--- a/app/src/test/java/com/amaze/filemanager/utils/files/GenericCopyUtilTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/files/GenericCopyUtilTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.files;
+package com.amaze.filemanager.filesystem.files;
 
 import static org.junit.Assert.assertArrayEquals;
 import static org.junit.Assert.assertEquals;
@@ -41,8 +41,8 @@ import org.junit.experimental.theories.Theory;
 import org.junit.runner.RunWith;
 import org.robolectric.RuntimeEnvironment;
 
+import com.amaze.filemanager.test.DummyFileGenerator;
 import com.amaze.filemanager.utils.ProgressHandler;
-import com.amaze.filemanager.utils.test.DummyFileGenerator;
 
 @RunWith(Theories.class)
 public class GenericCopyUtilTest {
diff --git a/app/src/test/java/com/amaze/filemanager/utils/SmbStreamer/StreamSourceTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/smbstreamer/StreamSourceTest.java
similarity index 99%
rename from app/src/test/java/com/amaze/filemanager/utils/SmbStreamer/StreamSourceTest.java
rename to app/src/test/java/com/amaze/filemanager/filesystem/smbstreamer/StreamSourceTest.java
index d1555aff3..ddbcfc71c 100644
--- a/app/src/test/java/com/amaze/filemanager/utils/SmbStreamer/StreamSourceTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/smbstreamer/StreamSourceTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.SmbStreamer;
+package com.amaze.filemanager.filesystem.smbstreamer;
 
 import static org.junit.Assert.assertArrayEquals;
 import static org.junit.Assert.assertEquals;
diff --git a/app/src/test/java/com/amaze/filemanager/filesystem/usb/SingletonUsbOtgTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/usb/SingletonUsbOtgTest.java
index d113b8ebb..1f2694a00 100644
--- a/app/src/test/java/com/amaze/filemanager/filesystem/usb/SingletonUsbOtgTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/usb/SingletonUsbOtgTest.java
@@ -32,8 +32,8 @@ import org.robolectric.android.controller.ActivityController;
 import org.robolectric.annotation.Config;
 
 import com.amaze.filemanager.BuildConfig;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.shadows.ShadowMultiDex;
+import com.amaze.filemanager.ui.activities.MainActivity;
 
 import android.net.Uri;
 
diff --git a/app/src/test/java/com/amaze/filemanager/filesystem/usb/UsbOtgTest.java b/app/src/test/java/com/amaze/filemanager/filesystem/usb/UsbOtgTest.java
index 6eefc69b3..9d7ae3d5e 100644
--- a/app/src/test/java/com/amaze/filemanager/filesystem/usb/UsbOtgTest.java
+++ b/app/src/test/java/com/amaze/filemanager/filesystem/usb/UsbOtgTest.java
@@ -34,9 +34,9 @@ import org.robolectric.android.controller.ActivityController;
 import org.robolectric.annotation.Config;
 
 import com.amaze.filemanager.BuildConfig;
-import com.amaze.filemanager.activities.MainActivity;
 import com.amaze.filemanager.adapters.data.StorageDirectoryParcelable;
 import com.amaze.filemanager.shadows.ShadowMultiDex;
+import com.amaze.filemanager.ui.activities.MainActivity;
 import com.amaze.filemanager.utils.OTGUtil;
 
 import android.text.TextUtils;
diff --git a/app/src/test/java/com/amaze/filemanager/test/DummyFileGenerator.java b/app/src/test/java/com/amaze/filemanager/test/DummyFileGenerator.java
new file mode 100644
index 000000000..df1fb6060
--- /dev/null
+++ b/app/src/test/java/com/amaze/filemanager/test/DummyFileGenerator.java
@@ -0,0 +1,78 @@
+/*
+ * Copyright (C) 2014-2020 Arpit Khurana <arpitkh96@gmail.com>, Vishal Nehra <vishalmeham2@gmail.com>,
+ * Emmanuel Messulam<emmanuelbendavid@gmail.com>, Raymond Lai <airwave209gt at gmail.com> and Contributors.
+ *
+ * This file is part of Amaze File Manager.
+ *
+ * Amaze File Manager is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+
+package com.amaze.filemanager.test;
+
+import static com.amaze.filemanager.filesystem.files.GenericCopyUtil.DEFAULT_BUFFER_SIZE;
+
+import java.io.File;
+import java.io.FileOutputStream;
+import java.io.IOException;
+import java.security.DigestOutputStream;
+import java.security.MessageDigest;
+import java.security.NoSuchAlgorithmException;
+import java.security.SecureRandom;
+import java.util.Random;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.RestrictTo;
+import androidx.annotation.VisibleForTesting;
+
+/**
+ * Generate file of specified size using randomly generated bytes.
+ *
+ * <p>Because of the need that both Espresso and Robolectric tests depends on it, it needs to be
+ * placed at the main source tree, and hide it using {@link VisibleForTesting}.
+ */
+@VisibleForTesting(otherwise = VisibleForTesting.NONE)
+@RestrictTo(RestrictTo.Scope.TESTS)
+public abstract class DummyFileGenerator {
+
+  /**
+   * @param destFile File to be generated with random bytes
+   * @param size file size
+   * @return SHA1 checksum of the generated file, as byte array
+   * @throws IOException in case any I/O error occurred
+   */
+  @VisibleForTesting(otherwise = VisibleForTesting.NONE)
+  @RestrictTo(RestrictTo.Scope.TESTS)
+  public static byte[] createFile(@NonNull File destFile, int size) throws IOException {
+    Random rand = new SecureRandom();
+    MessageDigest md = null;
+    try {
+      md = MessageDigest.getInstance("SHA-1");
+    } catch (NoSuchAlgorithmException shouldNeverHappen) {
+      throw new IOException("SHA-1 implementation not found");
+    }
+
+    FileOutputStream out = new FileOutputStream(destFile);
+    DigestOutputStream dout = new DigestOutputStream(out, md);
+    int count = 0;
+    for (int i = size; i >= 0; i -= DEFAULT_BUFFER_SIZE, count += DEFAULT_BUFFER_SIZE) {
+      byte[] bytes = new byte[i > DEFAULT_BUFFER_SIZE ? DEFAULT_BUFFER_SIZE : i];
+      rand.nextBytes(bytes);
+      dout.write(bytes);
+    }
+    dout.flush();
+    dout.close();
+
+    return md.digest();
+  }
+}
diff --git a/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtil.java b/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtil.java
index 80dbc5360..a0fc94784 100644
--- a/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtil.java
+++ b/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtil.java
@@ -31,7 +31,7 @@ import javax.crypto.spec.GCMParameterSpec;
 import org.robolectric.annotation.Implementation;
 import org.robolectric.annotation.Implements;
 
-import com.amaze.filemanager.utils.files.CryptUtil;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 
 import android.content.Context;
 import android.util.Base64;
diff --git a/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtilTest.java b/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtilTest.java
index 239536eaa..9fcf0f6d3 100644
--- a/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtilTest.java
+++ b/app/src/test/java/com/amaze/filemanager/test/ShadowCryptUtilTest.java
@@ -35,9 +35,9 @@ import com.amaze.filemanager.BuildConfig;
 import com.amaze.filemanager.database.UtilitiesDatabase;
 import com.amaze.filemanager.database.UtilsHandler;
 import com.amaze.filemanager.database.models.OperationData;
+import com.amaze.filemanager.filesystem.files.CryptUtil;
 import com.amaze.filemanager.filesystem.ssh.SshClientUtils;
 import com.amaze.filemanager.shadows.ShadowMultiDex;
-import com.amaze.filemanager.utils.files.CryptUtil;
 
 @RunWith(RobolectricTestRunner.class)
 @Config(
diff --git a/app/src/test/java/com/amaze/filemanager/test/TestUtils.java b/app/src/test/java/com/amaze/filemanager/test/TestUtils.java
index 88dd8ab2b..1cf11ec00 100644
--- a/app/src/test/java/com/amaze/filemanager/test/TestUtils.java
+++ b/app/src/test/java/com/amaze/filemanager/test/TestUtils.java
@@ -26,7 +26,7 @@ import java.lang.reflect.Field;
 
 import org.robolectric.util.Scheduler;
 
-import com.amaze.filemanager.utils.application.AppConfig;
+import com.amaze.filemanager.application.AppConfig;
 
 import android.os.Handler;
 
diff --git a/app/src/test/java/com/amaze/filemanager/activities/MainActivityTest.java b/app/src/test/java/com/amaze/filemanager/ui/activities/MainActivityTest.java
similarity index 97%
rename from app/src/test/java/com/amaze/filemanager/activities/MainActivityTest.java
rename to app/src/test/java/com/amaze/filemanager/ui/activities/MainActivityTest.java
index 7b707b647..f88a610ad 100644
--- a/app/src/test/java/com/amaze/filemanager/activities/MainActivityTest.java
+++ b/app/src/test/java/com/amaze/filemanager/ui/activities/MainActivityTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import org.junit.Ignore;
 import org.junit.Test;
diff --git a/app/src/test/java/com/amaze/filemanager/activities/TextEditorActivityTest.java b/app/src/test/java/com/amaze/filemanager/ui/activities/TextEditorActivityTest.java
similarity index 97%
rename from app/src/test/java/com/amaze/filemanager/activities/TextEditorActivityTest.java
rename to app/src/test/java/com/amaze/filemanager/ui/activities/TextEditorActivityTest.java
index cd32d4883..81fc20248 100644
--- a/app/src/test/java/com/amaze/filemanager/activities/TextEditorActivityTest.java
+++ b/app/src/test/java/com/amaze/filemanager/ui/activities/TextEditorActivityTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.activities;
+package com.amaze.filemanager.ui.activities;
 
 import static org.hamcrest.Matchers.is;
 import static org.junit.Assert.assertEquals;
@@ -44,8 +44,8 @@ import org.robolectric.shadows.ShadowEnvironment;
 
 import com.amaze.filemanager.BuildConfig;
 import com.amaze.filemanager.R;
+import com.amaze.filemanager.application.AppConfig;
 import com.amaze.filemanager.shadows.ShadowMultiDex;
-import com.amaze.filemanager.utils.application.AppConfig;
 
 import android.content.ContentResolver;
 import android.content.Context;
diff --git a/app/src/test/java/com/amaze/filemanager/utils/theme/AppThemeTest.java b/app/src/test/java/com/amaze/filemanager/ui/theme/AppThemeTest.java
similarity index 98%
rename from app/src/test/java/com/amaze/filemanager/utils/theme/AppThemeTest.java
rename to app/src/test/java/com/amaze/filemanager/ui/theme/AppThemeTest.java
index b69ccfbd3..dbad44a15 100644
--- a/app/src/test/java/com/amaze/filemanager/utils/theme/AppThemeTest.java
+++ b/app/src/test/java/com/amaze/filemanager/ui/theme/AppThemeTest.java
@@ -18,7 +18,7 @@
  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  */
 
-package com.amaze.filemanager.utils.theme;
+package com.amaze.filemanager.ui.theme;
 
 import static org.junit.Assert.*;
 
